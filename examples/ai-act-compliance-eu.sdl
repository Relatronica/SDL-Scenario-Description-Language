// ============================================================
// SDL Example: EU AI Act â€” Compliance Risk Trajectory
// ============================================================
// Models the phased enforcement of the EU AI Act (2025-2035)
// and its cascading effects on enterprise compliance costs,
// regulatory penalties, market consolidation, and public trust.
//
// Inspired by the Segno knowledge base (Art. 5, 6, 13, 50)
// and real enforcement timelines.
// ============================================================

scenario "EU AI Act â€” Rischio Compliance" {
  timeframe: 2025 -> 2035
  resolution: yearly
  confidence: 0.35
  author: "Relatronica"
  version: "1.0"
  description: "Modella l'impatto dell'AI Act europeo su aziende, rischi
                sanzionatori, costi di conformitÃ  e fiducia pubblica.
                Basato sulla knowledge base Segno (GDPR + AI Act)."
  tags: ["ai-act", "gdpr", "compliance", "regolamentazione", "europa"]
  subtitle: "Costi, sanzioni e fiducia nell'era dell'AI Act"
  category: politica
  icon: "âš–ï¸"
  color: "#6366f1"
  difficulty: avanzato

  // â”€â”€ Assumptions â”€â”€

  assumption ai_act_enforcement_pace {
    value: 0.70
    source: "EU AI Act enforcement timeline â€” Art. 5 prohibitions (Feb 2025), 
             Art. 6 high-risk (Aug 2025), full application (Aug 2026)"
    confidence: 0.65
    uncertainty: beta(5, 2)
  }

  assumption gdpr_enforcement_maturity {
    value: 0.80
    source: "EDPB annual report 2024 â€” 2100+ enforcement actions since 2018"
    confidence: 0.75
    uncertainty: beta(7, 2)
  }

  assumption ai_adoption_enterprise {
    value: 0.42
    source: "McKinsey Global AI Survey 2025 â€” 42% of enterprises use AI in production"
    confidence: 0.50
    uncertainty: normal(Â±15%)
  }

  assumption high_risk_system_share {
    value: 0.28
    source: "AI Act Annex III coverage â€” est. 25-30% of deployed AI systems"
    confidence: 0.40
    uncertainty: beta(3, 7)
  }

  // â”€â”€ Parameters â”€â”€

  parameter enforcement_intensity {
    value: 0.60
    range: [0.2, 1.0]
    label: "IntensitÃ  enforcement"
    unit: "indice"
    step: 0.05
    source: "Stima basata su enforcement GDPR (2018-2024)"
    format: "{value}"
    control: slider
    description: "Quanto aggressivamente le autoritÃ  applicano le sanzioni (0=morbido, 1=massimo rigore)"
  }

  parameter enterprise_readiness {
    value: 0.35
    range: [0.1, 0.8]
    label: "Prontezza aziende"
    unit: "indice"
    step: 0.05
    source: "Survey Deloitte AI Governance 2025"
    format: "{value}"
    control: slider
    description: "Livello medio di preparazione delle imprese UE all'AI Act"
  }

  parameter biometric_system_prevalence {
    value: 0.15
    range: [0.05, 0.40]
    label: "Diffusione sistemi biometrici"
    unit: "indice"
    step: 0.01
    source: "EU biometric AI market report 2025"
    format: "{value}"
    control: slider
    description: "Quota di aziende che usano identificazione biometrica AI (Art. 5/6)"
  }

  // â”€â”€ Variables â”€â”€

  variable compliance_cost_eu {
    description: "Costo medio annuo di compliance AI Act per azienda (>250 dip.)"
    unit: "milioni EUR"
    label: "Costo compliance"
    icon: "ðŸ’¶"
    color: "#f59e0b"

    2025: 0.8
    2026: 2.5
    2027: 4.2
    2028: 5.8
    2029: 6.5
    2031: 7.2
    2033: 6.8
    2035: 6.0

    depends_on: ai_act_enforcement_pace, enterprise_readiness
    model: logistic(k=0.6, midpoint=2028)
    uncertainty: lognormal(1.2, 0.4)
    interpolation: spline
  }

  variable enterprises_compliant {
    description: "Percentuale di imprese UE conformi all'AI Act"
    unit: "percentuale"
    label: "Aziende conformi"
    icon: "âœ“"
    color: "#10b981"

    2025: 8
    2026: 15
    2027: 28
    2028: 42
    2029: 55
    2031: 72
    2033: 82
    2035: 88

    depends_on: ai_act_enforcement_pace, enterprise_readiness, compliance_cost_eu
    model: sigmoid(k=0.4, midpoint=2029)
    uncertainty: normal(Â±12%)
    interpolation: spline
  }

  variable penalties_issued {
    description: "Sanzioni AI Act emesse (cumulativo UE)"
    unit: "numero"
    label: "Sanzioni emesse"
    icon: "âš "
    color: "#ef4444"

    2025: 0
    2026: 5
    2027: 35
    2028: 120
    2029: 280
    2031: 550
    2033: 780
    2035: 950

    depends_on: ai_act_enforcement_pace, enterprises_compliant, enforcement_intensity
    uncertainty: lognormal(4.5, 0.5)
    interpolation: spline
  }

  variable penalty_volume_eur {
    description: "Volume totale sanzioni AI Act (cumulativo)"
    unit: "milioni EUR"
    label: "Volume sanzioni"
    icon: "ðŸ’°"
    color: "#dc2626"

    2025: 0
    2026: 2
    2027: 45
    2028: 180
    2029: 520
    2031: 1200
    2033: 2100
    2035: 3200

    depends_on: penalties_issued, enforcement_intensity
    uncertainty: lognormal(5, 0.6)
    interpolation: spline
  }

  variable prohibited_systems_removed {
    description: "Sistemi AI proibiti (Art. 5) rimossi dal mercato UE"
    unit: "sistemi"
    label: "Sistemi vietati rimossi"
    icon: "ðŸš«"
    color: "#7c3aed"

    2025: 12
    2026: 85
    2027: 240
    2028: 420
    2029: 580
    2031: 750
    2033: 850
    2035: 900

    depends_on: ai_act_enforcement_pace, biometric_system_prevalence
    uncertainty: normal(Â±25%)
    interpolation: spline
  }

  variable public_trust_ai_eu {
    description: "Fiducia pubblica nei sistemi AI nell'UE (0-100)"
    unit: "indice"
    label: "Fiducia pubblica AI"
    icon: "ðŸ¤"
    color: "#3b82f6"

    2025: 38
    2026: 40
    2027: 43
    2028: 47
    2029: 52
    2031: 58
    2033: 63
    2035: 68

    depends_on: enterprises_compliant, penalties_issued, prohibited_systems_removed
    model: sigmoid(k=0.3, midpoint=2030)
    uncertainty: beta(4, 5)
    interpolation: spline
  }

  variable market_exit_sme {
    description: "PMI che abbandonano il mercato AI per costi compliance"
    unit: "percentuale"
    label: "PMI uscite dal mercato"
    icon: "ðŸ“‰"
    color: "#78716c"

    2025: 2
    2026: 5
    2027: 9
    2028: 14
    2029: 18
    2031: 22
    2033: 20
    2035: 16

    depends_on: compliance_cost_eu, enterprise_readiness
    uncertainty: normal(Â±20%)
    interpolation: spline
  }

  // â”€â”€ Branches â”€â”€

  branch "Enforcement Aggressivo" when enforcement_intensity > 0.8 {
    probability: 0.20

    variable penalties_issued {
      2028: 250
      2029: 600
      2031: 1200
      2033: 1800
      2035: 2200
      uncertainty: lognormal(5, 0.4)
    }

    variable penalty_volume_eur {
      2028: 400
      2029: 1200
      2031: 3500
      2033: 6000
      2035: 9500
      uncertainty: lognormal(6, 0.5)
    }

    variable enterprises_compliant {
      2029: 65
      2031: 85
      2033: 92
      2035: 96
      uncertainty: normal(Â±8%)
    }

    variable market_exit_sme {
      2028: 22
      2029: 30
      2031: 35
      2033: 28
      2035: 22
      uncertainty: normal(Â±15%)
    }
  }

  branch "Enforcement Debole" when enforcement_intensity < 0.3 {
    probability: 0.15

    variable enterprises_compliant {
      2029: 30
      2031: 42
      2033: 55
      2035: 62
      uncertainty: normal(Â±15%)
    }

    variable public_trust_ai_eu {
      2029: 42
      2031: 40
      2033: 38
      2035: 35
      uncertainty: beta(3, 6)
    }

    variable penalties_issued {
      2029: 80
      2031: 150
      2033: 220
      2035: 280
      uncertainty: lognormal(3.5, 0.5)
    }
  }

  branch "Crisi Biometrica" when biometric_system_prevalence > 0.30 {
    probability: 0.12

    variable prohibited_systems_removed {
      2028: 800
      2029: 1500
      2031: 2500
      2033: 3000
      2035: 3200
      uncertainty: normal(Â±30%)
    }

    variable public_trust_ai_eu {
      2028: 35
      2029: 30
      2031: 28
      2033: 35
      2035: 42
      uncertainty: beta(3, 7)
    }
  }

  // â”€â”€ Impacts â”€â”€

  impact compliance_gap {
    description: "Gap di conformitÃ : aziende non ancora conformi"
    unit: "percentuale"
    label: "Gap conformitÃ "
    icon: "âš¡"
    color: "#f97316"
    derives_from: enterprises_compliant
    formula: 100 - enterprises_compliant
  }

  impact costo_totale_eu {
    description: "Costo compliance totale stimato per l'ecosistema UE (basato su ~50k aziende >250 dip.)"
    unit: "miliardi EUR"
    label: "Costo totale UE"
    icon: "ðŸ’¶"
    color: "#eab308"
    derives_from: compliance_cost_eu
    formula: compliance_cost_eu * 50000 / 1000
  }

  impact bilancio_fiducia {
    description: "Variazione fiducia pubblica rispetto al 2025"
    unit: "punti"
    label: "Î” fiducia pubblica"
    icon: "ðŸ“Š"
    color: "#2563eb"
    derives_from: public_trust_ai_eu
    formula: public_trust_ai_eu - 38
  }

  // â”€â”€ Simulation â”€â”€

  simulate {
    runs: 10000
    method: monte_carlo
    seed: 2026
    output: distribution
    percentiles: [5, 10, 25, 50, 75, 90, 95]
    convergence: 0.01
    timeout: 30s
  }
}
