const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CausalGraph-Bv6fX1_R.js","assets/CausalGraph-Fd0xVSp_.css"])))=>i.map(i=>d[i]);
var W4=Object.defineProperty;var X4=(t,e,n)=>e in t?W4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Tt=(t,e,n)=>X4(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Mf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Me(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $A={exports:{}},cm={},kA={exports:{}},pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lf=Symbol.for("react.element"),F4=Symbol.for("react.portal"),V4=Symbol.for("react.fragment"),U4=Symbol.for("react.strict_mode"),q4=Symbol.for("react.profiler"),Y4=Symbol.for("react.provider"),G4=Symbol.for("react.context"),H4=Symbol.for("react.forward_ref"),K4=Symbol.for("react.suspense"),J4=Symbol.for("react.memo"),ez=Symbol.for("react.lazy"),_w=Symbol.iterator;function tz(t){return t===null||typeof t!="object"?null:(t=_w&&t[_w]||t["@@iterator"],typeof t=="function"?t:null)}var PA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},AA=Object.assign,CA={};function dl(t,e,n){this.props=t,this.context=e,this.refs=CA,this.updater=n||PA}dl.prototype.isReactComponent={};dl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};dl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function EA(){}EA.prototype=dl.prototype;function Qb(t,e,n){this.props=t,this.context=e,this.refs=CA,this.updater=n||PA}var zb=Qb.prototype=new EA;zb.constructor=Qb;AA(zb,dl.prototype);zb.isPureReactComponent=!0;var $w=Array.isArray,TA=Object.prototype.hasOwnProperty,Ib={current:null},MA={key:!0,ref:!0,__self:!0,__source:!0};function jA(t,e,n){var r,i={},a=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)TA.call(e,r)&&!MA.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:lf,type:t,key:a,ref:o,props:i,_owner:Ib.current}}function nz(t,e){return{$$typeof:lf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Rb(t){return typeof t=="object"&&t!==null&&t.$$typeof===lf}function rz(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var kw=/\/+/g;function Mg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?rz(""+t.key):e.toString(36)}function Dh(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case lf:case F4:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Mg(o,0):r,$w(i)?(n="",t!=null&&(n=t.replace(kw,"$&/")+"/"),Dh(i,e,n,"",function(c){return c})):i!=null&&(Rb(i)&&(i=nz(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(kw,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",$w(t))for(var s=0;s<t.length;s++){a=t[s];var l=r+Mg(a,s);o+=Dh(a,e,n,l,i)}else if(l=tz(t),typeof l=="function")for(t=l.call(t),s=0;!(a=t.next()).done;)a=a.value,l=r+Mg(a,s++),o+=Dh(a,e,n,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function jf(t,e,n){if(t==null)return t;var r=[],i=0;return Dh(t,r,"","",function(a){return e.call(n,a,i++)}),r}function iz(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var on={current:null},Nh={transition:null},az={ReactCurrentDispatcher:on,ReactCurrentBatchConfig:Nh,ReactCurrentOwner:Ib};function QA(){throw Error("act(...) is not supported in production builds of React.")}pe.Children={map:jf,forEach:function(t,e,n){jf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return jf(t,function(){e++}),e},toArray:function(t){return jf(t,function(e){return e})||[]},only:function(t){if(!Rb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};pe.Component=dl;pe.Fragment=V4;pe.Profiler=q4;pe.PureComponent=Qb;pe.StrictMode=U4;pe.Suspense=K4;pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=az;pe.act=QA;pe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=AA({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=Ib.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)TA.call(e,l)&&!MA.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:lf,type:t.type,key:i,ref:a,props:r,_owner:o}};pe.createContext=function(t){return t={$$typeof:G4,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Y4,_context:t},t.Consumer=t};pe.createElement=jA;pe.createFactory=function(t){var e=jA.bind(null,t);return e.type=t,e};pe.createRef=function(){return{current:null}};pe.forwardRef=function(t){return{$$typeof:H4,render:t}};pe.isValidElement=Rb;pe.lazy=function(t){return{$$typeof:ez,_payload:{_status:-1,_result:t},_init:iz}};pe.memo=function(t,e){return{$$typeof:J4,type:t,compare:e===void 0?null:e}};pe.startTransition=function(t){var e=Nh.transition;Nh.transition={};try{t()}finally{Nh.transition=e}};pe.unstable_act=QA;pe.useCallback=function(t,e){return on.current.useCallback(t,e)};pe.useContext=function(t){return on.current.useContext(t)};pe.useDebugValue=function(){};pe.useDeferredValue=function(t){return on.current.useDeferredValue(t)};pe.useEffect=function(t,e){return on.current.useEffect(t,e)};pe.useId=function(){return on.current.useId()};pe.useImperativeHandle=function(t,e,n){return on.current.useImperativeHandle(t,e,n)};pe.useInsertionEffect=function(t,e){return on.current.useInsertionEffect(t,e)};pe.useLayoutEffect=function(t,e){return on.current.useLayoutEffect(t,e)};pe.useMemo=function(t,e){return on.current.useMemo(t,e)};pe.useReducer=function(t,e,n){return on.current.useReducer(t,e,n)};pe.useRef=function(t){return on.current.useRef(t)};pe.useState=function(t){return on.current.useState(t)};pe.useSyncExternalStore=function(t,e,n){return on.current.useSyncExternalStore(t,e,n)};pe.useTransition=function(){return on.current.useTransition()};pe.version="18.3.1";kA.exports=pe;var D=kA.exports;const E=Me(D);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oz=D,sz=Symbol.for("react.element"),lz=Symbol.for("react.fragment"),cz=Object.prototype.hasOwnProperty,uz=oz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fz={key:!0,ref:!0,__self:!0,__source:!0};function zA(t,e,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)cz.call(e,r)&&!fz.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:sz,type:t,key:a,ref:o,props:i,_owner:uz.current}}cm.Fragment=lz;cm.jsx=zA;cm.jsxs=zA;$A.exports=cm;var b=$A.exports,dv={},IA={exports:{}},Zn={},RA={exports:{}},DA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,R){var B=M.length;M.push(R);e:for(;0<B;){var F=B-1>>>1,X=M[F];if(0<i(X,R))M[F]=R,M[B]=X,B=F;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var R=M[0],B=M.pop();if(B!==R){M[0]=B;e:for(var F=0,X=M.length,G=X>>>1;F<G;){var ae=2*(F+1)-1,ge=M[ae],ke=ae+1,St=M[ke];if(0>i(ge,B))ke<X&&0>i(St,ge)?(M[F]=St,M[ke]=B,F=ke):(M[F]=ge,M[ae]=B,F=ae);else if(ke<X&&0>i(St,B))M[F]=St,M[ke]=B,F=ke;else break e}}return R}function i(M,R){var B=M.sortIndex-R.sortIndex;return B!==0?B:M.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],c=[],u=1,f=null,h=3,d=!1,p=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(M){for(var R=n(c);R!==null;){if(R.callback===null)r(c);else if(R.startTime<=M)r(c),R.sortIndex=R.expirationTime,e(l,R);else break;R=n(c)}}function _(M){if(m=!1,x(M),!p)if(n(l)!==null)p=!0,L(O);else{var R=n(c);R!==null&&I(_,R.startTime-M)}}function O(M,R){p=!1,m&&(m=!1,g(k),k=-1),d=!0;var B=h;try{for(x(R),f=n(l);f!==null&&(!(f.expirationTime>R)||M&&!j());){var F=f.callback;if(typeof F=="function"){f.callback=null,h=f.priorityLevel;var X=F(f.expirationTime<=R);R=t.unstable_now(),typeof X=="function"?f.callback=X:f===n(l)&&r(l),x(R)}else r(l);f=n(l)}if(f!==null)var G=!0;else{var ae=n(c);ae!==null&&I(_,ae.startTime-R),G=!1}return G}finally{f=null,h=B,d=!1}}var w=!1,$=null,k=-1,P=5,T=-1;function j(){return!(t.unstable_now()-T<P)}function A(){if($!==null){var M=t.unstable_now();T=M;var R=!0;try{R=$(!0,M)}finally{R?N():(w=!1,$=null)}}else w=!1}var N;if(typeof y=="function")N=function(){y(A)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Q=C.port2;C.port1.onmessage=A,N=function(){Q.postMessage(null)}}else N=function(){v(A,0)};function L(M){$=M,w||(w=!0,N())}function I(M,R){k=v(function(){M(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){p||d||(p=!0,L(O))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var B=h;h=R;try{return M()}finally{h=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,R){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var B=h;h=M;try{return R()}finally{h=B}},t.unstable_scheduleCallback=function(M,R,B){var F=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?F+B:F):B=F,M){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=B+X,M={id:u++,callback:R,priorityLevel:M,startTime:B,expirationTime:X,sortIndex:-1},B>F?(M.sortIndex=B,e(c,M),n(l)===null&&M===n(c)&&(m?(g(k),k=-1):m=!0,I(_,B-F))):(M.sortIndex=X,e(l,M),p||d||(p=!0,L(O))),M},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(M){var R=h;return function(){var B=h;h=R;try{return M.apply(this,arguments)}finally{h=B}}}})(DA);RA.exports=DA;var hz=RA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dz=D,Bn=hz;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var NA=new Set,Xc={};function ko(t,e){As(t,e),As(t+"Capture",e)}function As(t,e){for(Xc[t]=e,t=0;t<e.length;t++)NA.add(e[t])}var wi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pv=Object.prototype.hasOwnProperty,pz=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Pw={},Aw={};function mz(t){return pv.call(Aw,t)?!0:pv.call(Pw,t)?!1:pz.test(t)?Aw[t]=!0:(Pw[t]=!0,!1)}function gz(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function vz(t,e,n,r){if(e===null||typeof e>"u"||gz(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function sn(t,e,n,r,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var Bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Bt[t]=new sn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Bt[e]=new sn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Bt[t]=new sn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Bt[t]=new sn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Bt[t]=new sn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Bt[t]=new sn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Bt[t]=new sn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Bt[t]=new sn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Bt[t]=new sn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Db=/[\-:]([a-z])/g;function Nb(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Db,Nb);Bt[e]=new sn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Db,Nb);Bt[e]=new sn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Db,Nb);Bt[e]=new sn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Bt[t]=new sn(t,1,!1,t.toLowerCase(),null,!1,!1)});Bt.xlinkHref=new sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Bt[t]=new sn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Lb(t,e,n,r){var i=Bt.hasOwnProperty(e)?Bt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(vz(e,n,i,r)&&(n=null),r||i===null?mz(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Mi=dz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qf=Symbol.for("react.element"),Fo=Symbol.for("react.portal"),Vo=Symbol.for("react.fragment"),Bb=Symbol.for("react.strict_mode"),mv=Symbol.for("react.profiler"),LA=Symbol.for("react.provider"),BA=Symbol.for("react.context"),Zb=Symbol.for("react.forward_ref"),gv=Symbol.for("react.suspense"),vv=Symbol.for("react.suspense_list"),Wb=Symbol.for("react.memo"),Li=Symbol.for("react.lazy"),ZA=Symbol.for("react.offscreen"),Cw=Symbol.iterator;function Il(t){return t===null||typeof t!="object"?null:(t=Cw&&t[Cw]||t["@@iterator"],typeof t=="function"?t:null)}var qe=Object.assign,jg;function fc(t){if(jg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);jg=e&&e[1]||""}return`
`+jg+t}var Qg=!1;function zg(t,e){if(!t||Qg)return"";Qg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=s);break}}}finally{Qg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?fc(t):""}function yz(t){switch(t.tag){case 5:return fc(t.type);case 16:return fc("Lazy");case 13:return fc("Suspense");case 19:return fc("SuspenseList");case 0:case 2:case 15:return t=zg(t.type,!1),t;case 11:return t=zg(t.type.render,!1),t;case 1:return t=zg(t.type,!0),t;default:return""}}function yv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Vo:return"Fragment";case Fo:return"Portal";case mv:return"Profiler";case Bb:return"StrictMode";case gv:return"Suspense";case vv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case BA:return(t.displayName||"Context")+".Consumer";case LA:return(t._context.displayName||"Context")+".Provider";case Zb:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Wb:return e=t.displayName||null,e!==null?e:yv(t.type)||"Memo";case Li:e=t._payload,t=t._init;try{return yv(t(e))}catch{}}return null}function Oz(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yv(e);case 8:return e===Bb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function da(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function WA(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function bz(t){var e=WA(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function zf(t){t._valueTracker||(t._valueTracker=bz(t))}function XA(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=WA(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function od(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ov(t,e){var n=e.checked;return qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ew(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=da(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function FA(t,e){e=e.checked,e!=null&&Lb(t,"checked",e,!1)}function bv(t,e){FA(t,e);var n=da(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?xv(t,e.type,n):e.hasOwnProperty("defaultValue")&&xv(t,e.type,da(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Tw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function xv(t,e,n){(e!=="number"||od(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var hc=Array.isArray;function fs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+da(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function wv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return qe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Mw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(hc(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:da(n)}}function VA(t,e){var n=da(e.value),r=da(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function jw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function UA(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?UA(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var If,qA=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(If=If||document.createElement("div"),If.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=If.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Fc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var xc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xz=["Webkit","ms","Moz","O"];Object.keys(xc).forEach(function(t){xz.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),xc[e]=xc[t]})});function YA(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||xc.hasOwnProperty(t)&&xc[t]?(""+e).trim():e+"px"}function GA(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=YA(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var wz=qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _v(t,e){if(e){if(wz[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function $v(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kv=null;function Xb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pv=null,hs=null,ds=null;function Qw(t){if(t=ff(t)){if(typeof Pv!="function")throw Error(U(280));var e=t.stateNode;e&&(e=pm(e),Pv(t.stateNode,t.type,e))}}function HA(t){hs?ds?ds.push(t):ds=[t]:hs=t}function KA(){if(hs){var t=hs,e=ds;if(ds=hs=null,Qw(t),e)for(t=0;t<e.length;t++)Qw(e[t])}}function JA(t,e){return t(e)}function eC(){}var Ig=!1;function tC(t,e,n){if(Ig)return t(e,n);Ig=!0;try{return JA(t,e,n)}finally{Ig=!1,(hs!==null||ds!==null)&&(eC(),KA())}}function Vc(t,e){var n=t.stateNode;if(n===null)return null;var r=pm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var Av=!1;if(wi)try{var Rl={};Object.defineProperty(Rl,"passive",{get:function(){Av=!0}}),window.addEventListener("test",Rl,Rl),window.removeEventListener("test",Rl,Rl)}catch{Av=!1}function Sz(t,e,n,r,i,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var wc=!1,sd=null,ld=!1,Cv=null,_z={onError:function(t){wc=!0,sd=t}};function $z(t,e,n,r,i,a,o,s,l){wc=!1,sd=null,Sz.apply(_z,arguments)}function kz(t,e,n,r,i,a,o,s,l){if($z.apply(this,arguments),wc){if(wc){var c=sd;wc=!1,sd=null}else throw Error(U(198));ld||(ld=!0,Cv=c)}}function Po(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function nC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function zw(t){if(Po(t)!==t)throw Error(U(188))}function Pz(t){var e=t.alternate;if(!e){if(e=Po(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return zw(i),t;if(a===r)return zw(i),e;a=a.sibling}throw Error(U(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function rC(t){return t=Pz(t),t!==null?iC(t):null}function iC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=iC(t);if(e!==null)return e;t=t.sibling}return null}var aC=Bn.unstable_scheduleCallback,Iw=Bn.unstable_cancelCallback,Az=Bn.unstable_shouldYield,Cz=Bn.unstable_requestPaint,et=Bn.unstable_now,Ez=Bn.unstable_getCurrentPriorityLevel,Fb=Bn.unstable_ImmediatePriority,oC=Bn.unstable_UserBlockingPriority,cd=Bn.unstable_NormalPriority,Tz=Bn.unstable_LowPriority,sC=Bn.unstable_IdlePriority,um=null,Kr=null;function Mz(t){if(Kr&&typeof Kr.onCommitFiberRoot=="function")try{Kr.onCommitFiberRoot(um,t,void 0,(t.current.flags&128)===128)}catch{}}var $r=Math.clz32?Math.clz32:zz,jz=Math.log,Qz=Math.LN2;function zz(t){return t>>>=0,t===0?32:31-(jz(t)/Qz|0)|0}var Rf=64,Df=4194304;function dc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ud(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,o=n&268435455;if(o!==0){var s=o&~i;s!==0?r=dc(s):(a&=o,a!==0&&(r=dc(a)))}else o=n&~i,o!==0?r=dc(o):a!==0&&(r=dc(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-$r(e),i=1<<n,r|=t[n],e&=~i;return r}function Iz(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rz(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-$r(a),s=1<<o,l=i[o];l===-1?(!(s&n)||s&r)&&(i[o]=Iz(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}}function Ev(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function lC(){var t=Rf;return Rf<<=1,!(Rf&4194240)&&(Rf=64),t}function Rg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function cf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-$r(e),t[e]=n}function Dz(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-$r(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function Vb(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-$r(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var _e=0;function cC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var uC,Ub,fC,hC,dC,Tv=!1,Nf=[],na=null,ra=null,ia=null,Uc=new Map,qc=new Map,Vi=[],Nz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rw(t,e){switch(t){case"focusin":case"focusout":na=null;break;case"dragenter":case"dragleave":ra=null;break;case"mouseover":case"mouseout":ia=null;break;case"pointerover":case"pointerout":Uc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":qc.delete(e.pointerId)}}function Dl(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=ff(e),e!==null&&Ub(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Lz(t,e,n,r,i){switch(e){case"focusin":return na=Dl(na,t,e,n,r,i),!0;case"dragenter":return ra=Dl(ra,t,e,n,r,i),!0;case"mouseover":return ia=Dl(ia,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return Uc.set(a,Dl(Uc.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,qc.set(a,Dl(qc.get(a)||null,t,e,n,r,i)),!0}return!1}function pC(t){var e=Fa(t.target);if(e!==null){var n=Po(e);if(n!==null){if(e=n.tag,e===13){if(e=nC(n),e!==null){t.blockedOn=e,dC(t.priority,function(){fC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Mv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);kv=r,n.target.dispatchEvent(r),kv=null}else return e=ff(n),e!==null&&Ub(e),t.blockedOn=n,!1;e.shift()}return!0}function Dw(t,e,n){Lh(t)&&n.delete(e)}function Bz(){Tv=!1,na!==null&&Lh(na)&&(na=null),ra!==null&&Lh(ra)&&(ra=null),ia!==null&&Lh(ia)&&(ia=null),Uc.forEach(Dw),qc.forEach(Dw)}function Nl(t,e){t.blockedOn===e&&(t.blockedOn=null,Tv||(Tv=!0,Bn.unstable_scheduleCallback(Bn.unstable_NormalPriority,Bz)))}function Yc(t){function e(i){return Nl(i,t)}if(0<Nf.length){Nl(Nf[0],t);for(var n=1;n<Nf.length;n++){var r=Nf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(na!==null&&Nl(na,t),ra!==null&&Nl(ra,t),ia!==null&&Nl(ia,t),Uc.forEach(e),qc.forEach(e),n=0;n<Vi.length;n++)r=Vi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Vi.length&&(n=Vi[0],n.blockedOn===null);)pC(n),n.blockedOn===null&&Vi.shift()}var ps=Mi.ReactCurrentBatchConfig,fd=!0;function Zz(t,e,n,r){var i=_e,a=ps.transition;ps.transition=null;try{_e=1,qb(t,e,n,r)}finally{_e=i,ps.transition=a}}function Wz(t,e,n,r){var i=_e,a=ps.transition;ps.transition=null;try{_e=4,qb(t,e,n,r)}finally{_e=i,ps.transition=a}}function qb(t,e,n,r){if(fd){var i=Mv(t,e,n,r);if(i===null)Ug(t,e,r,hd,n),Rw(t,r);else if(Lz(i,t,e,n,r))r.stopPropagation();else if(Rw(t,r),e&4&&-1<Nz.indexOf(t)){for(;i!==null;){var a=ff(i);if(a!==null&&uC(a),a=Mv(t,e,n,r),a===null&&Ug(t,e,r,hd,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Ug(t,e,r,null,n)}}var hd=null;function Mv(t,e,n,r){if(hd=null,t=Xb(r),t=Fa(t),t!==null)if(e=Po(t),e===null)t=null;else if(n=e.tag,n===13){if(t=nC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return hd=t,null}function mC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ez()){case Fb:return 1;case oC:return 4;case cd:case Tz:return 16;case sC:return 536870912;default:return 16}default:return 16}}var Gi=null,Yb=null,Bh=null;function gC(){if(Bh)return Bh;var t,e=Yb,n=e.length,r,i="value"in Gi?Gi.value:Gi.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[a-r];r++);return Bh=i.slice(t,1<r?1-r:void 0)}function Zh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Lf(){return!0}function Nw(){return!1}function Wn(t){function e(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Lf:Nw,this.isPropagationStopped=Nw,this}return qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Lf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Lf)},persist:function(){},isPersistent:Lf}),e}var pl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gb=Wn(pl),uf=qe({},pl,{view:0,detail:0}),Xz=Wn(uf),Dg,Ng,Ll,fm=qe({},uf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hb,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ll&&(Ll&&t.type==="mousemove"?(Dg=t.screenX-Ll.screenX,Ng=t.screenY-Ll.screenY):Ng=Dg=0,Ll=t),Dg)},movementY:function(t){return"movementY"in t?t.movementY:Ng}}),Lw=Wn(fm),Fz=qe({},fm,{dataTransfer:0}),Vz=Wn(Fz),Uz=qe({},uf,{relatedTarget:0}),Lg=Wn(Uz),qz=qe({},pl,{animationName:0,elapsedTime:0,pseudoElement:0}),Yz=Wn(qz),Gz=qe({},pl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Hz=Wn(Gz),Kz=qe({},pl,{data:0}),Bw=Wn(Kz),Jz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=tI[t])?!!e[t]:!1}function Hb(){return nI}var rI=qe({},uf,{key:function(t){if(t.key){var e=Jz[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Zh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?eI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hb,charCode:function(t){return t.type==="keypress"?Zh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),iI=Wn(rI),aI=qe({},fm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zw=Wn(aI),oI=qe({},uf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hb}),sI=Wn(oI),lI=qe({},pl,{propertyName:0,elapsedTime:0,pseudoElement:0}),cI=Wn(lI),uI=qe({},fm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),fI=Wn(uI),hI=[9,13,27,32],Kb=wi&&"CompositionEvent"in window,Sc=null;wi&&"documentMode"in document&&(Sc=document.documentMode);var dI=wi&&"TextEvent"in window&&!Sc,vC=wi&&(!Kb||Sc&&8<Sc&&11>=Sc),Ww=" ",Xw=!1;function yC(t,e){switch(t){case"keyup":return hI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function OC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Uo=!1;function pI(t,e){switch(t){case"compositionend":return OC(e);case"keypress":return e.which!==32?null:(Xw=!0,Ww);case"textInput":return t=e.data,t===Ww&&Xw?null:t;default:return null}}function mI(t,e){if(Uo)return t==="compositionend"||!Kb&&yC(t,e)?(t=gC(),Bh=Yb=Gi=null,Uo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return vC&&e.locale!=="ko"?null:e.data;default:return null}}var gI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!gI[t.type]:e==="textarea"}function bC(t,e,n,r){HA(r),e=dd(e,"onChange"),0<e.length&&(n=new Gb("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var _c=null,Gc=null;function vI(t){TC(t,0)}function hm(t){var e=Go(t);if(XA(e))return t}function yI(t,e){if(t==="change")return e}var xC=!1;if(wi){var Bg;if(wi){var Zg="oninput"in document;if(!Zg){var Vw=document.createElement("div");Vw.setAttribute("oninput","return;"),Zg=typeof Vw.oninput=="function"}Bg=Zg}else Bg=!1;xC=Bg&&(!document.documentMode||9<document.documentMode)}function Uw(){_c&&(_c.detachEvent("onpropertychange",wC),Gc=_c=null)}function wC(t){if(t.propertyName==="value"&&hm(Gc)){var e=[];bC(e,Gc,t,Xb(t)),tC(vI,e)}}function OI(t,e,n){t==="focusin"?(Uw(),_c=e,Gc=n,_c.attachEvent("onpropertychange",wC)):t==="focusout"&&Uw()}function bI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hm(Gc)}function xI(t,e){if(t==="click")return hm(e)}function wI(t,e){if(t==="input"||t==="change")return hm(e)}function SI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ar=typeof Object.is=="function"?Object.is:SI;function Hc(t,e){if(Ar(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!pv.call(e,i)||!Ar(t[i],e[i]))return!1}return!0}function qw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yw(t,e){var n=qw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=qw(n)}}function SC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?SC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function _C(){for(var t=window,e=od();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=od(t.document)}return e}function Jb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function _I(t){var e=_C(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&SC(n.ownerDocument.documentElement,n)){if(r!==null&&Jb(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=Yw(n,a);var o=Yw(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var $I=wi&&"documentMode"in document&&11>=document.documentMode,qo=null,jv=null,$c=null,Qv=!1;function Gw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qv||qo==null||qo!==od(r)||(r=qo,"selectionStart"in r&&Jb(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$c&&Hc($c,r)||($c=r,r=dd(jv,"onSelect"),0<r.length&&(e=new Gb("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=qo)))}function Bf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Yo={animationend:Bf("Animation","AnimationEnd"),animationiteration:Bf("Animation","AnimationIteration"),animationstart:Bf("Animation","AnimationStart"),transitionend:Bf("Transition","TransitionEnd")},Wg={},$C={};wi&&($C=document.createElement("div").style,"AnimationEvent"in window||(delete Yo.animationend.animation,delete Yo.animationiteration.animation,delete Yo.animationstart.animation),"TransitionEvent"in window||delete Yo.transitionend.transition);function dm(t){if(Wg[t])return Wg[t];if(!Yo[t])return t;var e=Yo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in $C)return Wg[t]=e[n];return t}var kC=dm("animationend"),PC=dm("animationiteration"),AC=dm("animationstart"),CC=dm("transitionend"),EC=new Map,Hw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wa(t,e){EC.set(t,e),ko(e,[t])}for(var Xg=0;Xg<Hw.length;Xg++){var Fg=Hw[Xg],kI=Fg.toLowerCase(),PI=Fg[0].toUpperCase()+Fg.slice(1);wa(kI,"on"+PI)}wa(kC,"onAnimationEnd");wa(PC,"onAnimationIteration");wa(AC,"onAnimationStart");wa("dblclick","onDoubleClick");wa("focusin","onFocus");wa("focusout","onBlur");wa(CC,"onTransitionEnd");As("onMouseEnter",["mouseout","mouseover"]);As("onMouseLeave",["mouseout","mouseover"]);As("onPointerEnter",["pointerout","pointerover"]);As("onPointerLeave",["pointerout","pointerover"]);ko("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ko("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ko("onBeforeInput",["compositionend","keypress","textInput","paste"]);ko("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ko("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ko("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AI=new Set("cancel close invalid load scroll toggle".split(" ").concat(pc));function Kw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,kz(r,e,void 0,t),t.currentTarget=null}function TC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;Kw(i,s,c),a=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;Kw(i,s,c),a=l}}}if(ld)throw t=Cv,ld=!1,Cv=null,t}function Ie(t,e){var n=e[Nv];n===void 0&&(n=e[Nv]=new Set);var r=t+"__bubble";n.has(r)||(MC(e,t,2,!1),n.add(r))}function Vg(t,e,n){var r=0;e&&(r|=4),MC(n,t,r,e)}var Zf="_reactListening"+Math.random().toString(36).slice(2);function Kc(t){if(!t[Zf]){t[Zf]=!0,NA.forEach(function(n){n!=="selectionchange"&&(AI.has(n)||Vg(n,!1,t),Vg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Zf]||(e[Zf]=!0,Vg("selectionchange",!1,e))}}function MC(t,e,n,r){switch(mC(e)){case 1:var i=Zz;break;case 4:i=Wz;break;default:i=qb}n=i.bind(null,e,n,t),i=void 0,!Av||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ug(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=Fa(s),o===null)return;if(l=o.tag,l===5||l===6){r=a=o;continue e}s=s.parentNode}}r=r.return}tC(function(){var c=a,u=Xb(n),f=[];e:{var h=EC.get(t);if(h!==void 0){var d=Gb,p=t;switch(t){case"keypress":if(Zh(n)===0)break e;case"keydown":case"keyup":d=iI;break;case"focusin":p="focus",d=Lg;break;case"focusout":p="blur",d=Lg;break;case"beforeblur":case"afterblur":d=Lg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=Lw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=Vz;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=sI;break;case kC:case PC:case AC:d=Yz;break;case CC:d=cI;break;case"scroll":d=Xz;break;case"wheel":d=fI;break;case"copy":case"cut":case"paste":d=Hz;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=Zw}var m=(e&4)!==0,v=!m&&t==="scroll",g=m?h!==null?h+"Capture":null:h;m=[];for(var y=c,x;y!==null;){x=y;var _=x.stateNode;if(x.tag===5&&_!==null&&(x=_,g!==null&&(_=Vc(y,g),_!=null&&m.push(Jc(y,_,x)))),v)break;y=y.return}0<m.length&&(h=new d(h,p,null,n,u),f.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",h&&n!==kv&&(p=n.relatedTarget||n.fromElement)&&(Fa(p)||p[Si]))break e;if((d||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,d?(p=n.relatedTarget||n.toElement,d=c,p=p?Fa(p):null,p!==null&&(v=Po(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(d=null,p=c),d!==p)){if(m=Lw,_="onMouseLeave",g="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(m=Zw,_="onPointerLeave",g="onPointerEnter",y="pointer"),v=d==null?h:Go(d),x=p==null?h:Go(p),h=new m(_,y+"leave",d,n,u),h.target=v,h.relatedTarget=x,_=null,Fa(u)===c&&(m=new m(g,y+"enter",p,n,u),m.target=x,m.relatedTarget=v,_=m),v=_,d&&p)t:{for(m=d,g=p,y=0,x=m;x;x=Qo(x))y++;for(x=0,_=g;_;_=Qo(_))x++;for(;0<y-x;)m=Qo(m),y--;for(;0<x-y;)g=Qo(g),x--;for(;y--;){if(m===g||g!==null&&m===g.alternate)break t;m=Qo(m),g=Qo(g)}m=null}else m=null;d!==null&&Jw(f,h,d,m,!1),p!==null&&v!==null&&Jw(f,v,p,m,!0)}}e:{if(h=c?Go(c):window,d=h.nodeName&&h.nodeName.toLowerCase(),d==="select"||d==="input"&&h.type==="file")var O=yI;else if(Fw(h))if(xC)O=wI;else{O=bI;var w=OI}else(d=h.nodeName)&&d.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(O=xI);if(O&&(O=O(t,c))){bC(f,O,n,u);break e}w&&w(t,h,c),t==="focusout"&&(w=h._wrapperState)&&w.controlled&&h.type==="number"&&xv(h,"number",h.value)}switch(w=c?Go(c):window,t){case"focusin":(Fw(w)||w.contentEditable==="true")&&(qo=w,jv=c,$c=null);break;case"focusout":$c=jv=qo=null;break;case"mousedown":Qv=!0;break;case"contextmenu":case"mouseup":case"dragend":Qv=!1,Gw(f,n,u);break;case"selectionchange":if($I)break;case"keydown":case"keyup":Gw(f,n,u)}var $;if(Kb)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Uo?yC(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(vC&&n.locale!=="ko"&&(Uo||k!=="onCompositionStart"?k==="onCompositionEnd"&&Uo&&($=gC()):(Gi=u,Yb="value"in Gi?Gi.value:Gi.textContent,Uo=!0)),w=dd(c,k),0<w.length&&(k=new Bw(k,t,null,n,u),f.push({event:k,listeners:w}),$?k.data=$:($=OC(n),$!==null&&(k.data=$)))),($=dI?pI(t,n):mI(t,n))&&(c=dd(c,"onBeforeInput"),0<c.length&&(u=new Bw("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=$))}TC(f,e)})}function Jc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function dd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Vc(t,n),a!=null&&r.unshift(Jc(t,a,i)),a=Vc(t,e),a!=null&&r.push(Jc(t,a,i))),t=t.return}return r}function Qo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Jw(t,e,n,r,i){for(var a=e._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&c!==null&&(s=c,i?(l=Vc(n,a),l!=null&&o.unshift(Jc(n,l,s))):i||(l=Vc(n,a),l!=null&&o.push(Jc(n,l,s)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var CI=/\r\n?/g,EI=/\u0000|\uFFFD/g;function eS(t){return(typeof t=="string"?t:""+t).replace(CI,`
`).replace(EI,"")}function Wf(t,e,n){if(e=eS(e),eS(t)!==e&&n)throw Error(U(425))}function pd(){}var zv=null,Iv=null;function Rv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Dv=typeof setTimeout=="function"?setTimeout:void 0,TI=typeof clearTimeout=="function"?clearTimeout:void 0,tS=typeof Promise=="function"?Promise:void 0,MI=typeof queueMicrotask=="function"?queueMicrotask:typeof tS<"u"?function(t){return tS.resolve(null).then(t).catch(jI)}:Dv;function jI(t){setTimeout(function(){throw t})}function qg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Yc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Yc(e)}function aa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function nS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ml=Math.random().toString(36).slice(2),Zr="__reactFiber$"+ml,eu="__reactProps$"+ml,Si="__reactContainer$"+ml,Nv="__reactEvents$"+ml,QI="__reactListeners$"+ml,zI="__reactHandles$"+ml;function Fa(t){var e=t[Zr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Si]||n[Zr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=nS(t);t!==null;){if(n=t[Zr])return n;t=nS(t)}return e}t=n,n=t.parentNode}return null}function ff(t){return t=t[Zr]||t[Si],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Go(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function pm(t){return t[eu]||null}var Lv=[],Ho=-1;function Sa(t){return{current:t}}function Ne(t){0>Ho||(t.current=Lv[Ho],Lv[Ho]=null,Ho--)}function ze(t,e){Ho++,Lv[Ho]=t.current,t.current=e}var pa={},Gt=Sa(pa),yn=Sa(!1),uo=pa;function Cs(t,e){var n=t.type.contextTypes;if(!n)return pa;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function On(t){return t=t.childContextTypes,t!=null}function md(){Ne(yn),Ne(Gt)}function rS(t,e,n){if(Gt.current!==pa)throw Error(U(168));ze(Gt,e),ze(yn,n)}function jC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(U(108,Oz(t)||"Unknown",i));return qe({},n,r)}function gd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||pa,uo=Gt.current,ze(Gt,t),ze(yn,yn.current),!0}function iS(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=jC(t,e,uo),r.__reactInternalMemoizedMergedChildContext=t,Ne(yn),Ne(Gt),ze(Gt,t)):Ne(yn),ze(yn,n)}var ui=null,mm=!1,Yg=!1;function QC(t){ui===null?ui=[t]:ui.push(t)}function II(t){mm=!0,QC(t)}function _a(){if(!Yg&&ui!==null){Yg=!0;var t=0,e=_e;try{var n=ui;for(_e=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ui=null,mm=!1}catch(i){throw ui!==null&&(ui=ui.slice(t+1)),aC(Fb,_a),i}finally{_e=e,Yg=!1}}return null}var Ko=[],Jo=0,vd=null,yd=0,Yn=[],Gn=0,fo=null,di=1,pi="";function Ra(t,e){Ko[Jo++]=yd,Ko[Jo++]=vd,vd=t,yd=e}function zC(t,e,n){Yn[Gn++]=di,Yn[Gn++]=pi,Yn[Gn++]=fo,fo=t;var r=di;t=pi;var i=32-$r(r)-1;r&=~(1<<i),n+=1;var a=32-$r(e)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,di=1<<32-$r(e)+i|n<<i|r,pi=a+t}else di=1<<a|n<<i|r,pi=t}function e1(t){t.return!==null&&(Ra(t,1),zC(t,1,0))}function t1(t){for(;t===vd;)vd=Ko[--Jo],Ko[Jo]=null,yd=Ko[--Jo],Ko[Jo]=null;for(;t===fo;)fo=Yn[--Gn],Yn[Gn]=null,pi=Yn[--Gn],Yn[Gn]=null,di=Yn[--Gn],Yn[Gn]=null}var Ln=null,Dn=null,Be=!1,Or=null;function IC(t,e){var n=Kn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function aS(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ln=t,Dn=aa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ln=t,Dn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=fo!==null?{id:di,overflow:pi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Kn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ln=t,Dn=null,!0):!1;default:return!1}}function Bv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Zv(t){if(Be){var e=Dn;if(e){var n=e;if(!aS(t,e)){if(Bv(t))throw Error(U(418));e=aa(n.nextSibling);var r=Ln;e&&aS(t,e)?IC(r,n):(t.flags=t.flags&-4097|2,Be=!1,Ln=t)}}else{if(Bv(t))throw Error(U(418));t.flags=t.flags&-4097|2,Be=!1,Ln=t}}}function oS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ln=t}function Xf(t){if(t!==Ln)return!1;if(!Be)return oS(t),Be=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Rv(t.type,t.memoizedProps)),e&&(e=Dn)){if(Bv(t))throw RC(),Error(U(418));for(;e;)IC(t,e),e=aa(e.nextSibling)}if(oS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Dn=aa(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Dn=null}}else Dn=Ln?aa(t.stateNode.nextSibling):null;return!0}function RC(){for(var t=Dn;t;)t=aa(t.nextSibling)}function Es(){Dn=Ln=null,Be=!1}function n1(t){Or===null?Or=[t]:Or.push(t)}var RI=Mi.ReactCurrentBatchConfig;function Bl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function Ff(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function sS(t){var e=t._init;return e(t._payload)}function DC(t){function e(g,y){if(t){var x=g.deletions;x===null?(g.deletions=[y],g.flags|=16):x.push(y)}}function n(g,y){if(!t)return null;for(;y!==null;)e(g,y),y=y.sibling;return null}function r(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function i(g,y){return g=ca(g,y),g.index=0,g.sibling=null,g}function a(g,y,x){return g.index=x,t?(x=g.alternate,x!==null?(x=x.index,x<y?(g.flags|=2,y):x):(g.flags|=2,y)):(g.flags|=1048576,y)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function s(g,y,x,_){return y===null||y.tag!==6?(y=n0(x,g.mode,_),y.return=g,y):(y=i(y,x),y.return=g,y)}function l(g,y,x,_){var O=x.type;return O===Vo?u(g,y,x.props.children,_,x.key):y!==null&&(y.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Li&&sS(O)===y.type)?(_=i(y,x.props),_.ref=Bl(g,y,x),_.return=g,_):(_=Yh(x.type,x.key,x.props,null,g.mode,_),_.ref=Bl(g,y,x),_.return=g,_)}function c(g,y,x,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=r0(x,g.mode,_),y.return=g,y):(y=i(y,x.children||[]),y.return=g,y)}function u(g,y,x,_,O){return y===null||y.tag!==7?(y=ro(x,g.mode,_,O),y.return=g,y):(y=i(y,x),y.return=g,y)}function f(g,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=n0(""+y,g.mode,x),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Qf:return x=Yh(y.type,y.key,y.props,null,g.mode,x),x.ref=Bl(g,null,y),x.return=g,x;case Fo:return y=r0(y,g.mode,x),y.return=g,y;case Li:var _=y._init;return f(g,_(y._payload),x)}if(hc(y)||Il(y))return y=ro(y,g.mode,x,null),y.return=g,y;Ff(g,y)}return null}function h(g,y,x,_){var O=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return O!==null?null:s(g,y,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Qf:return x.key===O?l(g,y,x,_):null;case Fo:return x.key===O?c(g,y,x,_):null;case Li:return O=x._init,h(g,y,O(x._payload),_)}if(hc(x)||Il(x))return O!==null?null:u(g,y,x,_,null);Ff(g,x)}return null}function d(g,y,x,_,O){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(x)||null,s(y,g,""+_,O);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Qf:return g=g.get(_.key===null?x:_.key)||null,l(y,g,_,O);case Fo:return g=g.get(_.key===null?x:_.key)||null,c(y,g,_,O);case Li:var w=_._init;return d(g,y,x,w(_._payload),O)}if(hc(_)||Il(_))return g=g.get(x)||null,u(y,g,_,O,null);Ff(y,_)}return null}function p(g,y,x,_){for(var O=null,w=null,$=y,k=y=0,P=null;$!==null&&k<x.length;k++){$.index>k?(P=$,$=null):P=$.sibling;var T=h(g,$,x[k],_);if(T===null){$===null&&($=P);break}t&&$&&T.alternate===null&&e(g,$),y=a(T,y,k),w===null?O=T:w.sibling=T,w=T,$=P}if(k===x.length)return n(g,$),Be&&Ra(g,k),O;if($===null){for(;k<x.length;k++)$=f(g,x[k],_),$!==null&&(y=a($,y,k),w===null?O=$:w.sibling=$,w=$);return Be&&Ra(g,k),O}for($=r(g,$);k<x.length;k++)P=d($,g,k,x[k],_),P!==null&&(t&&P.alternate!==null&&$.delete(P.key===null?k:P.key),y=a(P,y,k),w===null?O=P:w.sibling=P,w=P);return t&&$.forEach(function(j){return e(g,j)}),Be&&Ra(g,k),O}function m(g,y,x,_){var O=Il(x);if(typeof O!="function")throw Error(U(150));if(x=O.call(x),x==null)throw Error(U(151));for(var w=O=null,$=y,k=y=0,P=null,T=x.next();$!==null&&!T.done;k++,T=x.next()){$.index>k?(P=$,$=null):P=$.sibling;var j=h(g,$,T.value,_);if(j===null){$===null&&($=P);break}t&&$&&j.alternate===null&&e(g,$),y=a(j,y,k),w===null?O=j:w.sibling=j,w=j,$=P}if(T.done)return n(g,$),Be&&Ra(g,k),O;if($===null){for(;!T.done;k++,T=x.next())T=f(g,T.value,_),T!==null&&(y=a(T,y,k),w===null?O=T:w.sibling=T,w=T);return Be&&Ra(g,k),O}for($=r(g,$);!T.done;k++,T=x.next())T=d($,g,k,T.value,_),T!==null&&(t&&T.alternate!==null&&$.delete(T.key===null?k:T.key),y=a(T,y,k),w===null?O=T:w.sibling=T,w=T);return t&&$.forEach(function(A){return e(g,A)}),Be&&Ra(g,k),O}function v(g,y,x,_){if(typeof x=="object"&&x!==null&&x.type===Vo&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Qf:e:{for(var O=x.key,w=y;w!==null;){if(w.key===O){if(O=x.type,O===Vo){if(w.tag===7){n(g,w.sibling),y=i(w,x.props.children),y.return=g,g=y;break e}}else if(w.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Li&&sS(O)===w.type){n(g,w.sibling),y=i(w,x.props),y.ref=Bl(g,w,x),y.return=g,g=y;break e}n(g,w);break}else e(g,w);w=w.sibling}x.type===Vo?(y=ro(x.props.children,g.mode,_,x.key),y.return=g,g=y):(_=Yh(x.type,x.key,x.props,null,g.mode,_),_.ref=Bl(g,y,x),_.return=g,g=_)}return o(g);case Fo:e:{for(w=x.key;y!==null;){if(y.key===w)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){n(g,y.sibling),y=i(y,x.children||[]),y.return=g,g=y;break e}else{n(g,y);break}else e(g,y);y=y.sibling}y=r0(x,g.mode,_),y.return=g,g=y}return o(g);case Li:return w=x._init,v(g,y,w(x._payload),_)}if(hc(x))return p(g,y,x,_);if(Il(x))return m(g,y,x,_);Ff(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(n(g,y.sibling),y=i(y,x),y.return=g,g=y):(n(g,y),y=n0(x,g.mode,_),y.return=g,g=y),o(g)):n(g,y)}return v}var Ts=DC(!0),NC=DC(!1),Od=Sa(null),bd=null,es=null,r1=null;function i1(){r1=es=bd=null}function a1(t){var e=Od.current;Ne(Od),t._currentValue=e}function Wv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ms(t,e){bd=t,r1=es=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(pn=!0),t.firstContext=null)}function ar(t){var e=t._currentValue;if(r1!==t)if(t={context:t,memoizedValue:e,next:null},es===null){if(bd===null)throw Error(U(308));es=t,bd.dependencies={lanes:0,firstContext:t}}else es=es.next=t;return e}var Va=null;function o1(t){Va===null?Va=[t]:Va.push(t)}function LC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,o1(e)):(n.next=i.next,i.next=n),e.interleaved=n,_i(t,r)}function _i(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Bi=!1;function s1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function BC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function yi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function oa(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,be&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,_i(t,n)}return i=r.interleaved,i===null?(e.next=e,o1(r)):(e.next=i.next,i.next=e),r.interleaved=e,_i(t,n)}function Wh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Vb(t,n)}}function lS(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function xd(t,e,n,r){var i=t.updateQueue;Bi=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,o===null?a=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==o&&(s===null?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;o=0,u=c=l=null,s=a;do{var h=s.lane,d=s.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=t,m=s;switch(h=e,d=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,h=typeof p=="function"?p.call(d,f,h):p,h==null)break e;f=qe({},f,h);break e;case 2:Bi=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(c=u=d,l=f):u=u.next=d,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);po|=o,t.lanes=o,t.memoizedState=f}}function cS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(U(191,i));i.call(r)}}}var hf={},Jr=Sa(hf),tu=Sa(hf),nu=Sa(hf);function Ua(t){if(t===hf)throw Error(U(174));return t}function l1(t,e){switch(ze(nu,e),ze(tu,t),ze(Jr,hf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Sv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Sv(e,t)}Ne(Jr),ze(Jr,e)}function Ms(){Ne(Jr),Ne(tu),Ne(nu)}function ZC(t){Ua(nu.current);var e=Ua(Jr.current),n=Sv(e,t.type);e!==n&&(ze(tu,t),ze(Jr,n))}function c1(t){tu.current===t&&(Ne(Jr),Ne(tu))}var Fe=Sa(0);function wd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Gg=[];function u1(){for(var t=0;t<Gg.length;t++)Gg[t]._workInProgressVersionPrimary=null;Gg.length=0}var Xh=Mi.ReactCurrentDispatcher,Hg=Mi.ReactCurrentBatchConfig,ho=0,Ue=null,gt=null,$t=null,Sd=!1,kc=!1,ru=0,DI=0;function Wt(){throw Error(U(321))}function f1(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ar(t[n],e[n]))return!1;return!0}function h1(t,e,n,r,i,a){if(ho=a,Ue=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Xh.current=t===null||t.memoizedState===null?ZI:WI,t=n(r,i),kc){a=0;do{if(kc=!1,ru=0,25<=a)throw Error(U(301));a+=1,$t=gt=null,e.updateQueue=null,Xh.current=XI,t=n(r,i)}while(kc)}if(Xh.current=_d,e=gt!==null&&gt.next!==null,ho=0,$t=gt=Ue=null,Sd=!1,e)throw Error(U(300));return t}function d1(){var t=ru!==0;return ru=0,t}function Br(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?Ue.memoizedState=$t=t:$t=$t.next=t,$t}function or(){if(gt===null){var t=Ue.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var e=$t===null?Ue.memoizedState:$t.next;if(e!==null)$t=e,gt=t;else{if(t===null)throw Error(U(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},$t===null?Ue.memoizedState=$t=t:$t=$t.next=t}return $t}function iu(t,e){return typeof e=="function"?e(t):e}function Kg(t){var e=or(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=gt,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var s=o=null,l=null,c=a;do{var u=c.lane;if((ho&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=f,o=r):l=l.next=f,Ue.lanes|=u,po|=u}c=c.next}while(c!==null&&c!==a);l===null?o=r:l.next=s,Ar(r,e.memoizedState)||(pn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,Ue.lanes|=a,po|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Jg(t){var e=or(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);Ar(a,e.memoizedState)||(pn=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function WC(){}function XC(t,e){var n=Ue,r=or(),i=e(),a=!Ar(r.memoizedState,i);if(a&&(r.memoizedState=i,pn=!0),r=r.queue,p1(UC.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||$t!==null&&$t.memoizedState.tag&1){if(n.flags|=2048,au(9,VC.bind(null,n,r,i,e),void 0,null),At===null)throw Error(U(349));ho&30||FC(n,e,i)}return i}function FC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ue.updateQueue,e===null?(e={lastEffect:null,stores:null},Ue.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function VC(t,e,n,r){e.value=n,e.getSnapshot=r,qC(e)&&YC(t)}function UC(t,e,n){return n(function(){qC(e)&&YC(t)})}function qC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ar(t,n)}catch{return!0}}function YC(t){var e=_i(t,1);e!==null&&kr(e,t,1,-1)}function uS(t){var e=Br();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:iu,lastRenderedState:t},e.queue=t,t=t.dispatch=BI.bind(null,Ue,t),[e.memoizedState,t]}function au(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ue.updateQueue,e===null?(e={lastEffect:null,stores:null},Ue.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function GC(){return or().memoizedState}function Fh(t,e,n,r){var i=Br();Ue.flags|=t,i.memoizedState=au(1|e,n,void 0,r===void 0?null:r)}function gm(t,e,n,r){var i=or();r=r===void 0?null:r;var a=void 0;if(gt!==null){var o=gt.memoizedState;if(a=o.destroy,r!==null&&f1(r,o.deps)){i.memoizedState=au(e,n,a,r);return}}Ue.flags|=t,i.memoizedState=au(1|e,n,a,r)}function fS(t,e){return Fh(8390656,8,t,e)}function p1(t,e){return gm(2048,8,t,e)}function HC(t,e){return gm(4,2,t,e)}function KC(t,e){return gm(4,4,t,e)}function JC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function e5(t,e,n){return n=n!=null?n.concat([t]):null,gm(4,4,JC.bind(null,e,t),n)}function m1(){}function t5(t,e){var n=or();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&f1(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function n5(t,e){var n=or();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&f1(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function r5(t,e,n){return ho&21?(Ar(n,e)||(n=lC(),Ue.lanes|=n,po|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,pn=!0),t.memoizedState=n)}function NI(t,e){var n=_e;_e=n!==0&&4>n?n:4,t(!0);var r=Hg.transition;Hg.transition={};try{t(!1),e()}finally{_e=n,Hg.transition=r}}function i5(){return or().memoizedState}function LI(t,e,n){var r=la(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},a5(t))o5(e,n);else if(n=LC(t,e,n,r),n!==null){var i=rn();kr(n,t,r,i),s5(n,e,r)}}function BI(t,e,n){var r=la(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(a5(t))o5(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Ar(s,o)){var l=e.interleaved;l===null?(i.next=i,o1(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=LC(t,e,i,r),n!==null&&(i=rn(),kr(n,t,r,i),s5(n,e,r))}}function a5(t){var e=t.alternate;return t===Ue||e!==null&&e===Ue}function o5(t,e){kc=Sd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function s5(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Vb(t,n)}}var _d={readContext:ar,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},ZI={readContext:ar,useCallback:function(t,e){return Br().memoizedState=[t,e===void 0?null:e],t},useContext:ar,useEffect:fS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Fh(4194308,4,JC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Fh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Fh(4,2,t,e)},useMemo:function(t,e){var n=Br();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Br();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=LI.bind(null,Ue,t),[r.memoizedState,t]},useRef:function(t){var e=Br();return t={current:t},e.memoizedState=t},useState:uS,useDebugValue:m1,useDeferredValue:function(t){return Br().memoizedState=t},useTransition:function(){var t=uS(!1),e=t[0];return t=NI.bind(null,t[1]),Br().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ue,i=Br();if(Be){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),At===null)throw Error(U(349));ho&30||FC(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,fS(UC.bind(null,r,a,t),[t]),r.flags|=2048,au(9,VC.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=Br(),e=At.identifierPrefix;if(Be){var n=pi,r=di;n=(r&~(1<<32-$r(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ru++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=DI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},WI={readContext:ar,useCallback:t5,useContext:ar,useEffect:p1,useImperativeHandle:e5,useInsertionEffect:HC,useLayoutEffect:KC,useMemo:n5,useReducer:Kg,useRef:GC,useState:function(){return Kg(iu)},useDebugValue:m1,useDeferredValue:function(t){var e=or();return r5(e,gt.memoizedState,t)},useTransition:function(){var t=Kg(iu)[0],e=or().memoizedState;return[t,e]},useMutableSource:WC,useSyncExternalStore:XC,useId:i5,unstable_isNewReconciler:!1},XI={readContext:ar,useCallback:t5,useContext:ar,useEffect:p1,useImperativeHandle:e5,useInsertionEffect:HC,useLayoutEffect:KC,useMemo:n5,useReducer:Jg,useRef:GC,useState:function(){return Jg(iu)},useDebugValue:m1,useDeferredValue:function(t){var e=or();return gt===null?e.memoizedState=t:r5(e,gt.memoizedState,t)},useTransition:function(){var t=Jg(iu)[0],e=or().memoizedState;return[t,e]},useMutableSource:WC,useSyncExternalStore:XC,useId:i5,unstable_isNewReconciler:!1};function pr(t,e){if(t&&t.defaultProps){e=qe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Xv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:qe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var vm={isMounted:function(t){return(t=t._reactInternals)?Po(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=rn(),i=la(t),a=yi(r,i);a.payload=e,n!=null&&(a.callback=n),e=oa(t,a,i),e!==null&&(kr(e,t,i,r),Wh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=rn(),i=la(t),a=yi(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=oa(t,a,i),e!==null&&(kr(e,t,i,r),Wh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=rn(),r=la(t),i=yi(n,r);i.tag=2,e!=null&&(i.callback=e),e=oa(t,i,r),e!==null&&(kr(e,t,r,n),Wh(e,t,r))}};function hS(t,e,n,r,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,o):e.prototype&&e.prototype.isPureReactComponent?!Hc(n,r)||!Hc(i,a):!0}function l5(t,e,n){var r=!1,i=pa,a=e.contextType;return typeof a=="object"&&a!==null?a=ar(a):(i=On(e)?uo:Gt.current,r=e.contextTypes,a=(r=r!=null)?Cs(t,i):pa),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=vm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function dS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&vm.enqueueReplaceState(e,e.state,null)}function Fv(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},s1(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=ar(a):(a=On(e)?uo:Gt.current,i.context=Cs(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Xv(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&vm.enqueueReplaceState(i,i.state,null),xd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function js(t,e){try{var n="",r=e;do n+=yz(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function e0(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Vv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var FI=typeof WeakMap=="function"?WeakMap:Map;function c5(t,e,n){n=yi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){kd||(kd=!0,ny=r),Vv(t,e)},n}function u5(t,e,n){n=yi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Vv(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Vv(t,e),typeof r!="function"&&(sa===null?sa=new Set([this]):sa.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function pS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new FI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=aR.bind(null,t,e,n),e.then(t,t))}function mS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function gS(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=yi(-1,1),e.tag=2,oa(n,e,1))),n.lanes|=1),t)}var VI=Mi.ReactCurrentOwner,pn=!1;function en(t,e,n,r){e.child=t===null?NC(e,null,n,r):Ts(e,t.child,n,r)}function vS(t,e,n,r,i){n=n.render;var a=e.ref;return ms(e,i),r=h1(t,e,n,r,a,i),n=d1(),t!==null&&!pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$i(t,e,i)):(Be&&n&&e1(e),e.flags|=1,en(t,e,r,i),e.child)}function yS(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!S1(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,f5(t,e,a,r,i)):(t=Yh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Hc,n(o,r)&&t.ref===e.ref)return $i(t,e,i)}return e.flags|=1,t=ca(a,r),t.ref=e.ref,t.return=e,e.child=t}function f5(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(Hc(a,r)&&t.ref===e.ref)if(pn=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(pn=!0);else return e.lanes=t.lanes,$i(t,e,i)}return Uv(t,e,n,r,i)}function h5(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(ns,Qn),Qn|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ze(ns,Qn),Qn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,ze(ns,Qn),Qn|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,ze(ns,Qn),Qn|=r;return en(t,e,i,n),e.child}function d5(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Uv(t,e,n,r,i){var a=On(n)?uo:Gt.current;return a=Cs(e,a),ms(e,i),n=h1(t,e,n,r,a,i),r=d1(),t!==null&&!pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$i(t,e,i)):(Be&&r&&e1(e),e.flags|=1,en(t,e,n,i),e.child)}function OS(t,e,n,r,i){if(On(n)){var a=!0;gd(e)}else a=!1;if(ms(e,i),e.stateNode===null)Vh(t,e),l5(e,n,r),Fv(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=ar(c):(c=On(n)?uo:Gt.current,c=Cs(e,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||l!==c)&&dS(e,o,r,c),Bi=!1;var h=e.memoizedState;o.state=h,xd(e,r,o,i),l=e.memoizedState,s!==r||h!==l||yn.current||Bi?(typeof u=="function"&&(Xv(e,n,u,r),l=e.memoizedState),(s=Bi||hS(e,n,s,r,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,BC(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:pr(e.type,s),o.props=c,f=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ar(l):(l=On(n)?uo:Gt.current,l=Cs(e,l));var d=n.getDerivedStateFromProps;(u=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||h!==l)&&dS(e,o,r,l),Bi=!1,h=e.memoizedState,o.state=h,xd(e,r,o,i);var p=e.memoizedState;s!==f||h!==p||yn.current||Bi?(typeof d=="function"&&(Xv(e,n,d,r),p=e.memoizedState),(c=Bi||hS(e,n,c,r,h,p,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return qv(t,e,n,r,a,i)}function qv(t,e,n,r,i,a){d5(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&iS(e,n,!1),$i(t,e,a);r=e.stateNode,VI.current=e;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ts(e,t.child,null,a),e.child=Ts(e,null,s,a)):en(t,e,s,a),e.memoizedState=r.state,i&&iS(e,n,!0),e.child}function p5(t){var e=t.stateNode;e.pendingContext?rS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&rS(t,e.context,!1),l1(t,e.containerInfo)}function bS(t,e,n,r,i){return Es(),n1(i),e.flags|=256,en(t,e,n,r),e.child}var Yv={dehydrated:null,treeContext:null,retryLane:0};function Gv(t){return{baseLanes:t,cachePool:null,transitions:null}}function m5(t,e,n){var r=e.pendingProps,i=Fe.current,a=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ze(Fe,i&1),t===null)return Zv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,a?(r=e.mode,a=e.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=bm(o,r,0,null),t=ro(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Gv(n),e.memoizedState=Yv,t):g1(e,o));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return UI(t,e,o,r,s,i,n);if(a){a=r.fallback,o=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ca(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=ca(s,a):(a=ro(a,o,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,o=t.child.memoizedState,o=o===null?Gv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~n,e.memoizedState=Yv,r}return a=t.child,t=a.sibling,r=ca(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function g1(t,e){return e=bm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Vf(t,e,n,r){return r!==null&&n1(r),Ts(e,t.child,null,n),t=g1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function UI(t,e,n,r,i,a,o){if(n)return e.flags&256?(e.flags&=-257,r=e0(Error(U(422))),Vf(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=bm({mode:"visible",children:r.children},i,0,null),a=ro(a,i,o,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&Ts(e,t.child,null,o),e.child.memoizedState=Gv(o),e.memoizedState=Yv,a);if(!(e.mode&1))return Vf(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,a=Error(U(419)),r=e0(a,r,void 0),Vf(t,e,o,r)}if(s=(o&t.childLanes)!==0,pn||s){if(r=At,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,_i(t,i),kr(r,t,i,-1))}return w1(),r=e0(Error(U(421))),Vf(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=oR.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Dn=aa(i.nextSibling),Ln=e,Be=!0,Or=null,t!==null&&(Yn[Gn++]=di,Yn[Gn++]=pi,Yn[Gn++]=fo,di=t.id,pi=t.overflow,fo=e),e=g1(e,r.children),e.flags|=4096,e)}function xS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Wv(t.return,e,n)}function t0(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function g5(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(en(t,e,r.children,n),r=Fe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xS(t,n,e);else if(t.tag===19)xS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ze(Fe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&wd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),t0(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&wd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}t0(e,!0,n,null,a);break;case"together":t0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Vh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function $i(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),po|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=ca(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ca(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function qI(t,e,n){switch(e.tag){case 3:p5(e),Es();break;case 5:ZC(e);break;case 1:On(e.type)&&gd(e);break;case 4:l1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ze(Od,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ze(Fe,Fe.current&1),e.flags|=128,null):n&e.child.childLanes?m5(t,e,n):(ze(Fe,Fe.current&1),t=$i(t,e,n),t!==null?t.sibling:null);ze(Fe,Fe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return g5(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ze(Fe,Fe.current),r)break;return null;case 22:case 23:return e.lanes=0,h5(t,e,n)}return $i(t,e,n)}var v5,Hv,y5,O5;v5=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Hv=function(){};y5=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ua(Jr.current);var a=null;switch(n){case"input":i=Ov(t,i),r=Ov(t,r),a=[];break;case"select":i=qe({},i,{value:void 0}),r=qe({},r,{value:void 0}),a=[];break;case"textarea":i=wv(t,i),r=wv(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=pd)}_v(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Xc.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(s=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Xc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ie("scroll",t),a||s===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(e.updateQueue=c)&&(e.flags|=4)}};O5=function(t,e,n,r){n!==r&&(e.flags|=4)};function Zl(t,e){if(!Be)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Xt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function YI(t,e,n){var r=e.pendingProps;switch(t1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(e),null;case 1:return On(e.type)&&md(),Xt(e),null;case 3:return r=e.stateNode,Ms(),Ne(yn),Ne(Gt),u1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Xf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Or!==null&&(ay(Or),Or=null))),Hv(t,e),Xt(e),null;case 5:c1(e);var i=Ua(nu.current);if(n=e.type,t!==null&&e.stateNode!=null)y5(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return Xt(e),null}if(t=Ua(Jr.current),Xf(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Zr]=e,r[eu]=a,t=(e.mode&1)!==0,n){case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":case"embed":Ie("load",r);break;case"video":case"audio":for(i=0;i<pc.length;i++)Ie(pc[i],r);break;case"source":Ie("error",r);break;case"img":case"image":case"link":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"input":Ew(r,a),Ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ie("invalid",r);break;case"textarea":Mw(r,a),Ie("invalid",r)}_v(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?r.textContent!==s&&(a.suppressHydrationWarning!==!0&&Wf(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&Wf(r.textContent,s,t),i=["children",""+s]):Xc.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&Ie("scroll",r)}switch(n){case"input":zf(r),Tw(r,a,!0);break;case"textarea":zf(r),jw(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=pd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=UA(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Zr]=e,t[eu]=r,v5(t,e,!1,!1),e.stateNode=t;e:{switch(o=$v(n,r),n){case"dialog":Ie("cancel",t),Ie("close",t),i=r;break;case"iframe":case"object":case"embed":Ie("load",t),i=r;break;case"video":case"audio":for(i=0;i<pc.length;i++)Ie(pc[i],t);i=r;break;case"source":Ie("error",t),i=r;break;case"img":case"image":case"link":Ie("error",t),Ie("load",t),i=r;break;case"details":Ie("toggle",t),i=r;break;case"input":Ew(t,r),i=Ov(t,r),Ie("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=qe({},r,{value:void 0}),Ie("invalid",t);break;case"textarea":Mw(t,r),i=wv(t,r),Ie("invalid",t);break;default:i=r}_v(n,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?GA(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&qA(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Fc(t,l):typeof l=="number"&&Fc(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Xc.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Ie("scroll",t):l!=null&&Lb(t,a,l,o))}switch(n){case"input":zf(t),Tw(t,r,!1);break;case"textarea":zf(t),jw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+da(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?fs(t,!!r.multiple,a,!1):r.defaultValue!=null&&fs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=pd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Xt(e),null;case 6:if(t&&e.stateNode!=null)O5(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=Ua(nu.current),Ua(Jr.current),Xf(e)){if(r=e.stateNode,n=e.memoizedProps,r[Zr]=e,(a=r.nodeValue!==n)&&(t=Ln,t!==null))switch(t.tag){case 3:Wf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Wf(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zr]=e,e.stateNode=r}return Xt(e),null;case 13:if(Ne(Fe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Be&&Dn!==null&&e.mode&1&&!(e.flags&128))RC(),Es(),e.flags|=98560,a=!1;else if(a=Xf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(U(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(U(317));a[Zr]=e}else Es(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Xt(e),a=!1}else Or!==null&&(ay(Or),Or=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Fe.current&1?yt===0&&(yt=3):w1())),e.updateQueue!==null&&(e.flags|=4),Xt(e),null);case 4:return Ms(),Hv(t,e),t===null&&Kc(e.stateNode.containerInfo),Xt(e),null;case 10:return a1(e.type._context),Xt(e),null;case 17:return On(e.type)&&md(),Xt(e),null;case 19:if(Ne(Fe),a=e.memoizedState,a===null)return Xt(e),null;if(r=(e.flags&128)!==0,o=a.rendering,o===null)if(r)Zl(a,!1);else{if(yt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=wd(t),o!==null){for(e.flags|=128,Zl(a,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ze(Fe,Fe.current&1|2),e.child}t=t.sibling}a.tail!==null&&et()>Qs&&(e.flags|=128,r=!0,Zl(a,!1),e.lanes=4194304)}else{if(!r)if(t=wd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Zl(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Be)return Xt(e),null}else 2*et()-a.renderingStartTime>Qs&&n!==1073741824&&(e.flags|=128,r=!0,Zl(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(n=a.last,n!==null?n.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=et(),e.sibling=null,n=Fe.current,ze(Fe,r?n&1|2:n&1),e):(Xt(e),null);case 22:case 23:return x1(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Qn&1073741824&&(Xt(e),e.subtreeFlags&6&&(e.flags|=8192)):Xt(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function GI(t,e){switch(t1(e),e.tag){case 1:return On(e.type)&&md(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ms(),Ne(yn),Ne(Gt),u1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return c1(e),null;case 13:if(Ne(Fe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));Es()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ne(Fe),null;case 4:return Ms(),null;case 10:return a1(e.type._context),null;case 22:case 23:return x1(),null;case 24:return null;default:return null}}var Uf=!1,Ut=!1,HI=typeof WeakSet=="function"?WeakSet:Set,te=null;function ts(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ge(t,e,r)}else n.current=null}function Kv(t,e,n){try{n()}catch(r){Ge(t,e,r)}}var wS=!1;function KI(t,e){if(zv=fd,t=_C(),Jb(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,c=0,u=0,f=t,h=null;t:for(;;){for(var d;f!==n||i!==0&&f.nodeType!==3||(s=o+i),f!==a||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(d=f.firstChild)!==null;)h=f,f=d;for(;;){if(f===t)break t;if(h===n&&++c===i&&(s=o),h===a&&++u===r&&(l=o),(d=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=d}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Iv={focusedElem:t,selectionRange:n},fd=!1,te=e;te!==null;)if(e=te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,te=t;else for(;te!==null;){e=te;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,v=p.memoizedState,g=e.stateNode,y=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:pr(e.type,m),v);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(_){Ge(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,te=t;break}te=e.return}return p=wS,wS=!1,p}function Pc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&Kv(e,n,a)}i=i.next}while(i!==r)}}function ym(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Jv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function b5(t){var e=t.alternate;e!==null&&(t.alternate=null,b5(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Zr],delete e[eu],delete e[Nv],delete e[QI],delete e[zI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function x5(t){return t.tag===5||t.tag===3||t.tag===4}function SS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||x5(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ey(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=pd));else if(r!==4&&(t=t.child,t!==null))for(ey(t,e,n),t=t.sibling;t!==null;)ey(t,e,n),t=t.sibling}function ty(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ty(t,e,n),t=t.sibling;t!==null;)ty(t,e,n),t=t.sibling}var jt=null,mr=!1;function Di(t,e,n){for(n=n.child;n!==null;)w5(t,e,n),n=n.sibling}function w5(t,e,n){if(Kr&&typeof Kr.onCommitFiberUnmount=="function")try{Kr.onCommitFiberUnmount(um,n)}catch{}switch(n.tag){case 5:Ut||ts(n,e);case 6:var r=jt,i=mr;jt=null,Di(t,e,n),jt=r,mr=i,jt!==null&&(mr?(t=jt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):jt.removeChild(n.stateNode));break;case 18:jt!==null&&(mr?(t=jt,n=n.stateNode,t.nodeType===8?qg(t.parentNode,n):t.nodeType===1&&qg(t,n),Yc(t)):qg(jt,n.stateNode));break;case 4:r=jt,i=mr,jt=n.stateNode.containerInfo,mr=!0,Di(t,e,n),jt=r,mr=i;break;case 0:case 11:case 14:case 15:if(!Ut&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Kv(n,e,o),i=i.next}while(i!==r)}Di(t,e,n);break;case 1:if(!Ut&&(ts(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ge(n,e,s)}Di(t,e,n);break;case 21:Di(t,e,n);break;case 22:n.mode&1?(Ut=(r=Ut)||n.memoizedState!==null,Di(t,e,n),Ut=r):Di(t,e,n);break;default:Di(t,e,n)}}function _S(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new HI),e.forEach(function(r){var i=sR.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function hr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 5:jt=s.stateNode,mr=!1;break e;case 3:jt=s.stateNode.containerInfo,mr=!0;break e;case 4:jt=s.stateNode.containerInfo,mr=!0;break e}s=s.return}if(jt===null)throw Error(U(160));w5(a,o,i),jt=null,mr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Ge(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)S5(e,t),e=e.sibling}function S5(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(hr(e,t),Qr(t),r&4){try{Pc(3,t,t.return),ym(3,t)}catch(m){Ge(t,t.return,m)}try{Pc(5,t,t.return)}catch(m){Ge(t,t.return,m)}}break;case 1:hr(e,t),Qr(t),r&512&&n!==null&&ts(n,n.return);break;case 5:if(hr(e,t),Qr(t),r&512&&n!==null&&ts(n,n.return),t.flags&32){var i=t.stateNode;try{Fc(i,"")}catch(m){Ge(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=n!==null?n.memoizedProps:a,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&FA(i,a),$v(s,o);var c=$v(s,a);for(o=0;o<l.length;o+=2){var u=l[o],f=l[o+1];u==="style"?GA(i,f):u==="dangerouslySetInnerHTML"?qA(i,f):u==="children"?Fc(i,f):Lb(i,u,f,c)}switch(s){case"input":bv(i,a);break;case"textarea":VA(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var d=a.value;d!=null?fs(i,!!a.multiple,d,!1):h!==!!a.multiple&&(a.defaultValue!=null?fs(i,!!a.multiple,a.defaultValue,!0):fs(i,!!a.multiple,a.multiple?[]:"",!1))}i[eu]=a}catch(m){Ge(t,t.return,m)}}break;case 6:if(hr(e,t),Qr(t),r&4){if(t.stateNode===null)throw Error(U(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(m){Ge(t,t.return,m)}}break;case 3:if(hr(e,t),Qr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Yc(e.containerInfo)}catch(m){Ge(t,t.return,m)}break;case 4:hr(e,t),Qr(t);break;case 13:hr(e,t),Qr(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(O1=et())),r&4&&_S(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Ut=(c=Ut)||u,hr(e,t),Ut=c):hr(e,t),Qr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(te=t,u=t.child;u!==null;){for(f=te=u;te!==null;){switch(h=te,d=h.child,h.tag){case 0:case 11:case 14:case 15:Pc(4,h,h.return);break;case 1:ts(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){Ge(r,n,m)}}break;case 5:ts(h,h.return);break;case 22:if(h.memoizedState!==null){kS(f);continue}}d!==null?(d.return=h,te=d):kS(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=YA("display",o))}catch(m){Ge(t,t.return,m)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){Ge(t,t.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:hr(e,t),Qr(t),r&4&&_S(t);break;case 21:break;default:hr(e,t),Qr(t)}}function Qr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(x5(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Fc(i,""),r.flags&=-33);var a=SS(t);ty(t,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,s=SS(t);ey(t,s,o);break;default:throw Error(U(161))}}catch(l){Ge(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function JI(t,e,n){te=t,_5(t)}function _5(t,e,n){for(var r=(t.mode&1)!==0;te!==null;){var i=te,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Uf;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Ut;s=Uf;var c=Ut;if(Uf=o,(Ut=l)&&!c)for(te=i;te!==null;)o=te,l=o.child,o.tag===22&&o.memoizedState!==null?PS(i):l!==null?(l.return=o,te=l):PS(i);for(;a!==null;)te=a,_5(a),a=a.sibling;te=i,Uf=s,Ut=c}$S(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,te=a):$S(t)}}function $S(t){for(;te!==null;){var e=te;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ut||ym(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ut)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:pr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&cS(e,a,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}cS(e,o,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Yc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Ut||e.flags&512&&Jv(e)}catch(h){Ge(e,e.return,h)}}if(e===t){te=null;break}if(n=e.sibling,n!==null){n.return=e.return,te=n;break}te=e.return}}function kS(t){for(;te!==null;){var e=te;if(e===t){te=null;break}var n=e.sibling;if(n!==null){n.return=e.return,te=n;break}te=e.return}}function PS(t){for(;te!==null;){var e=te;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ym(4,e)}catch(l){Ge(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ge(e,i,l)}}var a=e.return;try{Jv(e)}catch(l){Ge(e,a,l)}break;case 5:var o=e.return;try{Jv(e)}catch(l){Ge(e,o,l)}}}catch(l){Ge(e,e.return,l)}if(e===t){te=null;break}var s=e.sibling;if(s!==null){s.return=e.return,te=s;break}te=e.return}}var eR=Math.ceil,$d=Mi.ReactCurrentDispatcher,v1=Mi.ReactCurrentOwner,rr=Mi.ReactCurrentBatchConfig,be=0,At=null,ot=null,Nt=0,Qn=0,ns=Sa(0),yt=0,ou=null,po=0,Om=0,y1=0,Ac=null,un=null,O1=0,Qs=1/0,ci=null,kd=!1,ny=null,sa=null,qf=!1,Hi=null,Pd=0,Cc=0,ry=null,Uh=-1,qh=0;function rn(){return be&6?et():Uh!==-1?Uh:Uh=et()}function la(t){return t.mode&1?be&2&&Nt!==0?Nt&-Nt:RI.transition!==null?(qh===0&&(qh=lC()),qh):(t=_e,t!==0||(t=window.event,t=t===void 0?16:mC(t.type)),t):1}function kr(t,e,n,r){if(50<Cc)throw Cc=0,ry=null,Error(U(185));cf(t,n,r),(!(be&2)||t!==At)&&(t===At&&(!(be&2)&&(Om|=n),yt===4&&Ui(t,Nt)),bn(t,r),n===1&&be===0&&!(e.mode&1)&&(Qs=et()+500,mm&&_a()))}function bn(t,e){var n=t.callbackNode;Rz(t,e);var r=ud(t,t===At?Nt:0);if(r===0)n!==null&&Iw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Iw(n),e===1)t.tag===0?II(AS.bind(null,t)):QC(AS.bind(null,t)),MI(function(){!(be&6)&&_a()}),n=null;else{switch(cC(r)){case 1:n=Fb;break;case 4:n=oC;break;case 16:n=cd;break;case 536870912:n=sC;break;default:n=cd}n=M5(n,$5.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function $5(t,e){if(Uh=-1,qh=0,be&6)throw Error(U(327));var n=t.callbackNode;if(gs()&&t.callbackNode!==n)return null;var r=ud(t,t===At?Nt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ad(t,r);else{e=r;var i=be;be|=2;var a=P5();(At!==t||Nt!==e)&&(ci=null,Qs=et()+500,no(t,e));do try{rR();break}catch(s){k5(t,s)}while(!0);i1(),$d.current=a,be=i,ot!==null?e=0:(At=null,Nt=0,e=yt)}if(e!==0){if(e===2&&(i=Ev(t),i!==0&&(r=i,e=iy(t,i))),e===1)throw n=ou,no(t,0),Ui(t,r),bn(t,et()),n;if(e===6)Ui(t,r);else{if(i=t.current.alternate,!(r&30)&&!tR(i)&&(e=Ad(t,r),e===2&&(a=Ev(t),a!==0&&(r=a,e=iy(t,a))),e===1))throw n=ou,no(t,0),Ui(t,r),bn(t,et()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:Da(t,un,ci);break;case 3:if(Ui(t,r),(r&130023424)===r&&(e=O1+500-et(),10<e)){if(ud(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){rn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Dv(Da.bind(null,t,un,ci),e);break}Da(t,un,ci);break;case 4:if(Ui(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-$r(r);a=1<<o,o=e[o],o>i&&(i=o),r&=~a}if(r=i,r=et()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*eR(r/1960))-r,10<r){t.timeoutHandle=Dv(Da.bind(null,t,un,ci),r);break}Da(t,un,ci);break;case 5:Da(t,un,ci);break;default:throw Error(U(329))}}}return bn(t,et()),t.callbackNode===n?$5.bind(null,t):null}function iy(t,e){var n=Ac;return t.current.memoizedState.isDehydrated&&(no(t,e).flags|=256),t=Ad(t,e),t!==2&&(e=un,un=n,e!==null&&ay(e)),t}function ay(t){un===null?un=t:un.push.apply(un,t)}function tR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Ar(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ui(t,e){for(e&=~y1,e&=~Om,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-$r(e),r=1<<n;t[n]=-1,e&=~r}}function AS(t){if(be&6)throw Error(U(327));gs();var e=ud(t,0);if(!(e&1))return bn(t,et()),null;var n=Ad(t,e);if(t.tag!==0&&n===2){var r=Ev(t);r!==0&&(e=r,n=iy(t,r))}if(n===1)throw n=ou,no(t,0),Ui(t,e),bn(t,et()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Da(t,un,ci),bn(t,et()),null}function b1(t,e){var n=be;be|=1;try{return t(e)}finally{be=n,be===0&&(Qs=et()+500,mm&&_a())}}function mo(t){Hi!==null&&Hi.tag===0&&!(be&6)&&gs();var e=be;be|=1;var n=rr.transition,r=_e;try{if(rr.transition=null,_e=1,t)return t()}finally{_e=r,rr.transition=n,be=e,!(be&6)&&_a()}}function x1(){Qn=ns.current,Ne(ns)}function no(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,TI(n)),ot!==null)for(n=ot.return;n!==null;){var r=n;switch(t1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&md();break;case 3:Ms(),Ne(yn),Ne(Gt),u1();break;case 5:c1(r);break;case 4:Ms();break;case 13:Ne(Fe);break;case 19:Ne(Fe);break;case 10:a1(r.type._context);break;case 22:case 23:x1()}n=n.return}if(At=t,ot=t=ca(t.current,null),Nt=Qn=e,yt=0,ou=null,y1=Om=po=0,un=Ac=null,Va!==null){for(e=0;e<Va.length;e++)if(n=Va[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}Va=null}return t}function k5(t,e){do{var n=ot;try{if(i1(),Xh.current=_d,Sd){for(var r=Ue.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Sd=!1}if(ho=0,$t=gt=Ue=null,kc=!1,ru=0,v1.current=null,n===null||n.return===null){yt=1,ou=e,ot=null;break}e:{var a=t,o=n.return,s=n,l=e;if(e=Nt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=s,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var d=mS(o);if(d!==null){d.flags&=-257,gS(d,o,s,a,e),d.mode&1&&pS(a,c,e),e=d,l=c;var p=e.updateQueue;if(p===null){var m=new Set;m.add(l),e.updateQueue=m}else p.add(l);break e}else{if(!(e&1)){pS(a,c,e),w1();break e}l=Error(U(426))}}else if(Be&&s.mode&1){var v=mS(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),gS(v,o,s,a,e),n1(js(l,s));break e}}a=l=js(l,s),yt!==4&&(yt=2),Ac===null?Ac=[a]:Ac.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var g=c5(a,l,e);lS(a,g);break e;case 1:s=l;var y=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(sa===null||!sa.has(x)))){a.flags|=65536,e&=-e,a.lanes|=e;var _=u5(a,s,e);lS(a,_);break e}}a=a.return}while(a!==null)}C5(n)}catch(O){e=O,ot===n&&n!==null&&(ot=n=n.return);continue}break}while(!0)}function P5(){var t=$d.current;return $d.current=_d,t===null?_d:t}function w1(){(yt===0||yt===3||yt===2)&&(yt=4),At===null||!(po&268435455)&&!(Om&268435455)||Ui(At,Nt)}function Ad(t,e){var n=be;be|=2;var r=P5();(At!==t||Nt!==e)&&(ci=null,no(t,e));do try{nR();break}catch(i){k5(t,i)}while(!0);if(i1(),be=n,$d.current=r,ot!==null)throw Error(U(261));return At=null,Nt=0,yt}function nR(){for(;ot!==null;)A5(ot)}function rR(){for(;ot!==null&&!Az();)A5(ot)}function A5(t){var e=T5(t.alternate,t,Qn);t.memoizedProps=t.pendingProps,e===null?C5(t):ot=e,v1.current=null}function C5(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=GI(n,e),n!==null){n.flags&=32767,ot=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{yt=6,ot=null;return}}else if(n=YI(n,e,Qn),n!==null){ot=n;return}if(e=e.sibling,e!==null){ot=e;return}ot=e=t}while(e!==null);yt===0&&(yt=5)}function Da(t,e,n){var r=_e,i=rr.transition;try{rr.transition=null,_e=1,iR(t,e,n,r)}finally{rr.transition=i,_e=r}return null}function iR(t,e,n,r){do gs();while(Hi!==null);if(be&6)throw Error(U(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(Dz(t,a),t===At&&(ot=At=null,Nt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||qf||(qf=!0,M5(cd,function(){return gs(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=rr.transition,rr.transition=null;var o=_e;_e=1;var s=be;be|=4,v1.current=null,KI(t,n),S5(n,t),_I(Iv),fd=!!zv,Iv=zv=null,t.current=n,JI(n),Cz(),be=s,_e=o,rr.transition=a}else t.current=n;if(qf&&(qf=!1,Hi=t,Pd=i),a=t.pendingLanes,a===0&&(sa=null),Mz(n.stateNode),bn(t,et()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(kd)throw kd=!1,t=ny,ny=null,t;return Pd&1&&t.tag!==0&&gs(),a=t.pendingLanes,a&1?t===ry?Cc++:(Cc=0,ry=t):Cc=0,_a(),null}function gs(){if(Hi!==null){var t=cC(Pd),e=rr.transition,n=_e;try{if(rr.transition=null,_e=16>t?16:t,Hi===null)var r=!1;else{if(t=Hi,Hi=null,Pd=0,be&6)throw Error(U(331));var i=be;for(be|=4,te=t.current;te!==null;){var a=te,o=a.child;if(te.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(te=c;te!==null;){var u=te;switch(u.tag){case 0:case 11:case 15:Pc(8,u,a)}var f=u.child;if(f!==null)f.return=u,te=f;else for(;te!==null;){u=te;var h=u.sibling,d=u.return;if(b5(u),u===c){te=null;break}if(h!==null){h.return=d,te=h;break}te=d}}}var p=a.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}te=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,te=o;else e:for(;te!==null;){if(a=te,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Pc(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,te=g;break e}te=a.return}}var y=t.current;for(te=y;te!==null;){o=te;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,te=x;else e:for(o=y;te!==null;){if(s=te,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:ym(9,s)}}catch(O){Ge(s,s.return,O)}if(s===o){te=null;break e}var _=s.sibling;if(_!==null){_.return=s.return,te=_;break e}te=s.return}}if(be=i,_a(),Kr&&typeof Kr.onPostCommitFiberRoot=="function")try{Kr.onPostCommitFiberRoot(um,t)}catch{}r=!0}return r}finally{_e=n,rr.transition=e}}return!1}function CS(t,e,n){e=js(n,e),e=c5(t,e,1),t=oa(t,e,1),e=rn(),t!==null&&(cf(t,1,e),bn(t,e))}function Ge(t,e,n){if(t.tag===3)CS(t,t,n);else for(;e!==null;){if(e.tag===3){CS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(sa===null||!sa.has(r))){t=js(n,t),t=u5(e,t,1),e=oa(e,t,1),t=rn(),e!==null&&(cf(e,1,t),bn(e,t));break}}e=e.return}}function aR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=rn(),t.pingedLanes|=t.suspendedLanes&n,At===t&&(Nt&n)===n&&(yt===4||yt===3&&(Nt&130023424)===Nt&&500>et()-O1?no(t,0):y1|=n),bn(t,e)}function E5(t,e){e===0&&(t.mode&1?(e=Df,Df<<=1,!(Df&130023424)&&(Df=4194304)):e=1);var n=rn();t=_i(t,e),t!==null&&(cf(t,e,n),bn(t,n))}function oR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),E5(t,n)}function sR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),E5(t,n)}var T5;T5=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||yn.current)pn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return pn=!1,qI(t,e,n);pn=!!(t.flags&131072)}else pn=!1,Be&&e.flags&1048576&&zC(e,yd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Vh(t,e),t=e.pendingProps;var i=Cs(e,Gt.current);ms(e,n),i=h1(null,e,r,t,i,n);var a=d1();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,On(r)?(a=!0,gd(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,s1(e),i.updater=vm,e.stateNode=i,i._reactInternals=e,Fv(e,r,t,n),e=qv(null,e,r,!0,a,n)):(e.tag=0,Be&&a&&e1(e),en(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Vh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=cR(r),t=pr(r,t),i){case 0:e=Uv(null,e,r,t,n);break e;case 1:e=OS(null,e,r,t,n);break e;case 11:e=vS(null,e,r,t,n);break e;case 14:e=yS(null,e,r,pr(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pr(r,i),Uv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pr(r,i),OS(t,e,r,i,n);case 3:e:{if(p5(e),t===null)throw Error(U(387));r=e.pendingProps,a=e.memoizedState,i=a.element,BC(t,e),xd(e,r,null,n);var o=e.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=js(Error(U(423)),e),e=bS(t,e,r,n,i);break e}else if(r!==i){i=js(Error(U(424)),e),e=bS(t,e,r,n,i);break e}else for(Dn=aa(e.stateNode.containerInfo.firstChild),Ln=e,Be=!0,Or=null,n=NC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Es(),r===i){e=$i(t,e,n);break e}en(t,e,r,n)}e=e.child}return e;case 5:return ZC(e),t===null&&Zv(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,Rv(r,i)?o=null:a!==null&&Rv(r,a)&&(e.flags|=32),d5(t,e),en(t,e,o,n),e.child;case 6:return t===null&&Zv(e),null;case 13:return m5(t,e,n);case 4:return l1(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ts(e,null,r,n):en(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pr(r,i),vS(t,e,r,i,n);case 7:return en(t,e,e.pendingProps,n),e.child;case 8:return en(t,e,e.pendingProps.children,n),e.child;case 12:return en(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,ze(Od,r._currentValue),r._currentValue=o,a!==null)if(Ar(a.value,o)){if(a.children===i.children&&!yn.current){e=$i(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=yi(-1,n&-n),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Wv(a.return,n,e),s.lanes|=n;break}l=l.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(U(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),Wv(o,n,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}en(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ms(e,n),i=ar(i),r=r(i),e.flags|=1,en(t,e,r,n),e.child;case 14:return r=e.type,i=pr(r,e.pendingProps),i=pr(r.type,i),yS(t,e,r,i,n);case 15:return f5(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pr(r,i),Vh(t,e),e.tag=1,On(r)?(t=!0,gd(e)):t=!1,ms(e,n),l5(e,r,i),Fv(e,r,i,n),qv(null,e,r,!0,t,n);case 19:return g5(t,e,n);case 22:return h5(t,e,n)}throw Error(U(156,e.tag))};function M5(t,e){return aC(t,e)}function lR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(t,e,n,r){return new lR(t,e,n,r)}function S1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cR(t){if(typeof t=="function")return S1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Zb)return 11;if(t===Wb)return 14}return 2}function ca(t,e){var n=t.alternate;return n===null?(n=Kn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Yh(t,e,n,r,i,a){var o=2;if(r=t,typeof t=="function")S1(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Vo:return ro(n.children,i,a,e);case Bb:o=8,i|=8;break;case mv:return t=Kn(12,n,e,i|2),t.elementType=mv,t.lanes=a,t;case gv:return t=Kn(13,n,e,i),t.elementType=gv,t.lanes=a,t;case vv:return t=Kn(19,n,e,i),t.elementType=vv,t.lanes=a,t;case ZA:return bm(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case LA:o=10;break e;case BA:o=9;break e;case Zb:o=11;break e;case Wb:o=14;break e;case Li:o=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=Kn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function ro(t,e,n,r){return t=Kn(7,t,r,e),t.lanes=n,t}function bm(t,e,n,r){return t=Kn(22,t,r,e),t.elementType=ZA,t.lanes=n,t.stateNode={isHidden:!1},t}function n0(t,e,n){return t=Kn(6,t,null,e),t.lanes=n,t}function r0(t,e,n){return e=Kn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function uR(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rg(0),this.expirationTimes=Rg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function _1(t,e,n,r,i,a,o,s,l){return t=new uR(t,e,n,s,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Kn(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},s1(a),t}function fR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function j5(t){if(!t)return pa;t=t._reactInternals;e:{if(Po(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(On(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(On(n))return jC(t,n,e)}return e}function Q5(t,e,n,r,i,a,o,s,l){return t=_1(n,r,!0,t,i,a,o,s,l),t.context=j5(null),n=t.current,r=rn(),i=la(n),a=yi(r,i),a.callback=e??null,oa(n,a,i),t.current.lanes=i,cf(t,i,r),bn(t,r),t}function xm(t,e,n,r){var i=e.current,a=rn(),o=la(i);return n=j5(n),e.context===null?e.context=n:e.pendingContext=n,e=yi(a,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=oa(i,e,o),t!==null&&(kr(t,i,o,a),Wh(t,i,o)),o}function Cd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ES(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function $1(t,e){ES(t,e),(t=t.alternate)&&ES(t,e)}function hR(){return null}var z5=typeof reportError=="function"?reportError:function(t){console.error(t)};function k1(t){this._internalRoot=t}wm.prototype.render=k1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));xm(t,e,null,null)};wm.prototype.unmount=k1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;mo(function(){xm(null,t,null,null)}),e[Si]=null}};function wm(t){this._internalRoot=t}wm.prototype.unstable_scheduleHydration=function(t){if(t){var e=hC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Vi.length&&e!==0&&e<Vi[n].priority;n++);Vi.splice(n,0,t),n===0&&pC(t)}};function P1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Sm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function TS(){}function dR(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var c=Cd(o);a.call(c)}}var o=Q5(e,r,t,0,null,!1,!1,"",TS);return t._reactRootContainer=o,t[Si]=o.current,Kc(t.nodeType===8?t.parentNode:t),mo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var c=Cd(l);s.call(c)}}var l=_1(t,0,!1,null,null,!1,!1,"",TS);return t._reactRootContainer=l,t[Si]=l.current,Kc(t.nodeType===8?t.parentNode:t),mo(function(){xm(e,l,n,r)}),l}function _m(t,e,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=Cd(o);s.call(l)}}xm(e,o,t,i)}else o=dR(n,e,t,i,r);return Cd(o)}uC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=dc(e.pendingLanes);n!==0&&(Vb(e,n|1),bn(e,et()),!(be&6)&&(Qs=et()+500,_a()))}break;case 13:mo(function(){var r=_i(t,1);if(r!==null){var i=rn();kr(r,t,1,i)}}),$1(t,1)}};Ub=function(t){if(t.tag===13){var e=_i(t,134217728);if(e!==null){var n=rn();kr(e,t,134217728,n)}$1(t,134217728)}};fC=function(t){if(t.tag===13){var e=la(t),n=_i(t,e);if(n!==null){var r=rn();kr(n,t,e,r)}$1(t,e)}};hC=function(){return _e};dC=function(t,e){var n=_e;try{return _e=t,e()}finally{_e=n}};Pv=function(t,e,n){switch(e){case"input":if(bv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=pm(r);if(!i)throw Error(U(90));XA(r),bv(r,i)}}}break;case"textarea":VA(t,n);break;case"select":e=n.value,e!=null&&fs(t,!!n.multiple,e,!1)}};JA=b1;eC=mo;var pR={usingClientEntryPoint:!1,Events:[ff,Go,pm,HA,KA,b1]},Wl={findFiberByHostInstance:Fa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mR={bundleType:Wl.bundleType,version:Wl.version,rendererPackageName:Wl.rendererPackageName,rendererConfig:Wl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=rC(t),t===null?null:t.stateNode},findFiberByHostInstance:Wl.findFiberByHostInstance||hR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yf.isDisabled&&Yf.supportsFiber)try{um=Yf.inject(mR),Kr=Yf}catch{}}Zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pR;Zn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!P1(e))throw Error(U(200));return fR(t,e,null,n)};Zn.createRoot=function(t,e){if(!P1(t))throw Error(U(299));var n=!1,r="",i=z5;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=_1(t,1,!1,null,null,n,!1,r,i),t[Si]=e.current,Kc(t.nodeType===8?t.parentNode:t),new k1(e)};Zn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=rC(e),t=t===null?null:t.stateNode,t};Zn.flushSync=function(t){return mo(t)};Zn.hydrate=function(t,e,n){if(!Sm(e))throw Error(U(200));return _m(null,t,e,!0,n)};Zn.hydrateRoot=function(t,e,n){if(!P1(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=z5;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Q5(e,null,t,1,n??null,i,!1,a,o),t[Si]=e.current,Kc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new wm(e)};Zn.render=function(t,e,n){if(!Sm(e))throw Error(U(200));return _m(null,t,e,!1,n)};Zn.unmountComponentAtNode=function(t){if(!Sm(t))throw Error(U(40));return t._reactRootContainer?(mo(function(){_m(null,null,t,!1,function(){t._reactRootContainer=null,t[Si]=null})}),!0):!1};Zn.unstable_batchedUpdates=b1;Zn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Sm(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return _m(t,e,n,!1,r)};Zn.version="18.3.1-next-f1338f8080-20240426";function I5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(I5)}catch(t){console.error(t)}}I5(),IA.exports=Zn;var gR=IA.exports,MS=gR;dv.createRoot=MS.createRoot,dv.hydrateRoot=MS.hydrateRoot;const vR="modulepreload",yR=function(t){return"/"+t},jS={},OR=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=yR(l),l in jS)return;jS[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":vR,c||(f.as="script"),f.crossOrigin="",f.href=l,s&&f.setAttribute("nonce",s),document.head.appendChild(f),c)return new Promise((h,d)=>{f.addEventListener("load",h),f.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return e().catch(a)})};function R5(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=R5(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function me(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=R5(t))&&(r&&(r+=" "),r+=e);return r}var bR=Array.isArray,$n=bR,xR=typeof Mf=="object"&&Mf&&Mf.Object===Object&&Mf,D5=xR,wR=D5,SR=typeof self=="object"&&self&&self.Object===Object&&self,_R=wR||SR||Function("return this")(),ai=_R,$R=ai,kR=$R.Symbol,df=kR,QS=df,N5=Object.prototype,PR=N5.hasOwnProperty,AR=N5.toString,Xl=QS?QS.toStringTag:void 0;function CR(t){var e=PR.call(t,Xl),n=t[Xl];try{t[Xl]=void 0;var r=!0}catch{}var i=AR.call(t);return r&&(e?t[Xl]=n:delete t[Xl]),i}var ER=CR,TR=Object.prototype,MR=TR.toString;function jR(t){return MR.call(t)}var QR=jR,zS=df,zR=ER,IR=QR,RR="[object Null]",DR="[object Undefined]",IS=zS?zS.toStringTag:void 0;function NR(t){return t==null?t===void 0?DR:RR:IS&&IS in Object(t)?zR(t):IR(t)}var ji=NR;function LR(t){return t!=null&&typeof t=="object"}var Qi=LR,BR=ji,ZR=Qi,WR="[object Symbol]";function XR(t){return typeof t=="symbol"||ZR(t)&&BR(t)==WR}var gl=XR,FR=$n,VR=gl,UR=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,qR=/^\w*$/;function YR(t,e){if(FR(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||VR(t)?!0:qR.test(t)||!UR.test(t)||e!=null&&t in Object(e)}var A1=YR;function GR(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var $a=GR;const vl=Me($a);var HR=ji,KR=$a,JR="[object AsyncFunction]",eD="[object Function]",tD="[object GeneratorFunction]",nD="[object Proxy]";function rD(t){if(!KR(t))return!1;var e=HR(t);return e==eD||e==tD||e==JR||e==nD}var C1=rD;const ce=Me(C1);var iD=ai,aD=iD["__core-js_shared__"],oD=aD,i0=oD,RS=function(){var t=/[^.]+$/.exec(i0&&i0.keys&&i0.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function sD(t){return!!RS&&RS in t}var lD=sD,cD=Function.prototype,uD=cD.toString;function fD(t){if(t!=null){try{return uD.call(t)}catch{}try{return t+""}catch{}}return""}var L5=fD,hD=C1,dD=lD,pD=$a,mD=L5,gD=/[\\^$.*+?()[\]{}|]/g,vD=/^\[object .+?Constructor\]$/,yD=Function.prototype,OD=Object.prototype,bD=yD.toString,xD=OD.hasOwnProperty,wD=RegExp("^"+bD.call(xD).replace(gD,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function SD(t){if(!pD(t)||dD(t))return!1;var e=hD(t)?wD:vD;return e.test(mD(t))}var _D=SD;function $D(t,e){return t==null?void 0:t[e]}var kD=$D,PD=_D,AD=kD;function CD(t,e){var n=AD(t,e);return PD(n)?n:void 0}var Ao=CD,ED=Ao,TD=ED(Object,"create"),$m=TD,DS=$m;function MD(){this.__data__=DS?DS(null):{},this.size=0}var jD=MD;function QD(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var zD=QD,ID=$m,RD="__lodash_hash_undefined__",DD=Object.prototype,ND=DD.hasOwnProperty;function LD(t){var e=this.__data__;if(ID){var n=e[t];return n===RD?void 0:n}return ND.call(e,t)?e[t]:void 0}var BD=LD,ZD=$m,WD=Object.prototype,XD=WD.hasOwnProperty;function FD(t){var e=this.__data__;return ZD?e[t]!==void 0:XD.call(e,t)}var VD=FD,UD=$m,qD="__lodash_hash_undefined__";function YD(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=UD&&e===void 0?qD:e,this}var GD=YD,HD=jD,KD=zD,JD=BD,eN=VD,tN=GD;function yl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}yl.prototype.clear=HD;yl.prototype.delete=KD;yl.prototype.get=JD;yl.prototype.has=eN;yl.prototype.set=tN;var nN=yl;function rN(){this.__data__=[],this.size=0}var iN=rN;function aN(t,e){return t===e||t!==t&&e!==e}var E1=aN,oN=E1;function sN(t,e){for(var n=t.length;n--;)if(oN(t[n][0],e))return n;return-1}var km=sN,lN=km,cN=Array.prototype,uN=cN.splice;function fN(t){var e=this.__data__,n=lN(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():uN.call(e,n,1),--this.size,!0}var hN=fN,dN=km;function pN(t){var e=this.__data__,n=dN(e,t);return n<0?void 0:e[n][1]}var mN=pN,gN=km;function vN(t){return gN(this.__data__,t)>-1}var yN=vN,ON=km;function bN(t,e){var n=this.__data__,r=ON(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var xN=bN,wN=iN,SN=hN,_N=mN,$N=yN,kN=xN;function Ol(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ol.prototype.clear=wN;Ol.prototype.delete=SN;Ol.prototype.get=_N;Ol.prototype.has=$N;Ol.prototype.set=kN;var Pm=Ol,PN=Ao,AN=ai,CN=PN(AN,"Map"),T1=CN,NS=nN,EN=Pm,TN=T1;function MN(){this.size=0,this.__data__={hash:new NS,map:new(TN||EN),string:new NS}}var jN=MN;function QN(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var zN=QN,IN=zN;function RN(t,e){var n=t.__data__;return IN(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Am=RN,DN=Am;function NN(t){var e=DN(this,t).delete(t);return this.size-=e?1:0,e}var LN=NN,BN=Am;function ZN(t){return BN(this,t).get(t)}var WN=ZN,XN=Am;function FN(t){return XN(this,t).has(t)}var VN=FN,UN=Am;function qN(t,e){var n=UN(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var YN=qN,GN=jN,HN=LN,KN=WN,JN=VN,eL=YN;function bl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}bl.prototype.clear=GN;bl.prototype.delete=HN;bl.prototype.get=KN;bl.prototype.has=JN;bl.prototype.set=eL;var M1=bl,B5=M1,tL="Expected a function";function j1(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(tL);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(j1.Cache||B5),n}j1.Cache=B5;var Z5=j1;const nL=Me(Z5);var rL=Z5,iL=500;function aL(t){var e=rL(t,function(r){return n.size===iL&&n.clear(),r}),n=e.cache;return e}var oL=aL,sL=oL,lL=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,cL=/\\(\\)?/g,uL=sL(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(lL,function(n,r,i,a){e.push(i?a.replace(cL,"$1"):r||n)}),e}),fL=uL;function hL(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Q1=hL,LS=df,dL=Q1,pL=$n,mL=gl,BS=LS?LS.prototype:void 0,ZS=BS?BS.toString:void 0;function W5(t){if(typeof t=="string")return t;if(pL(t))return dL(t,W5)+"";if(mL(t))return ZS?ZS.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var gL=W5,vL=gL;function yL(t){return t==null?"":vL(t)}var X5=yL,OL=$n,bL=A1,xL=fL,wL=X5;function SL(t,e){return OL(t)?t:bL(t,e)?[t]:xL(wL(t))}var F5=SL,_L=gl;function $L(t){if(typeof t=="string"||_L(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Cm=$L,kL=F5,PL=Cm;function AL(t,e){e=kL(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[PL(e[n++])];return n&&n==r?t:void 0}var z1=AL,CL=z1;function EL(t,e,n){var r=t==null?void 0:CL(t,e);return r===void 0?n:r}var V5=EL;const ir=Me(V5);function TL(t){return t==null}var ML=TL;const oe=Me(ML);var jL=ji,QL=$n,zL=Qi,IL="[object String]";function RL(t){return typeof t=="string"||!QL(t)&&zL(t)&&jL(t)==IL}var DL=RL;const go=Me(DL);var U5={exports:{}},$e={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I1=Symbol.for("react.element"),R1=Symbol.for("react.portal"),Em=Symbol.for("react.fragment"),Tm=Symbol.for("react.strict_mode"),Mm=Symbol.for("react.profiler"),jm=Symbol.for("react.provider"),Qm=Symbol.for("react.context"),NL=Symbol.for("react.server_context"),zm=Symbol.for("react.forward_ref"),Im=Symbol.for("react.suspense"),Rm=Symbol.for("react.suspense_list"),Dm=Symbol.for("react.memo"),Nm=Symbol.for("react.lazy"),LL=Symbol.for("react.offscreen"),q5;q5=Symbol.for("react.module.reference");function cr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case I1:switch(t=t.type,t){case Em:case Mm:case Tm:case Im:case Rm:return t;default:switch(t=t&&t.$$typeof,t){case NL:case Qm:case zm:case Nm:case Dm:case jm:return t;default:return e}}case R1:return e}}}$e.ContextConsumer=Qm;$e.ContextProvider=jm;$e.Element=I1;$e.ForwardRef=zm;$e.Fragment=Em;$e.Lazy=Nm;$e.Memo=Dm;$e.Portal=R1;$e.Profiler=Mm;$e.StrictMode=Tm;$e.Suspense=Im;$e.SuspenseList=Rm;$e.isAsyncMode=function(){return!1};$e.isConcurrentMode=function(){return!1};$e.isContextConsumer=function(t){return cr(t)===Qm};$e.isContextProvider=function(t){return cr(t)===jm};$e.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===I1};$e.isForwardRef=function(t){return cr(t)===zm};$e.isFragment=function(t){return cr(t)===Em};$e.isLazy=function(t){return cr(t)===Nm};$e.isMemo=function(t){return cr(t)===Dm};$e.isPortal=function(t){return cr(t)===R1};$e.isProfiler=function(t){return cr(t)===Mm};$e.isStrictMode=function(t){return cr(t)===Tm};$e.isSuspense=function(t){return cr(t)===Im};$e.isSuspenseList=function(t){return cr(t)===Rm};$e.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Em||t===Mm||t===Tm||t===Im||t===Rm||t===LL||typeof t=="object"&&t!==null&&(t.$$typeof===Nm||t.$$typeof===Dm||t.$$typeof===jm||t.$$typeof===Qm||t.$$typeof===zm||t.$$typeof===q5||t.getModuleId!==void 0)};$e.typeOf=cr;U5.exports=$e;var BL=U5.exports,ZL=ji,WL=Qi,XL="[object Number]";function FL(t){return typeof t=="number"||WL(t)&&ZL(t)==XL}var Y5=FL;const VL=Me(Y5);var UL=Y5;function qL(t){return UL(t)&&t!=+t}var YL=qL;const xl=Me(YL);var wr=function(e){return e===0?0:e>0?1:-1},qa=function(e){return go(e)&&e.indexOf("%")===e.length-1},q=function(e){return VL(e)&&!xl(e)},GL=function(e){return oe(e)},Ot=function(e){return q(e)||go(e)},HL=0,Co=function(e){var n=++HL;return"".concat(e||"").concat(n)},vo=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!q(e)&&!go(e))return r;var a;if(qa(e)){var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return xl(a)&&(a=r),i&&a>n&&(a=n),a},qi=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},KL=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},tt=function(e,n){return q(e)&&q(n)?function(r){return e+r*(n-e)}:function(){return n}};function Ed(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):ir(r,e))===n})}var JL=function(e){if(!e||!e.length)return null;for(var n=e.length,r=0,i=0,a=0,o=0,s=1/0,l=-1/0,c=0,u=0,f=0;f<n;f++)c=e[f].cx||0,u=e[f].cy||0,r+=c,i+=u,a+=c*u,o+=c*c,s=Math.min(s,c),l=Math.max(l,c);var h=n*o!==r*r?(n*a-r*i)/(n*o-r*r):0;return{xmin:s,xmax:l,a:h,b:(i-h*r)/n}},e8=function(e,n){return q(e)&&q(n)?e-n:go(e)&&go(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function vs(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function oy(t){"@babel/helpers - typeof";return oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oy(t)}var t8=["viewBox","children"],n8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],WS=["points","pathLength"],a0={svg:t8,polygon:WS,polyline:WS},D1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Td=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(D.isValidElement(e)&&(r=e.props),!vl(r))return null;var i={};return Object.keys(r).forEach(function(a){D1.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},r8=function(e,n,r){return function(i){return e(n,r,i),null}},su=function(e,n,r){if(!vl(e)||oy(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];D1.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=r8(o,n,r))}),i},i8=["children"],a8=["children"];function XS(t,e){if(t==null)return{};var n=o8(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function o8(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sy(t){"@babel/helpers - typeof";return sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sy(t)}var FS={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Oi=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},VS=null,o0=null,N1=function t(e){if(e===VS&&Array.isArray(o0))return o0;var n=[];return D.Children.forEach(e,function(r){oe(r)||(BL.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),o0=n,VS=e,n};function xn(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Oi(i)}):r=[Oi(e)],N1(t).forEach(function(i){var a=ir(i,"type.displayName")||ir(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function zn(t,e){var n=xn(t,e);return n&&n[0]}var US=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!q(r)||r<=0||!q(i)||i<=0)},s8=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],l8=function(e){return e&&e.type&&go(e.type)&&s8.indexOf(e.type)>=0},G5=function(e){return e&&sy(e)==="object"&&"clipDot"in e},c8=function(e,n,r,i){var a,o=(a=a0==null?void 0:a0[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!ce(e)&&(i&&o.includes(n)||n8.includes(n))||r&&D1.includes(n)},le=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(D.isValidElement(e)&&(i=e.props),!vl(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;c8((s=i)===null||s===void 0?void 0:s[o],o,n,r)&&(a[o]=i[o])}),a},ly=function t(e,n){if(e===n)return!0;var r=D.Children.count(e);if(r!==D.Children.count(n))return!1;if(r===0)return!0;if(r===1)return qS(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!qS(a,o))return!1}return!0},qS=function(e,n){if(oe(e)&&oe(n))return!0;if(!oe(e)&&!oe(n)){var r=e.props||{},i=r.children,a=XS(r,i8),o=n.props||{},s=o.children,l=XS(o,a8);return i&&s?vs(a,l)&&ly(i,s):!i&&!s?vs(a,l):!1}return!1},YS=function(e,n){var r=[],i={};return N1(e).forEach(function(a,o){if(l8(a))r.push(a);else if(a){var s=Oi(a.type),l=n[s]||{},c=l.handler,u=l.once;if(c&&(!u||!i[s])){var f=c(a,s,o);r.push(f),i[s]=!0}}}),r},u8=function(e){var n=e&&e.type;return n&&FS[n]?FS[n]:null},f8=function(e,n){return N1(n).indexOf(e)},h8=["children","width","height","viewBox","className","style","title","desc"];function cy(){return cy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cy.apply(this,arguments)}function d8(t,e){if(t==null)return{};var n=p8(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function p8(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function uy(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,l=t.desc,c=d8(t,h8),u=i||{width:n,height:r,x:0,y:0},f=me("recharts-surface",a);return E.createElement("svg",cy({},le(c,!0,"svg"),{className:f,width:n,height:r,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),E.createElement("title",null,s),E.createElement("desc",null,l),e)}var m8=["children","className"];function fy(){return fy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fy.apply(this,arguments)}function g8(t,e){if(t==null)return{};var n=v8(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function v8(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var we=E.forwardRef(function(t,e){var n=t.children,r=t.className,i=g8(t,m8),a=me("recharts-layer",r);return E.createElement("g",fy({className:a},le(i,!0),{ref:e}),n)}),bi=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function y8(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var O8=y8,b8=O8;function x8(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:b8(t,e,n)}var w8=x8,S8="\\ud800-\\udfff",_8="\\u0300-\\u036f",$8="\\ufe20-\\ufe2f",k8="\\u20d0-\\u20ff",P8=_8+$8+k8,A8="\\ufe0e\\ufe0f",C8="\\u200d",E8=RegExp("["+C8+S8+P8+A8+"]");function T8(t){return E8.test(t)}var H5=T8;function M8(t){return t.split("")}var j8=M8,K5="\\ud800-\\udfff",Q8="\\u0300-\\u036f",z8="\\ufe20-\\ufe2f",I8="\\u20d0-\\u20ff",R8=Q8+z8+I8,D8="\\ufe0e\\ufe0f",N8="["+K5+"]",hy="["+R8+"]",dy="\\ud83c[\\udffb-\\udfff]",L8="(?:"+hy+"|"+dy+")",J5="[^"+K5+"]",eE="(?:\\ud83c[\\udde6-\\uddff]){2}",tE="[\\ud800-\\udbff][\\udc00-\\udfff]",B8="\\u200d",nE=L8+"?",rE="["+D8+"]?",Z8="(?:"+B8+"(?:"+[J5,eE,tE].join("|")+")"+rE+nE+")*",W8=rE+nE+Z8,X8="(?:"+[J5+hy+"?",hy,eE,tE,N8].join("|")+")",F8=RegExp(dy+"(?="+dy+")|"+X8+W8,"g");function V8(t){return t.match(F8)||[]}var U8=V8,q8=j8,Y8=H5,G8=U8;function H8(t){return Y8(t)?G8(t):q8(t)}var K8=H8,J8=w8,eB=H5,tB=K8,nB=X5;function rB(t){return function(e){e=nB(e);var n=eB(e)?tB(e):void 0,r=n?n[0]:e.charAt(0),i=n?J8(n,1).join(""):e.slice(1);return r[t]()+i}}var iB=rB,aB=iB,oB=aB("toUpperCase"),sB=oB;const Lm=Me(sB);function je(t){return function(){return t}}const iE=Math.cos,Md=Math.sin,Tr=Math.sqrt,jd=Math.PI,Bm=2*jd,py=Math.PI,my=2*py,Na=1e-6,lB=my-Na;function aE(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function cB(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return aE;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class uB{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?aE:cB(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-e,c=i-n,u=o-e,f=s-n,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Na)if(!(Math.abs(f*l-c*u)>Na)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let d=r-o,p=i-s,m=l*l+c*c,v=d*d+p*p,g=Math.sqrt(m),y=Math.sqrt(h),x=a*Math.tan((py-Math.acos((m+h-v)/(2*g*y)))/2),_=x/y,O=x/g;Math.abs(_-1)>Na&&this._append`L${e+_*u},${n+_*f}`,this._append`A${a},${a},0,0,${+(f*d>u*p)},${this._x1=e+O*l},${this._y1=n+O*c}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),c=e+s,u=n+l,f=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Na||Math.abs(this._y1-u)>Na)&&this._append`L${c},${u}`,r&&(h<0&&(h=h%my+my),h>lB?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=u}`:h>Na&&this._append`A${r},${r},0,${+(h>=py)},${f},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function L1(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new uB(e)}function B1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function oE(t){this._context=t}oE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Zm(t){return new oE(t)}function sE(t){return t[0]}function lE(t){return t[1]}function cE(t,e){var n=je(!0),r=null,i=Zm,a=null,o=L1(s);t=typeof t=="function"?t:t===void 0?sE:je(t),e=typeof e=="function"?e:e===void 0?lE:je(e);function s(l){var c,u=(l=B1(l)).length,f,h=!1,d;for(r==null&&(a=i(d=o())),c=0;c<=u;++c)!(c<u&&n(f=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,c,l),+e(f,c,l));if(d)return a=null,d+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:je(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:je(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:je(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function Gf(t,e,n){var r=null,i=je(!0),a=null,o=Zm,s=null,l=L1(c);t=typeof t=="function"?t:t===void 0?sE:je(+t),e=typeof e=="function"?e:je(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?lE:je(+n);function c(f){var h,d,p,m=(f=B1(f)).length,v,g=!1,y,x=new Array(m),_=new Array(m);for(a==null&&(s=o(y=l())),h=0;h<=m;++h){if(!(h<m&&i(v=f[h],h,f))===g)if(g=!g)d=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),p=h-1;p>=d;--p)s.point(x[p],_[p]);s.lineEnd(),s.areaEnd()}g&&(x[h]=+t(v,h,f),_[h]=+e(v,h,f),s.point(r?+r(v,h,f):x[h],n?+n(v,h,f):_[h]))}if(y)return s=null,y+""||null}function u(){return cE().defined(i).curve(o).context(a)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:je(+f),r=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:je(+f),c):t},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:je(+f),c):r},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:je(+f),n=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:je(+f),c):e},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:je(+f),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:je(!!f),c):i},c.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),c):o},c.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),c):a},c}class uE{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function fB(t){return new uE(t,!0)}function hB(t){return new uE(t,!1)}const Z1={draw(t,e){const n=Tr(e/jd);t.moveTo(n,0),t.arc(0,0,n,0,Bm)}},dB={draw(t,e){const n=Tr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},fE=Tr(1/3),pB=fE*2,mB={draw(t,e){const n=Tr(e/pB),r=n*fE;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},gB={draw(t,e){const n=Tr(e),r=-n/2;t.rect(r,r,n,n)}},vB=.8908130915292852,hE=Md(jd/10)/Md(7*jd/10),yB=Md(Bm/10)*hE,OB=-iE(Bm/10)*hE,bB={draw(t,e){const n=Tr(e*vB),r=yB*n,i=OB*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=Bm*a/5,s=iE(o),l=Md(o);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},s0=Tr(3),xB={draw(t,e){const n=-Tr(e/(s0*3));t.moveTo(0,n*2),t.lineTo(-s0*n,-n),t.lineTo(s0*n,-n),t.closePath()}},Xn=-.5,Fn=Tr(3)/2,gy=1/Tr(12),wB=(gy/2+1)*3,SB={draw(t,e){const n=Tr(e/wB),r=n/2,i=n*gy,a=r,o=n*gy+n,s=-a,l=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(Xn*r-Fn*i,Fn*r+Xn*i),t.lineTo(Xn*a-Fn*o,Fn*a+Xn*o),t.lineTo(Xn*s-Fn*l,Fn*s+Xn*l),t.lineTo(Xn*r+Fn*i,Xn*i-Fn*r),t.lineTo(Xn*a+Fn*o,Xn*o-Fn*a),t.lineTo(Xn*s+Fn*l,Xn*l-Fn*s),t.closePath()}};function _B(t,e){let n=null,r=L1(i);t=typeof t=="function"?t:je(t||Z1),e=typeof e=="function"?e:je(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:je(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:je(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Qd(){}function zd(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function dE(t){this._context=t}dE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $B(t){return new dE(t)}function pE(t){this._context=t}pE.prototype={areaStart:Qd,areaEnd:Qd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:zd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function kB(t){return new pE(t)}function mE(t){this._context=t}mE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:zd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function PB(t){return new mE(t)}function gE(t){this._context=t}gE.prototype={areaStart:Qd,areaEnd:Qd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function AB(t){return new gE(t)}function GS(t){return t<0?-1:1}function HS(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(GS(a)+GS(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function KS(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function l0(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function Id(t){this._context=t}Id.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:l0(this,this._t0,KS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,l0(this,KS(this,n=HS(this,t,e)),n);break;default:l0(this,this._t0,n=HS(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function vE(t){this._context=new yE(t)}(vE.prototype=Object.create(Id.prototype)).point=function(t,e){Id.prototype.point.call(this,e,t)};function yE(t){this._context=t}yE.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function CB(t){return new Id(t)}function EB(t){return new vE(t)}function OE(t){this._context=t}OE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=JS(t),i=JS(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function JS(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function TB(t){return new OE(t)}function Wm(t,e){this._context=t,this._t=e}Wm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function MB(t){return new Wm(t,.5)}function jB(t){return new Wm(t,0)}function QB(t){return new Wm(t,1)}function zs(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,s=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function vy(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function zB(t,e){return t[e]}function IB(t){const e=[];return e.key=t,e}function RB(){var t=je([]),e=vy,n=zs,r=zB;function i(a){var o=Array.from(t.apply(this,arguments),IB),s,l=o.length,c=-1,u;for(const f of a)for(s=0,++c;s<l;++s)(o[s][c]=[0,+r(f,o[s].key,c,a)]).data=f;for(s=0,u=B1(e(o));s<l;++s)o[u[s]].index=s;return n(o,u),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:je(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:je(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?vy:typeof a=="function"?a:je(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??zs,i):n},i}function DB(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}zs(t,e)}}function NB(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=t[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}zs(t,e)}}function LB(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,l=0,c=0;s<o;++s){for(var u=t[e[s]],f=u[r][1]||0,h=u[r-1][1]||0,d=(f-h)/2,p=0;p<s;++p){var m=t[e[p]],v=m[r][1]||0,g=m[r-1][1]||0;d+=v-g}l+=f,c+=d*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,zs(t,e)}}function lu(t){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lu(t)}var BB=["type","size","sizeType"];function yy(){return yy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yy.apply(this,arguments)}function e2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function t2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e2(Object(n),!0).forEach(function(r){ZB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZB(t,e,n){return e=WB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WB(t){var e=XB(t,"string");return lu(e)=="symbol"?e:e+""}function XB(t,e){if(lu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FB(t,e){if(t==null)return{};var n=VB(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function VB(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var bE={symbolCircle:Z1,symbolCross:dB,symbolDiamond:mB,symbolSquare:gB,symbolStar:bB,symbolTriangle:xB,symbolWye:SB},UB=Math.PI/180,qB=function(e){var n="symbol".concat(Lm(e));return bE[n]||Z1},YB=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*UB;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},GB=function(e,n){bE["symbol".concat(Lm(e))]=n},Xm=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=FB(e,BB),c=t2(t2({},l),{},{type:r,size:a,sizeType:s}),u=function(){var v=qB(r),g=_B().type(v).size(YB(a,s,r));return g()},f=c.className,h=c.cx,d=c.cy,p=le(c,!0);return h===+h&&d===+d&&a===+a?E.createElement("path",yy({},p,{className:me("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(d,")"),d:u()})):null};Xm.registerSymbol=GB;function Is(t){"@babel/helpers - typeof";return Is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Is(t)}function Oy(){return Oy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oy.apply(this,arguments)}function n2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n2(Object(n),!0).forEach(function(r){cu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wE(r.key),r)}}function e6(t,e,n){return e&&JB(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function t6(t,e,n){return e=Rd(e),n6(t,xE()?Reflect.construct(e,n||[],Rd(t).constructor):e.apply(t,n))}function n6(t,e){if(e&&(Is(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r6(t)}function r6(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xE(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xE=function(){return!!t})()}function Rd(t){return Rd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rd(t)}function i6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&by(t,e)}function by(t,e){return by=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},by(t,e)}function cu(t,e,n){return e=wE(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wE(t){var e=a6(t,"string");return Is(e)=="symbol"?e:e+""}function a6(t,e){if(Is(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Is(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vn=32,W1=function(t){function e(){return KB(this,e),t6(this,e,arguments)}return i6(e,t),e6(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=Vn/2,o=Vn/6,s=Vn/3,l=r.inactive?i:r.color;if(r.type==="plainline")return E.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:Vn,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return E.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(Vn,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return E.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Vn/8,"h").concat(Vn,"v").concat(Vn*3/4,"h").concat(-Vn,"z"),className:"recharts-legend-icon"});if(E.isValidElement(r.legendIcon)){var c=HB({},r);return delete c.legendIcon,E.cloneElement(r.legendIcon,c)}return E.createElement(Xm,{fill:l,cx:a,cy:a,size:Vn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:Vn,height:Vn},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(d,p){var m=d.formatter||l,v=me(cu(cu({"recharts-legend-item":!0},"legend-item-".concat(p),!0),"inactive",d.inactive));if(d.type==="none")return null;var g=ce(d.value)?null:d.value;bi(!ce(d.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=d.inactive?c:d.color;return E.createElement("li",Oy({className:v,style:f,key:"legend-item-".concat(p)},su(r.props,d,p)),E.createElement(uy,{width:o,height:o,viewBox:u,style:h},r.renderIcon(d)),E.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},m?m(g,d,p):g))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return E.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(D.PureComponent);cu(W1,"displayName","Legend");cu(W1,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var o6=Pm;function s6(){this.__data__=new o6,this.size=0}var l6=s6;function c6(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var u6=c6;function f6(t){return this.__data__.get(t)}var h6=f6;function d6(t){return this.__data__.has(t)}var p6=d6,m6=Pm,g6=T1,v6=M1,y6=200;function O6(t,e){var n=this.__data__;if(n instanceof m6){var r=n.__data__;if(!g6||r.length<y6-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new v6(r)}return n.set(t,e),this.size=n.size,this}var b6=O6,x6=Pm,w6=l6,S6=u6,_6=h6,$6=p6,k6=b6;function wl(t){var e=this.__data__=new x6(t);this.size=e.size}wl.prototype.clear=w6;wl.prototype.delete=S6;wl.prototype.get=_6;wl.prototype.has=$6;wl.prototype.set=k6;var SE=wl,P6="__lodash_hash_undefined__";function A6(t){return this.__data__.set(t,P6),this}var C6=A6;function E6(t){return this.__data__.has(t)}var T6=E6,M6=M1,j6=C6,Q6=T6;function Dd(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new M6;++e<n;)this.add(t[e])}Dd.prototype.add=Dd.prototype.push=j6;Dd.prototype.has=Q6;var _E=Dd;function z6(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var $E=z6;function I6(t,e){return t.has(e)}var kE=I6,R6=_E,D6=$E,N6=kE,L6=1,B6=2;function Z6(t,e,n,r,i,a){var o=n&L6,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var c=a.get(t),u=a.get(e);if(c&&u)return c==e&&u==t;var f=-1,h=!0,d=n&B6?new R6:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var p=t[f],m=e[f];if(r)var v=o?r(m,p,f,e,t,a):r(p,m,f,t,e,a);if(v!==void 0){if(v)continue;h=!1;break}if(d){if(!D6(e,function(g,y){if(!N6(d,y)&&(p===g||i(p,g,n,r,a)))return d.push(y)})){h=!1;break}}else if(!(p===m||i(p,m,n,r,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var PE=Z6,W6=ai,X6=W6.Uint8Array,F6=X6;function V6(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var U6=V6;function q6(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var X1=q6,r2=df,i2=F6,Y6=E1,G6=PE,H6=U6,K6=X1,J6=1,eZ=2,tZ="[object Boolean]",nZ="[object Date]",rZ="[object Error]",iZ="[object Map]",aZ="[object Number]",oZ="[object RegExp]",sZ="[object Set]",lZ="[object String]",cZ="[object Symbol]",uZ="[object ArrayBuffer]",fZ="[object DataView]",a2=r2?r2.prototype:void 0,c0=a2?a2.valueOf:void 0;function hZ(t,e,n,r,i,a,o){switch(n){case fZ:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case uZ:return!(t.byteLength!=e.byteLength||!a(new i2(t),new i2(e)));case tZ:case nZ:case aZ:return Y6(+t,+e);case rZ:return t.name==e.name&&t.message==e.message;case oZ:case lZ:return t==e+"";case iZ:var s=H6;case sZ:var l=r&J6;if(s||(s=K6),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;r|=eZ,o.set(t,e);var u=G6(s(t),s(e),r,i,a,o);return o.delete(t),u;case cZ:if(c0)return c0.call(t)==c0.call(e)}return!1}var dZ=hZ;function pZ(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var AE=pZ,mZ=AE,gZ=$n;function vZ(t,e,n){var r=e(t);return gZ(t)?r:mZ(r,n(t))}var yZ=vZ;function OZ(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[i++]=o)}return a}var bZ=OZ;function xZ(){return[]}var wZ=xZ,SZ=bZ,_Z=wZ,$Z=Object.prototype,kZ=$Z.propertyIsEnumerable,o2=Object.getOwnPropertySymbols,PZ=o2?function(t){return t==null?[]:(t=Object(t),SZ(o2(t),function(e){return kZ.call(t,e)}))}:_Z,AZ=PZ;function CZ(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var EZ=CZ,TZ=ji,MZ=Qi,jZ="[object Arguments]";function QZ(t){return MZ(t)&&TZ(t)==jZ}var zZ=QZ,s2=zZ,IZ=Qi,CE=Object.prototype,RZ=CE.hasOwnProperty,DZ=CE.propertyIsEnumerable,NZ=s2(function(){return arguments}())?s2:function(t){return IZ(t)&&RZ.call(t,"callee")&&!DZ.call(t,"callee")},F1=NZ,Nd={exports:{}};function LZ(){return!1}var BZ=LZ;Nd.exports;(function(t,e){var n=ai,r=BZ,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?n.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||r;t.exports=c})(Nd,Nd.exports);var EE=Nd.exports,ZZ=9007199254740991,WZ=/^(?:0|[1-9]\d*)$/;function XZ(t,e){var n=typeof t;return e=e??ZZ,!!e&&(n=="number"||n!="symbol"&&WZ.test(t))&&t>-1&&t%1==0&&t<e}var V1=XZ,FZ=9007199254740991;function VZ(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=FZ}var U1=VZ,UZ=ji,qZ=U1,YZ=Qi,GZ="[object Arguments]",HZ="[object Array]",KZ="[object Boolean]",JZ="[object Date]",eW="[object Error]",tW="[object Function]",nW="[object Map]",rW="[object Number]",iW="[object Object]",aW="[object RegExp]",oW="[object Set]",sW="[object String]",lW="[object WeakMap]",cW="[object ArrayBuffer]",uW="[object DataView]",fW="[object Float32Array]",hW="[object Float64Array]",dW="[object Int8Array]",pW="[object Int16Array]",mW="[object Int32Array]",gW="[object Uint8Array]",vW="[object Uint8ClampedArray]",yW="[object Uint16Array]",OW="[object Uint32Array]",Re={};Re[fW]=Re[hW]=Re[dW]=Re[pW]=Re[mW]=Re[gW]=Re[vW]=Re[yW]=Re[OW]=!0;Re[GZ]=Re[HZ]=Re[cW]=Re[KZ]=Re[uW]=Re[JZ]=Re[eW]=Re[tW]=Re[nW]=Re[rW]=Re[iW]=Re[aW]=Re[oW]=Re[sW]=Re[lW]=!1;function bW(t){return YZ(t)&&qZ(t.length)&&!!Re[UZ(t)]}var xW=bW;function wW(t){return function(e){return t(e)}}var TE=wW,Ld={exports:{}};Ld.exports;(function(t,e){var n=D5,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,o=a&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(Ld,Ld.exports);var SW=Ld.exports,_W=xW,$W=TE,l2=SW,c2=l2&&l2.isTypedArray,kW=c2?$W(c2):_W,ME=kW,PW=EZ,AW=F1,CW=$n,EW=EE,TW=V1,MW=ME,jW=Object.prototype,QW=jW.hasOwnProperty;function zW(t,e){var n=CW(t),r=!n&&AW(t),i=!n&&!r&&EW(t),a=!n&&!r&&!i&&MW(t),o=n||r||i||a,s=o?PW(t.length,String):[],l=s.length;for(var c in t)(e||QW.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||TW(c,l)))&&s.push(c);return s}var IW=zW,RW=Object.prototype;function DW(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||RW;return t===n}var NW=DW;function LW(t,e){return function(n){return t(e(n))}}var jE=LW,BW=jE,ZW=BW(Object.keys,Object),WW=ZW,XW=NW,FW=WW,VW=Object.prototype,UW=VW.hasOwnProperty;function qW(t){if(!XW(t))return FW(t);var e=[];for(var n in Object(t))UW.call(t,n)&&n!="constructor"&&e.push(n);return e}var YW=qW,GW=C1,HW=U1;function KW(t){return t!=null&&HW(t.length)&&!GW(t)}var pf=KW,JW=IW,e7=YW,t7=pf;function n7(t){return t7(t)?JW(t):e7(t)}var Fm=n7,r7=yZ,i7=AZ,a7=Fm;function o7(t){return r7(t,a7,i7)}var s7=o7,u2=s7,l7=1,c7=Object.prototype,u7=c7.hasOwnProperty;function f7(t,e,n,r,i,a){var o=n&l7,s=u2(t),l=s.length,c=u2(e),u=c.length;if(l!=u&&!o)return!1;for(var f=l;f--;){var h=s[f];if(!(o?h in e:u7.call(e,h)))return!1}var d=a.get(t),p=a.get(e);if(d&&p)return d==e&&p==t;var m=!0;a.set(t,e),a.set(e,t);for(var v=o;++f<l;){h=s[f];var g=t[h],y=e[h];if(r)var x=o?r(y,g,h,e,t,a):r(g,y,h,t,e,a);if(!(x===void 0?g===y||i(g,y,n,r,a):x)){m=!1;break}v||(v=h=="constructor")}if(m&&!v){var _=t.constructor,O=e.constructor;_!=O&&"constructor"in t&&"constructor"in e&&!(typeof _=="function"&&_ instanceof _&&typeof O=="function"&&O instanceof O)&&(m=!1)}return a.delete(t),a.delete(e),m}var h7=f7,d7=Ao,p7=ai,m7=d7(p7,"DataView"),g7=m7,v7=Ao,y7=ai,O7=v7(y7,"Promise"),b7=O7,x7=Ao,w7=ai,S7=x7(w7,"Set"),QE=S7,_7=Ao,$7=ai,k7=_7($7,"WeakMap"),P7=k7,xy=g7,wy=T1,Sy=b7,_y=QE,$y=P7,zE=ji,Sl=L5,f2="[object Map]",A7="[object Object]",h2="[object Promise]",d2="[object Set]",p2="[object WeakMap]",m2="[object DataView]",C7=Sl(xy),E7=Sl(wy),T7=Sl(Sy),M7=Sl(_y),j7=Sl($y),La=zE;(xy&&La(new xy(new ArrayBuffer(1)))!=m2||wy&&La(new wy)!=f2||Sy&&La(Sy.resolve())!=h2||_y&&La(new _y)!=d2||$y&&La(new $y)!=p2)&&(La=function(t){var e=zE(t),n=e==A7?t.constructor:void 0,r=n?Sl(n):"";if(r)switch(r){case C7:return m2;case E7:return f2;case T7:return h2;case M7:return d2;case j7:return p2}return e});var Q7=La,u0=SE,z7=PE,I7=dZ,R7=h7,g2=Q7,v2=$n,y2=EE,D7=ME,N7=1,O2="[object Arguments]",b2="[object Array]",Hf="[object Object]",L7=Object.prototype,x2=L7.hasOwnProperty;function B7(t,e,n,r,i,a){var o=v2(t),s=v2(e),l=o?b2:g2(t),c=s?b2:g2(e);l=l==O2?Hf:l,c=c==O2?Hf:c;var u=l==Hf,f=c==Hf,h=l==c;if(h&&y2(t)){if(!y2(e))return!1;o=!0,u=!1}if(h&&!u)return a||(a=new u0),o||D7(t)?z7(t,e,n,r,i,a):I7(t,e,l,n,r,i,a);if(!(n&N7)){var d=u&&x2.call(t,"__wrapped__"),p=f&&x2.call(e,"__wrapped__");if(d||p){var m=d?t.value():t,v=p?e.value():e;return a||(a=new u0),i(m,v,n,r,a)}}return h?(a||(a=new u0),R7(t,e,n,r,i,a)):!1}var Z7=B7,W7=Z7,w2=Qi;function IE(t,e,n,r,i){return t===e?!0:t==null||e==null||!w2(t)&&!w2(e)?t!==t&&e!==e:W7(t,e,n,r,IE,i)}var q1=IE,X7=SE,F7=q1,V7=1,U7=2;function q7(t,e,n,r){var i=n.length,a=i,o=!r;if(t==null)return!a;for(t=Object(t);i--;){var s=n[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=n[i];var l=s[0],c=t[l],u=s[1];if(o&&s[2]){if(c===void 0&&!(l in t))return!1}else{var f=new X7;if(r)var h=r(c,u,l,t,e,f);if(!(h===void 0?F7(u,c,V7|U7,r,f):h))return!1}}return!0}var Y7=q7,G7=$a;function H7(t){return t===t&&!G7(t)}var RE=H7,K7=RE,J7=Fm;function eX(t){for(var e=J7(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,K7(i)]}return e}var tX=eX;function nX(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var DE=nX,rX=Y7,iX=tX,aX=DE;function oX(t){var e=iX(t);return e.length==1&&e[0][2]?aX(e[0][0],e[0][1]):function(n){return n===t||rX(n,t,e)}}var sX=oX;function lX(t,e){return t!=null&&e in Object(t)}var cX=lX,uX=F5,fX=F1,hX=$n,dX=V1,pX=U1,mX=Cm;function gX(t,e,n){e=uX(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var o=mX(e[r]);if(!(a=t!=null&&n(t,o)))break;t=t[o]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&pX(i)&&dX(o,i)&&(hX(t)||fX(t)))}var vX=gX,yX=cX,OX=vX;function bX(t,e){return t!=null&&OX(t,e,yX)}var xX=bX,wX=q1,SX=V5,_X=xX,$X=A1,kX=RE,PX=DE,AX=Cm,CX=1,EX=2;function TX(t,e){return $X(t)&&kX(e)?PX(AX(t),e):function(n){var r=SX(n,t);return r===void 0&&r===e?_X(n,t):wX(e,r,CX|EX)}}var MX=TX;function jX(t){return t}var _l=jX;function QX(t){return function(e){return e==null?void 0:e[t]}}var zX=QX,IX=z1;function RX(t){return function(e){return IX(e,t)}}var DX=RX,NX=zX,LX=DX,BX=A1,ZX=Cm;function WX(t){return BX(t)?NX(ZX(t)):LX(t)}var XX=WX,FX=sX,VX=MX,UX=_l,qX=$n,YX=XX;function GX(t){return typeof t=="function"?t:t==null?UX:typeof t=="object"?qX(t)?VX(t[0],t[1]):FX(t):YX(t)}var ka=GX;function HX(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var NE=HX;function KX(t){return t!==t}var JX=KX;function e9(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var t9=e9,n9=NE,r9=JX,i9=t9;function a9(t,e,n){return e===e?i9(t,e,n):n9(t,r9,n)}var o9=a9,s9=o9;function l9(t,e){var n=t==null?0:t.length;return!!n&&s9(t,e,0)>-1}var c9=l9;function u9(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var f9=u9;function h9(){}var d9=h9,f0=QE,p9=d9,m9=X1,g9=1/0,v9=f0&&1/m9(new f0([,-0]))[1]==g9?function(t){return new f0(t)}:p9,y9=v9,O9=_E,b9=c9,x9=f9,w9=kE,S9=y9,_9=X1,$9=200;function k9(t,e,n){var r=-1,i=b9,a=t.length,o=!0,s=[],l=s;if(n)o=!1,i=x9;else if(a>=$9){var c=e?null:S9(t);if(c)return _9(c);o=!1,i=w9,l=new O9}else l=e?[]:s;e:for(;++r<a;){var u=t[r],f=e?e(u):u;if(u=n||u!==0?u:0,o&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),s.push(u)}else i(l,f,n)||(l!==s&&l.push(f),s.push(u))}return s}var P9=k9,A9=ka,C9=P9;function E9(t,e){return t&&t.length?C9(t,A9(e)):[]}var T9=E9;const S2=Me(T9);function LE(t,e,n){return e===!0?S2(t,n):ce(e)?S2(t,e):t}function Rs(t){"@babel/helpers - typeof";return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rs(t)}var M9=["ref"];function _2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function li(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_2(Object(n),!0).forEach(function(r){Vm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZE(r.key),r)}}function Q9(t,e,n){return e&&$2(t.prototype,e),n&&$2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function z9(t,e,n){return e=Bd(e),I9(t,BE()?Reflect.construct(e,n||[],Bd(t).constructor):e.apply(t,n))}function I9(t,e){if(e&&(Rs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R9(t)}function R9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BE(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BE=function(){return!!t})()}function Bd(t){return Bd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bd(t)}function D9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ky(t,e)}function ky(t,e){return ky=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ky(t,e)}function Vm(t,e,n){return e=ZE(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZE(t){var e=N9(t,"string");return Rs(e)=="symbol"?e:e+""}function N9(t,e){if(Rs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function L9(t,e){if(t==null)return{};var n=B9(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function B9(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Z9(t){return t.value}function W9(t,e){if(E.isValidElement(t))return E.cloneElement(t,e);if(typeof t=="function")return E.createElement(t,e);e.ref;var n=L9(e,M9);return E.createElement(W1,n)}var k2=1,ys=function(t){function e(){var n;j9(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=z9(this,e,[].concat(i)),Vm(n,"lastBoundingBox",{width:-1,height:-1}),n}return D9(e,t),Q9(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>k2||Math.abs(i.height-this.lastBoundingBox.height)>k2)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?li({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var d=this.getBBoxSnapshot();f={left:((c||0)-d.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var p=this.getBBoxSnapshot();h={top:((u||0)-p.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return li(li({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,f=li(li({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return E.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(d){r.wrapperNode=d}},W9(a,li(li({},this.props),{},{payload:LE(u,c,Z9)})))}}],[{key:"getWithHeight",value:function(r,i){var a=li(li({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&q(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(D.PureComponent);Vm(ys,"displayName","Legend");Vm(ys,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var P2=df,X9=F1,F9=$n,A2=P2?P2.isConcatSpreadable:void 0;function V9(t){return F9(t)||X9(t)||!!(A2&&t&&t[A2])}var U9=V9,q9=AE,Y9=U9;function WE(t,e,n,r,i){var a=-1,o=t.length;for(n||(n=Y9),i||(i=[]);++a<o;){var s=t[a];e>0&&n(s)?e>1?WE(s,e-1,n,r,i):q9(i,s):r||(i[i.length]=s)}return i}var XE=WE;function G9(t){return function(e,n,r){for(var i=-1,a=Object(e),o=r(e),s=o.length;s--;){var l=o[t?s:++i];if(n(a[l],l,a)===!1)break}return e}}var H9=G9,K9=H9,J9=K9(),eF=J9,tF=eF,nF=Fm;function rF(t,e){return t&&tF(t,e,nF)}var FE=rF,iF=pf;function aF(t,e){return function(n,r){if(n==null)return n;if(!iF(n))return t(n,r);for(var i=n.length,a=e?i:-1,o=Object(n);(e?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}var oF=aF,sF=FE,lF=oF,cF=lF(sF),Y1=cF,uF=Y1,fF=pf;function hF(t,e){var n=-1,r=fF(t)?Array(t.length):[];return uF(t,function(i,a,o){r[++n]=e(i,a,o)}),r}var VE=hF;function dF(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var pF=dF,C2=gl;function mF(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=C2(t),o=e!==void 0,s=e===null,l=e===e,c=C2(e);if(!s&&!c&&!a&&t>e||a&&o&&l&&!s&&!c||r&&o&&l||!n&&l||!i)return 1;if(!r&&!a&&!c&&t<e||c&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!l)return-1}return 0}var gF=mF,vF=gF;function yF(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,o=i.length,s=n.length;++r<o;){var l=vF(i[r],a[r]);if(l){if(r>=s)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var OF=yF,h0=Q1,bF=z1,xF=ka,wF=VE,SF=pF,_F=TE,$F=OF,kF=_l,PF=$n;function AF(t,e,n){e.length?e=h0(e,function(a){return PF(a)?function(o){return bF(o,a.length===1?a[0]:a)}:a}):e=[kF];var r=-1;e=h0(e,_F(xF));var i=wF(t,function(a,o,s){var l=h0(e,function(c){return c(a)});return{criteria:l,index:++r,value:a}});return SF(i,function(a,o){return $F(a,o,n)})}var CF=AF;function EF(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var TF=EF,MF=TF,E2=Math.max;function jF(t,e,n){return e=E2(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=E2(r.length-e,0),o=Array(a);++i<a;)o[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(o),MF(t,this,s)}}var QF=jF;function zF(t){return function(){return t}}var IF=zF,RF=Ao,DF=function(){try{var t=RF(Object,"defineProperty");return t({},"",{}),t}catch{}}(),UE=DF,NF=IF,T2=UE,LF=_l,BF=T2?function(t,e){return T2(t,"toString",{configurable:!0,enumerable:!1,value:NF(e),writable:!0})}:LF,ZF=BF,WF=800,XF=16,FF=Date.now;function VF(t){var e=0,n=0;return function(){var r=FF(),i=XF-(r-n);if(n=r,i>0){if(++e>=WF)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var UF=VF,qF=ZF,YF=UF,GF=YF(qF),HF=GF,KF=_l,JF=QF,eV=HF;function tV(t,e){return eV(JF(t,e,KF),t+"")}var nV=tV,rV=E1,iV=pf,aV=V1,oV=$a;function sV(t,e,n){if(!oV(n))return!1;var r=typeof e;return(r=="number"?iV(n)&&aV(e,n.length):r=="string"&&e in n)?rV(n[e],t):!1}var Um=sV,lV=XE,cV=CF,uV=nV,M2=Um,fV=uV(function(t,e){if(t==null)return[];var n=e.length;return n>1&&M2(t,e[0],e[1])?e=[]:n>2&&M2(e[0],e[1],e[2])&&(e=[e[0]]),cV(t,lV(e,1),[])}),hV=fV;const G1=Me(hV);function uu(t){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uu(t)}function Py(){return Py=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Py.apply(this,arguments)}function dV(t,e){return vV(t)||gV(t,e)||mV(t,e)||pV()}function pV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mV(t,e){if(t){if(typeof t=="string")return j2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j2(t,e)}}function j2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gV(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function vV(t){if(Array.isArray(t))return t}function Q2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function d0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q2(Object(n),!0).forEach(function(r){yV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yV(t,e,n){return e=OV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OV(t){var e=bV(t,"string");return uu(e)=="symbol"?e:e+""}function bV(t,e){if(uu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xV(t){return Array.isArray(t)&&Ot(t[0])&&Ot(t[1])?t.join(" ~ "):t}var wV=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,f=e.formatter,h=e.itemSorter,d=e.wrapperClassName,p=e.labelClassName,m=e.label,v=e.labelFormatter,g=e.accessibilityLayer,y=g===void 0?!1:g,x=function(){if(u&&u.length){var A={padding:0,margin:0},N=(h?G1(u,h):u).map(function(C,Q){if(C.type==="none")return null;var L=d0({display:"block",paddingTop:4,paddingBottom:4,color:C.color||"#000"},s),I=C.formatter||f||xV,M=C.value,R=C.name,B=M,F=R;if(I&&B!=null&&F!=null){var X=I(M,R,C,Q,u);if(Array.isArray(X)){var G=dV(X,2);B=G[0],F=G[1]}else B=X}return E.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Q),style:L},Ot(F)?E.createElement("span",{className:"recharts-tooltip-item-name"},F):null,Ot(F)?E.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,E.createElement("span",{className:"recharts-tooltip-item-value"},B),E.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return E.createElement("ul",{className:"recharts-tooltip-item-list",style:A},N)}return null},_=d0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),O=d0({margin:0},c),w=!oe(m),$=w?m:"",k=me("recharts-default-tooltip",d),P=me("recharts-tooltip-label",p);w&&v&&u!==void 0&&u!==null&&($=v(m,u));var T=y?{role:"status","aria-live":"assertive"}:{};return E.createElement("div",Py({className:k,style:_},T),E.createElement("p",{className:P,style:O},E.isValidElement($)?$:"".concat($)),x())};function fu(t){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fu(t)}function Kf(t,e,n){return e=SV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SV(t){var e=_V(t,"string");return fu(e)=="symbol"?e:e+""}function _V(t,e){if(fu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fl="recharts-tooltip-wrapper",$V={visibility:"hidden"};function kV(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return me(Fl,Kf(Kf(Kf(Kf({},"".concat(Fl,"-right"),q(n)&&e&&q(e.x)&&n>=e.x),"".concat(Fl,"-left"),q(n)&&e&&q(e.x)&&n<e.x),"".concat(Fl,"-bottom"),q(r)&&e&&q(e.y)&&r>=e.y),"".concat(Fl,"-top"),q(r)&&e&&q(e.y)&&r<e.y))}function z2(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(a&&q(a[r]))return a[r];var u=n[r]-s-i,f=n[r]+i;if(e[r])return o[r]?u:f;if(o[r]){var h=u,d=l[r];return h<d?Math.max(f,l[r]):Math.max(u,l[r])}var p=f+s,m=l[r]+c;return p>m?Math.max(u,l[r]):Math.max(f,l[r])}function PV(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function AV(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,c,u,f;return o.height>0&&o.width>0&&n?(u=z2({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=z2({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=PV({translateX:u,translateY:f,useTranslate3d:s})):c=$V,{cssProperties:c,cssClasses:kV({translateX:u,translateY:f,coordinate:n})}}function Ds(t){"@babel/helpers - typeof";return Ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ds(t)}function I2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function R2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I2(Object(n),!0).forEach(function(r){Cy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YE(r.key),r)}}function TV(t,e,n){return e&&EV(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function MV(t,e,n){return e=Zd(e),jV(t,qE()?Reflect.construct(e,n||[],Zd(t).constructor):e.apply(t,n))}function jV(t,e){if(e&&(Ds(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QV(t)}function QV(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qE(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qE=function(){return!!t})()}function Zd(t){return Zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zd(t)}function zV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ay(t,e)}function Ay(t,e){return Ay=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ay(t,e)}function Cy(t,e,n){return e=YE(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YE(t){var e=IV(t,"string");return Ds(e)=="symbol"?e:e+""}function IV(t,e){if(Ds(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ds(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var D2=1,RV=function(t){function e(){var n;CV(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=MV(this,e,[].concat(i)),Cy(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Cy(n,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,c,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),n}return zV(e,t),TV(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>D2||Math.abs(r.height-this.state.lastBoundingBox.height)>D2)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,d=i.offset,p=i.position,m=i.reverseDirection,v=i.useTranslate3d,g=i.viewBox,y=i.wrapperStyle,x=AV({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:d,position:p,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:g}),_=x.cssClasses,O=x.cssProperties,w=R2(R2({transition:h&&a?"transform ".concat(s,"ms ").concat(l):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return E.createElement("div",{tabIndex:-1,className:_,style:w,ref:function(k){r.wrapperNode=k}},c)}}])}(D.PureComponent),DV=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Pa={isSsr:DV()};function Ns(t){"@babel/helpers - typeof";return Ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ns(t)}function N2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function L2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N2(Object(n),!0).forEach(function(r){H1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HE(r.key),r)}}function BV(t,e,n){return e&&LV(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZV(t,e,n){return e=Wd(e),WV(t,GE()?Reflect.construct(e,n||[],Wd(t).constructor):e.apply(t,n))}function WV(t,e){if(e&&(Ns(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XV(t)}function XV(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GE(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GE=function(){return!!t})()}function Wd(t){return Wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wd(t)}function FV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ey(t,e)}function Ey(t,e){return Ey=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ey(t,e)}function H1(t,e,n){return e=HE(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HE(t){var e=VV(t,"string");return Ns(e)=="symbol"?e:e+""}function VV(t,e){if(Ns(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ns(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function UV(t){return t.dataKey}function qV(t,e){return E.isValidElement(t)?E.cloneElement(t,e):typeof t=="function"?E.createElement(t,e):E.createElement(wV,e)}var gr=function(t){function e(){return NV(this,e),ZV(this,e,arguments)}return FV(e,t),BV(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,f=i.filterNull,h=i.isAnimationActive,d=i.offset,p=i.payload,m=i.payloadUniqBy,v=i.position,g=i.reverseDirection,y=i.useTranslate3d,x=i.viewBox,_=i.wrapperStyle,O=p??[];f&&O.length&&(O=LE(p.filter(function($){return $.value!=null&&($.hide!==!0||r.props.includeHidden)}),m,UV));var w=O.length>0;return E.createElement(RV,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:h,active:a,coordinate:u,hasPayload:w,offset:d,position:v,reverseDirection:g,useTranslate3d:y,viewBox:x,wrapperStyle:_},qV(c,L2(L2({},this.props),{},{payload:O})))}}])}(D.PureComponent);H1(gr,"displayName","Tooltip");H1(gr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Pa.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var YV=ai,GV=function(){return YV.Date.now()},HV=GV,KV=/\s/;function JV(t){for(var e=t.length;e--&&KV.test(t.charAt(e)););return e}var eU=JV,tU=eU,nU=/^\s+/;function rU(t){return t&&t.slice(0,tU(t)+1).replace(nU,"")}var iU=rU,aU=iU,B2=$a,oU=gl,Z2=NaN,sU=/^[-+]0x[0-9a-f]+$/i,lU=/^0b[01]+$/i,cU=/^0o[0-7]+$/i,uU=parseInt;function fU(t){if(typeof t=="number")return t;if(oU(t))return Z2;if(B2(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=B2(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=aU(t);var n=lU.test(t);return n||cU.test(t)?uU(t.slice(2),n?2:8):sU.test(t)?Z2:+t}var KE=fU,hU=$a,p0=HV,W2=KE,dU="Expected a function",pU=Math.max,mU=Math.min;function gU(t,e,n){var r,i,a,o,s,l,c=0,u=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(dU);e=W2(e)||0,hU(n)&&(u=!!n.leading,f="maxWait"in n,a=f?pU(W2(n.maxWait)||0,e):a,h="trailing"in n?!!n.trailing:h);function d(w){var $=r,k=i;return r=i=void 0,c=w,o=t.apply(k,$),o}function p(w){return c=w,s=setTimeout(g,e),u?d(w):o}function m(w){var $=w-l,k=w-c,P=e-$;return f?mU(P,a-k):P}function v(w){var $=w-l,k=w-c;return l===void 0||$>=e||$<0||f&&k>=a}function g(){var w=p0();if(v(w))return y(w);s=setTimeout(g,m(w))}function y(w){return s=void 0,h&&r?d(w):(r=i=void 0,o)}function x(){s!==void 0&&clearTimeout(s),c=0,r=l=i=s=void 0}function _(){return s===void 0?o:y(p0())}function O(){var w=p0(),$=v(w);if(r=arguments,i=this,l=w,$){if(s===void 0)return p(l);if(f)return clearTimeout(s),s=setTimeout(g,e),d(l)}return s===void 0&&(s=setTimeout(g,e)),o}return O.cancel=x,O.flush=_,O}var vU=gU,yU=vU,OU=$a,bU="Expected a function";function xU(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(bU);return OU(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),yU(t,e,{leading:r,maxWait:e,trailing:i})}var wU=xU;const JE=Me(wU);function hu(t){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hu(t)}function X2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X2(Object(n),!0).forEach(function(r){SU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SU(t,e,n){return e=_U(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _U(t){var e=$U(t,"string");return hu(e)=="symbol"?e:e+""}function $U(t,e){if(hu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kU(t,e){return EU(t)||CU(t,e)||AU(t,e)||PU()}function PU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AU(t,e){if(t){if(typeof t=="string")return F2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F2(t,e)}}function F2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function CU(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function EU(t){if(Array.isArray(t))return t}var eT=D.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,o=a===void 0?"100%":a,s=t.height,l=s===void 0?"100%":s,c=t.minWidth,u=c===void 0?0:c,f=t.minHeight,h=t.maxHeight,d=t.children,p=t.debounce,m=p===void 0?0:p,v=t.id,g=t.className,y=t.onResize,x=t.style,_=x===void 0?{}:x,O=D.useRef(null),w=D.useRef();w.current=y,D.useImperativeHandle(e,function(){return Object.defineProperty(O.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),O.current},configurable:!0})});var $=D.useState({containerWidth:i.width,containerHeight:i.height}),k=kU($,2),P=k[0],T=k[1],j=D.useCallback(function(N,C){T(function(Q){var L=Math.round(N),I=Math.round(C);return Q.containerWidth===L&&Q.containerHeight===I?Q:{containerWidth:L,containerHeight:I}})},[]);D.useEffect(function(){var N=function(R){var B,F=R[0].contentRect,X=F.width,G=F.height;j(X,G),(B=w.current)===null||B===void 0||B.call(w,X,G)};m>0&&(N=JE(N,m,{trailing:!0,leading:!1}));var C=new ResizeObserver(N),Q=O.current.getBoundingClientRect(),L=Q.width,I=Q.height;return j(L,I),C.observe(O.current),function(){C.disconnect()}},[j,m]);var A=D.useMemo(function(){var N=P.containerWidth,C=P.containerHeight;if(N<0||C<0)return null;bi(qa(o)||qa(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),bi(!n||n>0,"The aspect(%s) must be greater than zero.",n);var Q=qa(o)?N:o,L=qa(l)?C:l;n&&n>0&&(Q?L=Q/n:L&&(Q=L*n),h&&L>h&&(L=h)),bi(Q>0||L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Q,L,o,l,u,f,n);var I=!Array.isArray(d)&&Oi(d.type).endsWith("Chart");return E.Children.map(d,function(M){return E.isValidElement(M)?D.cloneElement(M,Jf({width:Q,height:L},I?{style:Jf({height:"100%",width:"100%",maxHeight:L,maxWidth:Q},M.props.style)}:{})):M})},[n,d,l,h,f,u,P,o]);return E.createElement("div",{id:v?"".concat(v):void 0,className:me("recharts-responsive-container",g),style:Jf(Jf({},_),{},{width:o,height:l,minWidth:u,minHeight:f,maxHeight:h}),ref:O},A)}),K1=function(e){return null};K1.displayName="Cell";function du(t){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},du(t)}function V2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ty(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V2(Object(n),!0).forEach(function(r){TU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TU(t,e,n){return e=MU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MU(t){var e=jU(t,"string");return du(e)=="symbol"?e:e+""}function jU(t,e){if(du(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zo={widthCache:{},cacheCount:0},QU=2e3,zU={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},U2="recharts_measurement_span";function IU(t){var e=Ty({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Ec=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Pa.isSsr)return{width:0,height:0};var r=IU(n),i=JSON.stringify({text:e,copyStyle:r});if(zo.widthCache[i])return zo.widthCache[i];try{var a=document.getElementById(U2);a||(a=document.createElement("span"),a.setAttribute("id",U2),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=Ty(Ty({},zU),r);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return zo.widthCache[i]=l,++zo.cacheCount>QU&&(zo.cacheCount=0,zo.widthCache={}),l}catch{return{width:0,height:0}}},RU=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function pu(t){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pu(t)}function Xd(t,e){return BU(t)||LU(t,e)||NU(t,e)||DU()}function DU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NU(t,e){if(t){if(typeof t=="string")return q2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q2(t,e)}}function q2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function LU(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function BU(t){if(Array.isArray(t))return t}function ZU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XU(r.key),r)}}function WU(t,e,n){return e&&Y2(t.prototype,e),n&&Y2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function XU(t){var e=FU(t,"string");return pu(e)=="symbol"?e:e+""}function FU(t,e){if(pu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var G2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,H2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,VU=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,UU=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,tT={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},qU=Object.keys(tT),rs="NaN";function YU(t,e){return t*tT[e]}var eh=function(){function t(e,n){ZU(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!VU.test(n)&&(this.num=NaN,this.unit=""),qU.includes(n)&&(this.num=YU(e,n),this.unit="px")}return WU(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=UU.exec(n))!==null&&r!==void 0?r:[],a=Xd(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}])}();function nT(t){if(t.includes(rs))return rs;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=G2.exec(e))!==null&&n!==void 0?n:[],i=Xd(r,4),a=i[1],o=i[2],s=i[3],l=eh.parse(a??""),c=eh.parse(s??""),u=o==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return rs;e=e.replace(G2,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=H2.exec(e))!==null&&f!==void 0?f:[],d=Xd(h,4),p=d[1],m=d[2],v=d[3],g=eh.parse(p??""),y=eh.parse(v??""),x=m==="+"?g.add(y):g.subtract(y);if(x.isNaN())return rs;e=e.replace(H2,x.toString())}return e}var K2=/\(([^()]*)\)/;function GU(t){for(var e=t;e.includes("(");){var n=K2.exec(e),r=Xd(n,2),i=r[1];e=e.replace(K2,nT(i))}return e}function HU(t){var e=t.replace(/\s+/g,"");return e=GU(e),e=nT(e),e}function KU(t){try{return HU(t)}catch{return rs}}function m0(t){var e=KU(t.slice(5,-1));return e===rs?"":e}var JU=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],eq=["dx","dy","angle","className","breakAll"];function My(){return My=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},My.apply(this,arguments)}function J2(t,e){if(t==null)return{};var n=tq(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tq(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function e_(t,e){return aq(t)||iq(t,e)||rq(t,e)||nq()}function nq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rq(t,e){if(t){if(typeof t=="string")return t_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t_(t,e)}}function t_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iq(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function aq(t){if(Array.isArray(t))return t}var rT=/[ \f\n\r\t\v\u2028\u2029]+/,iT=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];oe(n)||(r?a=n.toString().split(""):a=n.toString().split(rT));var o=a.map(function(l){return{word:l,width:Ec(l,i).width}}),s=r?0:Ec("",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},oq=function(e,n,r,i,a){var o=e.maxLines,s=e.children,l=e.style,c=e.breakAll,u=q(o),f=s,h=function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Q.reduce(function(L,I){var M=I.word,R=I.width,B=L[L.length-1];if(B&&(i==null||a||B.width+R+r<Number(i)))B.words.push(M),B.width+=R+r;else{var F={words:[M],width:R};L.push(F)}return L},[])},d=h(n),p=function(Q){return Q.reduce(function(L,I){return L.width>I.width?L:I})};if(!u)return d;for(var m="",v=function(Q){var L=f.slice(0,Q),I=iT({breakAll:c,style:l,children:L+m}).wordsWithComputedWidth,M=h(I),R=M.length>o||p(M).width>Number(i);return[R,M]},g=0,y=f.length-1,x=0,_;g<=y&&x<=f.length-1;){var O=Math.floor((g+y)/2),w=O-1,$=v(w),k=e_($,2),P=k[0],T=k[1],j=v(O),A=e_(j,1),N=A[0];if(!P&&!N&&(g=O+1),P&&N&&(y=O-1),!P&&N){_=T;break}x++}return _||d},n_=function(e){var n=oe(e)?[]:e.toString().split(rT);return[{words:n}]},sq=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((n||r)&&!Pa.isSsr){var l,c,u=iT({breakAll:o,children:i,style:a});if(u){var f=u.wordsWithComputedWidth,h=u.spaceWidth;l=f,c=h}else return n_(i);return oq({breakAll:o,children:i,maxLines:s,style:a},l,c,n,r)}return n_(i)},r_="#808080",Fd=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,f=u===void 0?!1:u,h=e.textAnchor,d=h===void 0?"start":h,p=e.verticalAnchor,m=p===void 0?"end":p,v=e.fill,g=v===void 0?r_:v,y=J2(e,JU),x=D.useMemo(function(){return sq({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),_=y.dx,O=y.dy,w=y.angle,$=y.className,k=y.breakAll,P=J2(y,eq);if(!Ot(r)||!Ot(a))return null;var T=r+(q(_)?_:0),j=a+(q(O)?O:0),A;switch(m){case"start":A=m0("calc(".concat(c,")"));break;case"middle":A=m0("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:A=m0("calc(".concat(x.length-1," * -").concat(s,")"));break}var N=[];if(f){var C=x[0].width,Q=y.width;N.push("scale(".concat((q(Q)?Q/C:1)/C,")"))}return w&&N.push("rotate(".concat(w,", ").concat(T,", ").concat(j,")")),N.length&&(P.transform=N.join(" ")),E.createElement("text",My({},le(P,!0),{x:T,y:j,className:me("recharts-text",$),textAnchor:d,fill:g.includes("url")?r_:g}),x.map(function(L,I){var M=L.words.join(k?"":" ");return E.createElement("tspan",{x:T,dy:I===0?A:s,key:"".concat(M,"-").concat(I)},M)}))};function ua(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function lq(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function J1(t){let e,n,r;t.length!==2?(e=ua,n=(s,l)=>ua(t(s),l),r=(s,l)=>t(s)-l):(e=t===ua||t===lq?t:cq,n=t,r=t);function i(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;n(s[f],l)<0?c=f+1:u=f}while(c<u)}return c}function a(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;n(s[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function o(s,l,c=0,u=s.length){const f=i(s,l,c,u-1);return f>c&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:o,right:a}}function cq(){return 0}function aT(t){return t===null?NaN:+t}function*uq(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const fq=J1(ua),mf=fq.right;J1(aT).center;class i_ extends Map{constructor(e,n=pq){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(a_(this,e))}has(e){return super.has(a_(this,e))}set(e,n){return super.set(hq(this,e),n)}delete(e){return super.delete(dq(this,e))}}function a_({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function hq({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function dq({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function pq(t){return t!==null&&typeof t=="object"?t.valueOf():t}function mq(t=ua){if(t===ua)return oT;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function oT(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const gq=Math.sqrt(50),vq=Math.sqrt(10),yq=Math.sqrt(2);function Vd(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=gq?10:a>=vq?5:a>=yq?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(t*c),l=Math.round(e*c),s/c<t&&++s,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*o,s=Math.round(t/c),l=Math.round(e/c),s*c<t&&++s,l*c>e&&--l),l<s&&.5<=n&&n<2?Vd(t,e,n*2):[s,l,c]}function jy(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?Vd(e,t,n):Vd(t,e,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(i+c)/-o;else for(let c=0;c<s;++c)l[c]=(i+c)*o;return l}function Qy(t,e,n){return e=+e,t=+t,n=+n,Vd(t,e,n)[2]}function zy(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Qy(e,t,n):Qy(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function o_(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function s_(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function sT(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?oT:mq(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,u=Math.log(l),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),d=Math.max(n,Math.floor(e-c*f/l+h)),p=Math.min(r,Math.floor(e+(l-c)*f/l+h));sT(t,e,d,p,i)}const a=t[e];let o=n,s=r;for(Vl(t,n,e),i(t[r],a)>0&&Vl(t,n,r);o<s;){for(Vl(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[n],a)===0?Vl(t,n,s):(++s,Vl(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Vl(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Oq(t,e,n){if(t=Float64Array.from(uq(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return s_(t);if(e>=1)return o_(t);var r,i=(r-1)*e,a=Math.floor(i),o=o_(sT(t,a).subarray(0,a+1)),s=s_(t.subarray(a+1));return o+(s-o)*(i-a)}}function bq(t,e,n=aT){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),s=+n(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function xq(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function ur(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function zi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Iy=Symbol("implicit");function ex(){var t=new i_,e=[],n=[],r=Iy;function i(a){let o=t.get(a);if(o===void 0){if(r!==Iy)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new i_;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return ex(e,n).unknown(r)},ur.apply(i,arguments),i}function mu(){var t=ex().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,s=!1,l=0,c=0,u=.5;delete t.unknown;function f(){var h=e().length,d=i<r,p=d?i:r,m=d?r:i;a=(m-p)/Math.max(1,h-l+c*2),s&&(a=Math.floor(a)),p+=(m-p-a*(h-l))*u,o=a*(1-l),s&&(p=Math.round(p),o=Math.round(o));var v=xq(h).map(function(g){return p+a*g});return n(d?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},t.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},t.copy=function(){return mu(e(),[r,i]).round(s).paddingInner(l).paddingOuter(c).align(u)},ur.apply(f(),arguments)}function lT(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return lT(e())},t}function Tc(){return lT(mu.apply(null,arguments).paddingInner(1))}function tx(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function cT(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function gf(){}var gu=.7,Ud=1/gu,Os="\\s*([+-]?\\d+)\\s*",vu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ei="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wq=/^#([0-9a-f]{3,8})$/,Sq=new RegExp(`^rgb\\(${Os},${Os},${Os}\\)$`),_q=new RegExp(`^rgb\\(${ei},${ei},${ei}\\)$`),$q=new RegExp(`^rgba\\(${Os},${Os},${Os},${vu}\\)$`),kq=new RegExp(`^rgba\\(${ei},${ei},${ei},${vu}\\)$`),Pq=new RegExp(`^hsl\\(${vu},${ei},${ei}\\)$`),Aq=new RegExp(`^hsla\\(${vu},${ei},${ei},${vu}\\)$`),l_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};tx(gf,yu,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:c_,formatHex:c_,formatHex8:Cq,formatHsl:Eq,formatRgb:u_,toString:u_});function c_(){return this.rgb().formatHex()}function Cq(){return this.rgb().formatHex8()}function Eq(){return uT(this).formatHsl()}function u_(){return this.rgb().formatRgb()}function yu(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=wq.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?f_(e):n===3?new mn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?th(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?th(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Sq.exec(t))?new mn(e[1],e[2],e[3],1):(e=_q.exec(t))?new mn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=$q.exec(t))?th(e[1],e[2],e[3],e[4]):(e=kq.exec(t))?th(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Pq.exec(t))?p_(e[1],e[2]/100,e[3]/100,1):(e=Aq.exec(t))?p_(e[1],e[2]/100,e[3]/100,e[4]):l_.hasOwnProperty(t)?f_(l_[t]):t==="transparent"?new mn(NaN,NaN,NaN,0):null}function f_(t){return new mn(t>>16&255,t>>8&255,t&255,1)}function th(t,e,n,r){return r<=0&&(t=e=n=NaN),new mn(t,e,n,r)}function Tq(t){return t instanceof gf||(t=yu(t)),t?(t=t.rgb(),new mn(t.r,t.g,t.b,t.opacity)):new mn}function Ry(t,e,n,r){return arguments.length===1?Tq(t):new mn(t,e,n,r??1)}function mn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}tx(mn,Ry,cT(gf,{brighter(t){return t=t==null?Ud:Math.pow(Ud,t),new mn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?gu:Math.pow(gu,t),new mn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new mn(io(this.r),io(this.g),io(this.b),qd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:h_,formatHex:h_,formatHex8:Mq,formatRgb:d_,toString:d_}));function h_(){return`#${Ya(this.r)}${Ya(this.g)}${Ya(this.b)}`}function Mq(){return`#${Ya(this.r)}${Ya(this.g)}${Ya(this.b)}${Ya((isNaN(this.opacity)?1:this.opacity)*255)}`}function d_(){const t=qd(this.opacity);return`${t===1?"rgb(":"rgba("}${io(this.r)}, ${io(this.g)}, ${io(this.b)}${t===1?")":`, ${t})`}`}function qd(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function io(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ya(t){return t=io(t),(t<16?"0":"")+t.toString(16)}function p_(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new br(t,e,n,r)}function uT(t){if(t instanceof br)return new br(t.h,t.s,t.l,t.opacity);if(t instanceof gf||(t=yu(t)),!t)return new br;if(t instanceof br)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new br(o,s,l,t.opacity)}function jq(t,e,n,r){return arguments.length===1?uT(t):new br(t,e,n,r??1)}function br(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}tx(br,jq,cT(gf,{brighter(t){return t=t==null?Ud:Math.pow(Ud,t),new br(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?gu:Math.pow(gu,t),new br(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new mn(g0(t>=240?t-240:t+120,i,r),g0(t,i,r),g0(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new br(m_(this.h),nh(this.s),nh(this.l),qd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=qd(this.opacity);return`${t===1?"hsl(":"hsla("}${m_(this.h)}, ${nh(this.s)*100}%, ${nh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function m_(t){return t=(t||0)%360,t<0?t+360:t}function nh(t){return Math.max(0,Math.min(1,t||0))}function g0(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const nx=t=>()=>t;function Qq(t,e){return function(n){return t+n*e}}function zq(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Iq(t){return(t=+t)==1?fT:function(e,n){return n-e?zq(e,n,t):nx(isNaN(e)?n:e)}}function fT(t,e){var n=e-t;return n?Qq(t,n):nx(isNaN(t)?e:t)}const g_=function t(e){var n=Iq(e);function r(i,a){var o=n((i=Ry(i)).r,(a=Ry(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),c=fT(i.opacity,a.opacity);return function(u){return i.r=o(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function Rq(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Dq(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Nq(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=$l(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function Lq(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Yd(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Bq(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=$l(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Dy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,v0=new RegExp(Dy.source,"g");function Zq(t){return function(){return t}}function Wq(t){return function(e){return t(e)+""}}function Xq(t,e){var n=Dy.lastIndex=v0.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(r=Dy.exec(t))&&(i=v0.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:Yd(r,i)})),n=v0.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?Wq(l[0].x):Zq(e):(e=l.length,function(c){for(var u=0,f;u<e;++u)s[(f=l[u]).i]=f.x(c);return s.join("")})}function $l(t,e){var n=typeof e,r;return e==null||n==="boolean"?nx(e):(n==="number"?Yd:n==="string"?(r=yu(e))?(e=r,g_):Xq:e instanceof yu?g_:e instanceof Date?Lq:Dq(e)?Rq:Array.isArray(e)?Nq:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Bq:Yd)(t,e)}function rx(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Fq(t,e){e===void 0&&(e=t,t=$l);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function Vq(t){return function(){return t}}function Gd(t){return+t}var v_=[0,1];function nn(t){return t}function Ny(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Vq(isNaN(e)?NaN:.5)}function Uq(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function qq(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=Ny(i,r),a=n(o,a)):(r=Ny(r,i),a=n(a,o)),function(s){return a(r(s))}}function Yq(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=Ny(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(s){var l=mf(t,s,1,r)-1;return a[l](i[l](s))}}function vf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function qm(){var t=v_,e=v_,n=$l,r,i,a,o=nn,s,l,c;function u(){var h=Math.min(t.length,e.length);return o!==nn&&(o=Uq(t[0],t[h-1])),s=h>2?Yq:qq,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=s(t.map(r),e,n)))(r(o(h)))}return f.invert=function(h){return o(i((c||(c=s(e,t.map(r),Yd)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Gd),u()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),u()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=rx,u()},f.clamp=function(h){return arguments.length?(o=h?!0:nn,u()):o!==nn},f.interpolate=function(h){return arguments.length?(n=h,u()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,d){return r=h,i=d,u()}}function ix(){return qm()(nn,nn)}function Gq(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Hd(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ls(t){return t=Hd(Math.abs(t)),t?t[1]:NaN}function Hq(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function Kq(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Jq=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ou(t){if(!(e=Jq.exec(t)))throw new Error("invalid format: "+t);var e;return new ax({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ou.prototype=ax.prototype;function ax(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}ax.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function eY(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Kd;function tY(t,e){var n=Hd(t,e);if(!n)return Kd=void 0,t.toPrecision(e);var r=n[0],i=n[1],a=i-(Kd=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Hd(t,Math.max(0,e+a-1))[0]}function y_(t,e){var n=Hd(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const O_={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Gq,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>y_(t*100,e),r:y_,s:tY,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function b_(t){return t}var x_=Array.prototype.map,w_=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function nY(t){var e=t.grouping===void 0||t.thousands===void 0?b_:Hq(x_.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?b_:Kq(x_.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f,h){f=Ou(f);var d=f.fill,p=f.align,m=f.sign,v=f.symbol,g=f.zero,y=f.width,x=f.comma,_=f.precision,O=f.trim,w=f.type;w==="n"?(x=!0,w="g"):O_[w]||(_===void 0&&(_=12),O=!0,w="g"),(g||d==="0"&&p==="=")&&(g=!0,d="0",p="=");var $=(h&&h.prefix!==void 0?h.prefix:"")+(v==="$"?n:v==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():""),k=(v==="$"?r:/[%p]/.test(w)?o:"")+(h&&h.suffix!==void 0?h.suffix:""),P=O_[w],T=/[defgprs%]/.test(w);_=_===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function j(A){var N=$,C=k,Q,L,I;if(w==="c")C=P(A)+C,A="";else{A=+A;var M=A<0||1/A<0;if(A=isNaN(A)?l:P(Math.abs(A),_),O&&(A=eY(A)),M&&+A==0&&m!=="+"&&(M=!1),N=(M?m==="("?m:s:m==="-"||m==="("?"":m)+N,C=(w==="s"&&!isNaN(A)&&Kd!==void 0?w_[8+Kd/3]:"")+C+(M&&m==="("?")":""),T){for(Q=-1,L=A.length;++Q<L;)if(I=A.charCodeAt(Q),48>I||I>57){C=(I===46?i+A.slice(Q+1):A.slice(Q))+C,A=A.slice(0,Q);break}}}x&&!g&&(A=e(A,1/0));var R=N.length+A.length+C.length,B=R<y?new Array(y-R+1).join(d):"";switch(x&&g&&(A=e(B+A,B.length?y-C.length:1/0),B=""),p){case"<":A=N+A+C+B;break;case"=":A=N+B+A+C;break;case"^":A=B.slice(0,R=B.length>>1)+N+A+C+B.slice(R);break;default:A=B+N+A+C;break}return a(A)}return j.toString=function(){return f+""},j}function u(f,h){var d=Math.max(-8,Math.min(8,Math.floor(Ls(h)/3)))*3,p=Math.pow(10,-d),m=c((f=Ou(f),f.type="f",f),{suffix:w_[8+d/3]});return function(v){return m(p*v)}}return{format:c,formatPrefix:u}}var rh,ox,hT;rY({thousands:",",grouping:[3],currency:["$",""]});function rY(t){return rh=nY(t),ox=rh.format,hT=rh.formatPrefix,rh}function iY(t){return Math.max(0,-Ls(Math.abs(t)))}function aY(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ls(e)/3)))*3-Ls(Math.abs(t)))}function oY(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ls(e)-Ls(t))+1}function dT(t,e,n,r){var i=zy(t,e,n),a;switch(r=Ou(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=aY(i,o))&&(r.precision=a),hT(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=oY(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=iY(i))&&(r.precision=a-(r.type==="%")*2);break}}return ox(r)}function Aa(t){var e=t.domain;return t.ticks=function(n){var r=e();return jy(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return dT(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],l,c,u=10;for(s<o&&(c=o,o=s,s=c,c=i,i=a,a=c);u-- >0;){if(c=Qy(o,s,n),c===l)return r[i]=o,r[a]=s,e(r);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;l=c}return t},t}function Jd(){var t=ix();return t.copy=function(){return vf(t,Jd())},ur.apply(t,arguments),Aa(t)}function pT(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Gd),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return pT(t).unknown(e)},t=arguments.length?Array.from(t,Gd):[0,1],Aa(n)}function mT(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function S_(t){return Math.log(t)}function __(t){return Math.exp(t)}function sY(t){return-Math.log(-t)}function lY(t){return-Math.exp(-t)}function cY(t){return isFinite(t)?+("1e"+t):t<0?0:t}function uY(t){return t===10?cY:t===Math.E?Math.exp:e=>Math.pow(t,e)}function fY(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function $_(t){return(e,n)=>-t(-e,n)}function sx(t){const e=t(S_,__),n=e.domain;let r=10,i,a;function o(){return i=fY(r),a=uY(r),n()[0]<0?(i=$_(i),a=$_(a),t(sY,lY)):t(S_,__),e}return e.base=function(s){return arguments.length?(r=+s,o()):r},e.domain=function(s){return arguments.length?(n(s),o()):n()},e.ticks=s=>{const l=n();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let h=i(c),d=i(u),p,m;const v=s==null?10:+s;let g=[];if(!(r%1)&&d-h<v){if(h=Math.floor(h),d=Math.ceil(d),c>0){for(;h<=d;++h)for(p=1;p<r;++p)if(m=h<0?p/a(-h):p*a(h),!(m<c)){if(m>u)break;g.push(m)}}else for(;h<=d;++h)for(p=r-1;p>=1;--p)if(m=h>0?p/a(-h):p*a(h),!(m<c)){if(m>u)break;g.push(m)}g.length*2<v&&(g=jy(c,u,v))}else g=jy(h,d,Math.min(d-h,v)).map(a);return f?g.reverse():g},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Ou(l)).precision==null&&(l.trim=!0),l=ox(l)),s===1/0)return l;const c=Math.max(1,r*s/e.ticks().length);return u=>{let f=u/a(Math.round(i(u)));return f*r<r-.5&&(f*=r),f<=c?l(u):""}},e.nice=()=>n(mT(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function gT(){const t=sx(qm()).domain([1,10]);return t.copy=()=>vf(t,gT()).base(t.base()),ur.apply(t,arguments),t}function k_(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function P_(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function lx(t){var e=1,n=t(k_(e),P_(e));return n.constant=function(r){return arguments.length?t(k_(e=+r),P_(e)):e},Aa(n)}function vT(){var t=lx(qm());return t.copy=function(){return vf(t,vT()).constant(t.constant())},ur.apply(t,arguments)}function A_(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function hY(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function dY(t){return t<0?-t*t:t*t}function cx(t){var e=t(nn,nn),n=1;function r(){return n===1?t(nn,nn):n===.5?t(hY,dY):t(A_(n),A_(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Aa(e)}function ux(){var t=cx(qm());return t.copy=function(){return vf(t,ux()).exponent(t.exponent())},ur.apply(t,arguments),t}function pY(){return ux.apply(null,arguments).exponent(.5)}function C_(t){return Math.sign(t)*t*t}function mY(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function yT(){var t=ix(),e=[0,1],n=!1,r;function i(a){var o=mY(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(C_(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Gd)).map(C_)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return yT(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ur.apply(i,arguments),Aa(i)}function OT(){var t=[],e=[],n=[],r;function i(){var o=0,s=Math.max(1,e.length);for(n=new Array(s-1);++o<s;)n[o-1]=bq(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:e[mf(n,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(ua),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return OT().domain(t).range(e).unknown(r)},ur.apply(a,arguments)}function bT(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[mf(r,l,0,n)]:a}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return bT().domain([t,e]).range(i).unknown(a)},ur.apply(Aa(o),arguments)}function xT(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[mf(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return xT().domain(t).range(e).unknown(n)},ur.apply(i,arguments)}const y0=new Date,O0=new Date;function wt(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let c;do l.push(c=new Date(+a)),e(a,s),t(a);while(c<a&&a<o);return l},i.filter=a=>wt(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(y0.setTime(+a),O0.setTime(+o),t(y0),t(O0),Math.floor(n(y0,O0))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const ep=wt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);ep.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?wt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):ep);ep.range;const mi=1e3,Jn=mi*60,gi=Jn*60,ki=gi*24,fx=ki*7,E_=ki*30,b0=ki*365,Ga=wt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*mi)},(t,e)=>(e-t)/mi,t=>t.getUTCSeconds());Ga.range;const hx=wt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*mi)},(t,e)=>{t.setTime(+t+e*Jn)},(t,e)=>(e-t)/Jn,t=>t.getMinutes());hx.range;const dx=wt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Jn)},(t,e)=>(e-t)/Jn,t=>t.getUTCMinutes());dx.range;const px=wt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*mi-t.getMinutes()*Jn)},(t,e)=>{t.setTime(+t+e*gi)},(t,e)=>(e-t)/gi,t=>t.getHours());px.range;const mx=wt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*gi)},(t,e)=>(e-t)/gi,t=>t.getUTCHours());mx.range;const yf=wt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Jn)/ki,t=>t.getDate()-1);yf.range;const Ym=wt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ki,t=>t.getUTCDate()-1);Ym.range;const wT=wt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ki,t=>Math.floor(t/ki));wT.range;function Eo(t){return wt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Jn)/fx)}const Gm=Eo(0),tp=Eo(1),gY=Eo(2),vY=Eo(3),Bs=Eo(4),yY=Eo(5),OY=Eo(6);Gm.range;tp.range;gY.range;vY.range;Bs.range;yY.range;OY.range;function To(t){return wt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/fx)}const Hm=To(0),np=To(1),bY=To(2),xY=To(3),Zs=To(4),wY=To(5),SY=To(6);Hm.range;np.range;bY.range;xY.range;Zs.range;wY.range;SY.range;const gx=wt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());gx.range;const vx=wt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());vx.range;const Pi=wt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Pi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:wt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Pi.range;const Ai=wt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ai.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:wt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ai.range;function ST(t,e,n,r,i,a){const o=[[Ga,1,mi],[Ga,5,5*mi],[Ga,15,15*mi],[Ga,30,30*mi],[a,1,Jn],[a,5,5*Jn],[a,15,15*Jn],[a,30,30*Jn],[i,1,gi],[i,3,3*gi],[i,6,6*gi],[i,12,12*gi],[r,1,ki],[r,2,2*ki],[n,1,fx],[e,1,E_],[e,3,3*E_],[t,1,b0]];function s(c,u,f){const h=u<c;h&&([c,u]=[u,c]);const d=f&&typeof f.range=="function"?f:l(c,u,f),p=d?d.range(c,+u+1):[];return h?p.reverse():p}function l(c,u,f){const h=Math.abs(u-c)/f,d=J1(([,,v])=>v).right(o,h);if(d===o.length)return t.every(zy(c/b0,u/b0,f));if(d===0)return ep.every(Math.max(zy(c,u,f),1));const[p,m]=o[h/o[d-1][2]<o[d][2]/h?d-1:d];return p.every(m)}return[s,l]}const[_Y,$Y]=ST(Ai,vx,Hm,wT,mx,dx),[kY,PY]=ST(Pi,gx,Gm,yf,px,hx);function x0(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function w0(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ul(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function AY(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,c=ql(i),u=Yl(i),f=ql(a),h=Yl(a),d=ql(o),p=Yl(o),m=ql(s),v=Yl(s),g=ql(l),y=Yl(l),x={a:I,A:M,b:R,B,c:null,d:I_,e:I_,f:HY,g:sG,G:cG,H:qY,I:YY,j:GY,L:_T,m:KY,M:JY,p:F,q:X,Q:N_,s:L_,S:eG,u:tG,U:nG,V:rG,w:iG,W:aG,x:null,X:null,y:oG,Y:lG,Z:uG,"%":D_},_={a:G,A:ae,b:ge,B:ke,c:null,d:R_,e:R_,f:pG,g:_G,G:kG,H:fG,I:hG,j:dG,L:kT,m:mG,M:gG,p:St,q:Zt,Q:N_,s:L_,S:vG,u:yG,U:OG,V:bG,w:xG,W:wG,x:null,X:null,y:SG,Y:$G,Z:PG,"%":D_},O={a:T,A:j,b:A,B:N,c:C,d:Q_,e:Q_,f:XY,g:j_,G:M_,H:z_,I:z_,j:LY,L:WY,m:NY,M:BY,p:P,q:DY,Q:VY,s:UY,S:ZY,u:jY,U:QY,V:zY,w:MY,W:IY,x:Q,X:L,y:j_,Y:M_,Z:RY,"%":FY};x.x=w(n,x),x.X=w(r,x),x.c=w(e,x),_.x=w(n,_),_.X=w(r,_),_.c=w(e,_);function w(K,ue){return function(fe){var V=[],Ye=-1,ve=0,ft=K.length,ht,ln,Ri;for(fe instanceof Date||(fe=new Date(+fe));++Ye<ft;)K.charCodeAt(Ye)===37&&(V.push(K.slice(ve,Ye)),(ln=T_[ht=K.charAt(++Ye)])!=null?ht=K.charAt(++Ye):ln=ht==="e"?" ":"0",(Ri=ue[ht])&&(ht=Ri(fe,ln)),V.push(ht),ve=Ye+1);return V.push(K.slice(ve,Ye)),V.join("")}}function $(K,ue){return function(fe){var V=Ul(1900,void 0,1),Ye=k(V,K,fe+="",0),ve,ft;if(Ye!=fe.length)return null;if("Q"in V)return new Date(V.Q);if("s"in V)return new Date(V.s*1e3+("L"in V?V.L:0));if(ue&&!("Z"in V)&&(V.Z=0),"p"in V&&(V.H=V.H%12+V.p*12),V.m===void 0&&(V.m="q"in V?V.q:0),"V"in V){if(V.V<1||V.V>53)return null;"w"in V||(V.w=1),"Z"in V?(ve=w0(Ul(V.y,0,1)),ft=ve.getUTCDay(),ve=ft>4||ft===0?np.ceil(ve):np(ve),ve=Ym.offset(ve,(V.V-1)*7),V.y=ve.getUTCFullYear(),V.m=ve.getUTCMonth(),V.d=ve.getUTCDate()+(V.w+6)%7):(ve=x0(Ul(V.y,0,1)),ft=ve.getDay(),ve=ft>4||ft===0?tp.ceil(ve):tp(ve),ve=yf.offset(ve,(V.V-1)*7),V.y=ve.getFullYear(),V.m=ve.getMonth(),V.d=ve.getDate()+(V.w+6)%7)}else("W"in V||"U"in V)&&("w"in V||(V.w="u"in V?V.u%7:"W"in V?1:0),ft="Z"in V?w0(Ul(V.y,0,1)).getUTCDay():x0(Ul(V.y,0,1)).getDay(),V.m=0,V.d="W"in V?(V.w+6)%7+V.W*7-(ft+5)%7:V.w+V.U*7-(ft+6)%7);return"Z"in V?(V.H+=V.Z/100|0,V.M+=V.Z%100,w0(V)):x0(V)}}function k(K,ue,fe,V){for(var Ye=0,ve=ue.length,ft=fe.length,ht,ln;Ye<ve;){if(V>=ft)return-1;if(ht=ue.charCodeAt(Ye++),ht===37){if(ht=ue.charAt(Ye++),ln=O[ht in T_?ue.charAt(Ye++):ht],!ln||(V=ln(K,fe,V))<0)return-1}else if(ht!=fe.charCodeAt(V++))return-1}return V}function P(K,ue,fe){var V=c.exec(ue.slice(fe));return V?(K.p=u.get(V[0].toLowerCase()),fe+V[0].length):-1}function T(K,ue,fe){var V=d.exec(ue.slice(fe));return V?(K.w=p.get(V[0].toLowerCase()),fe+V[0].length):-1}function j(K,ue,fe){var V=f.exec(ue.slice(fe));return V?(K.w=h.get(V[0].toLowerCase()),fe+V[0].length):-1}function A(K,ue,fe){var V=g.exec(ue.slice(fe));return V?(K.m=y.get(V[0].toLowerCase()),fe+V[0].length):-1}function N(K,ue,fe){var V=m.exec(ue.slice(fe));return V?(K.m=v.get(V[0].toLowerCase()),fe+V[0].length):-1}function C(K,ue,fe){return k(K,e,ue,fe)}function Q(K,ue,fe){return k(K,n,ue,fe)}function L(K,ue,fe){return k(K,r,ue,fe)}function I(K){return o[K.getDay()]}function M(K){return a[K.getDay()]}function R(K){return l[K.getMonth()]}function B(K){return s[K.getMonth()]}function F(K){return i[+(K.getHours()>=12)]}function X(K){return 1+~~(K.getMonth()/3)}function G(K){return o[K.getUTCDay()]}function ae(K){return a[K.getUTCDay()]}function ge(K){return l[K.getUTCMonth()]}function ke(K){return s[K.getUTCMonth()]}function St(K){return i[+(K.getUTCHours()>=12)]}function Zt(K){return 1+~~(K.getUTCMonth()/3)}return{format:function(K){var ue=w(K+="",x);return ue.toString=function(){return K},ue},parse:function(K){var ue=$(K+="",!1);return ue.toString=function(){return K},ue},utcFormat:function(K){var ue=w(K+="",_);return ue.toString=function(){return K},ue},utcParse:function(K){var ue=$(K+="",!0);return ue.toString=function(){return K},ue}}}var T_={"-":"",_:" ",0:"0"},Ct=/^\s*\d+/,CY=/^%/,EY=/[\\^$*+?|[\]().{}]/g;function xe(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function TY(t){return t.replace(EY,"\\$&")}function ql(t){return new RegExp("^(?:"+t.map(TY).join("|")+")","i")}function Yl(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function MY(t,e,n){var r=Ct.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function jY(t,e,n){var r=Ct.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function QY(t,e,n){var r=Ct.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function zY(t,e,n){var r=Ct.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function IY(t,e,n){var r=Ct.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function M_(t,e,n){var r=Ct.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function j_(t,e,n){var r=Ct.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function RY(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function DY(t,e,n){var r=Ct.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function NY(t,e,n){var r=Ct.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Q_(t,e,n){var r=Ct.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function LY(t,e,n){var r=Ct.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function z_(t,e,n){var r=Ct.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function BY(t,e,n){var r=Ct.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function ZY(t,e,n){var r=Ct.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function WY(t,e,n){var r=Ct.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function XY(t,e,n){var r=Ct.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function FY(t,e,n){var r=CY.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function VY(t,e,n){var r=Ct.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function UY(t,e,n){var r=Ct.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function I_(t,e){return xe(t.getDate(),e,2)}function qY(t,e){return xe(t.getHours(),e,2)}function YY(t,e){return xe(t.getHours()%12||12,e,2)}function GY(t,e){return xe(1+yf.count(Pi(t),t),e,3)}function _T(t,e){return xe(t.getMilliseconds(),e,3)}function HY(t,e){return _T(t,e)+"000"}function KY(t,e){return xe(t.getMonth()+1,e,2)}function JY(t,e){return xe(t.getMinutes(),e,2)}function eG(t,e){return xe(t.getSeconds(),e,2)}function tG(t){var e=t.getDay();return e===0?7:e}function nG(t,e){return xe(Gm.count(Pi(t)-1,t),e,2)}function $T(t){var e=t.getDay();return e>=4||e===0?Bs(t):Bs.ceil(t)}function rG(t,e){return t=$T(t),xe(Bs.count(Pi(t),t)+(Pi(t).getDay()===4),e,2)}function iG(t){return t.getDay()}function aG(t,e){return xe(tp.count(Pi(t)-1,t),e,2)}function oG(t,e){return xe(t.getFullYear()%100,e,2)}function sG(t,e){return t=$T(t),xe(t.getFullYear()%100,e,2)}function lG(t,e){return xe(t.getFullYear()%1e4,e,4)}function cG(t,e){var n=t.getDay();return t=n>=4||n===0?Bs(t):Bs.ceil(t),xe(t.getFullYear()%1e4,e,4)}function uG(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+xe(e/60|0,"0",2)+xe(e%60,"0",2)}function R_(t,e){return xe(t.getUTCDate(),e,2)}function fG(t,e){return xe(t.getUTCHours(),e,2)}function hG(t,e){return xe(t.getUTCHours()%12||12,e,2)}function dG(t,e){return xe(1+Ym.count(Ai(t),t),e,3)}function kT(t,e){return xe(t.getUTCMilliseconds(),e,3)}function pG(t,e){return kT(t,e)+"000"}function mG(t,e){return xe(t.getUTCMonth()+1,e,2)}function gG(t,e){return xe(t.getUTCMinutes(),e,2)}function vG(t,e){return xe(t.getUTCSeconds(),e,2)}function yG(t){var e=t.getUTCDay();return e===0?7:e}function OG(t,e){return xe(Hm.count(Ai(t)-1,t),e,2)}function PT(t){var e=t.getUTCDay();return e>=4||e===0?Zs(t):Zs.ceil(t)}function bG(t,e){return t=PT(t),xe(Zs.count(Ai(t),t)+(Ai(t).getUTCDay()===4),e,2)}function xG(t){return t.getUTCDay()}function wG(t,e){return xe(np.count(Ai(t)-1,t),e,2)}function SG(t,e){return xe(t.getUTCFullYear()%100,e,2)}function _G(t,e){return t=PT(t),xe(t.getUTCFullYear()%100,e,2)}function $G(t,e){return xe(t.getUTCFullYear()%1e4,e,4)}function kG(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Zs(t):Zs.ceil(t),xe(t.getUTCFullYear()%1e4,e,4)}function PG(){return"+0000"}function D_(){return"%"}function N_(t){return+t}function L_(t){return Math.floor(+t/1e3)}var Io,AT,CT;AG({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function AG(t){return Io=AY(t),AT=Io.format,Io.parse,CT=Io.utcFormat,Io.utcParse,Io}function CG(t){return new Date(t)}function EG(t){return t instanceof Date?+t:+new Date(+t)}function yx(t,e,n,r,i,a,o,s,l,c){var u=ix(),f=u.invert,h=u.domain,d=c(".%L"),p=c(":%S"),m=c("%I:%M"),v=c("%I %p"),g=c("%a %d"),y=c("%b %d"),x=c("%B"),_=c("%Y");function O(w){return(l(w)<w?d:s(w)<w?p:o(w)<w?m:a(w)<w?v:r(w)<w?i(w)<w?g:y:n(w)<w?x:_)(w)}return u.invert=function(w){return new Date(f(w))},u.domain=function(w){return arguments.length?h(Array.from(w,EG)):h().map(CG)},u.ticks=function(w){var $=h();return t($[0],$[$.length-1],w??10)},u.tickFormat=function(w,$){return $==null?O:c($)},u.nice=function(w){var $=h();return(!w||typeof w.range!="function")&&(w=e($[0],$[$.length-1],w??10)),w?h(mT($,w)):u},u.copy=function(){return vf(u,yx(t,e,n,r,i,a,o,s,l,c))},u}function TG(){return ur.apply(yx(kY,PY,Pi,gx,Gm,yf,px,hx,Ga,AT).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function MG(){return ur.apply(yx(_Y,$Y,Ai,vx,Hm,Ym,mx,dx,Ga,CT).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Km(){var t=0,e=1,n,r,i,a,o=nn,s=!1,l;function c(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(a(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(f){return arguments.length?(s=!!f,c):s},c.interpolator=function(f){return arguments.length?(o=f,c):o};function u(f){return function(h){var d,p;return arguments.length?([d,p]=h,o=f(d,p),c):[o(0),o(1)]}}return c.range=u($l),c.rangeRound=u(rx),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),c}}function Ca(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function ET(){var t=Aa(Km()(nn));return t.copy=function(){return Ca(t,ET())},zi.apply(t,arguments)}function TT(){var t=sx(Km()).domain([1,10]);return t.copy=function(){return Ca(t,TT()).base(t.base())},zi.apply(t,arguments)}function MT(){var t=lx(Km());return t.copy=function(){return Ca(t,MT()).constant(t.constant())},zi.apply(t,arguments)}function Ox(){var t=cx(Km());return t.copy=function(){return Ca(t,Ox()).exponent(t.exponent())},zi.apply(t,arguments)}function jG(){return Ox.apply(null,arguments).exponent(.5)}function jT(){var t=[],e=nn;function n(r){if(r!=null&&!isNaN(r=+r))return e((mf(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ua),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Oq(t,a/r))},n.copy=function(){return jT(e).domain(t)},zi.apply(n,arguments)}function Jm(){var t=0,e=.5,n=1,r=1,i,a,o,s,l,c=nn,u,f=!1,h;function d(m){return isNaN(m=+m)?h:(m=.5+((m=+u(m))-a)*(r*m<r*a?s:l),c(f?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([t,e,n]=m,i=u(t=+t),a=u(e=+e),o=u(n=+n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,d):[t,e,n]},d.clamp=function(m){return arguments.length?(f=!!m,d):f},d.interpolator=function(m){return arguments.length?(c=m,d):c};function p(m){return function(v){var g,y,x;return arguments.length?([g,y,x]=v,c=Fq(m,[g,y,x]),d):[c(0),c(.5),c(1)]}}return d.range=p($l),d.rangeRound=p(rx),d.unknown=function(m){return arguments.length?(h=m,d):h},function(m){return u=m,i=m(t),a=m(e),o=m(n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,d}}function QT(){var t=Aa(Jm()(nn));return t.copy=function(){return Ca(t,QT())},zi.apply(t,arguments)}function zT(){var t=sx(Jm()).domain([.1,1,10]);return t.copy=function(){return Ca(t,zT()).base(t.base())},zi.apply(t,arguments)}function IT(){var t=lx(Jm());return t.copy=function(){return Ca(t,IT()).constant(t.constant())},zi.apply(t,arguments)}function bx(){var t=cx(Jm());return t.copy=function(){return Ca(t,bx()).exponent(t.exponent())},zi.apply(t,arguments)}function QG(){return bx.apply(null,arguments).exponent(.5)}const B_=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:mu,scaleDiverging:QT,scaleDivergingLog:zT,scaleDivergingPow:bx,scaleDivergingSqrt:QG,scaleDivergingSymlog:IT,scaleIdentity:pT,scaleImplicit:Iy,scaleLinear:Jd,scaleLog:gT,scaleOrdinal:ex,scalePoint:Tc,scalePow:ux,scaleQuantile:OT,scaleQuantize:bT,scaleRadial:yT,scaleSequential:ET,scaleSequentialLog:TT,scaleSequentialPow:Ox,scaleSequentialQuantile:jT,scaleSequentialSqrt:jG,scaleSequentialSymlog:MT,scaleSqrt:pY,scaleSymlog:vT,scaleThreshold:xT,scaleTime:TG,scaleUtc:MG,tickFormat:dT},Symbol.toStringTag,{value:"Module"}));var zG=gl;function IG(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],o=e(a);if(o!=null&&(s===void 0?o===o&&!zG(o):n(o,s)))var s=o,l=a}return l}var RT=IG;function RG(t,e){return t>e}var DG=RG,NG=RT,LG=DG,BG=_l;function ZG(t){return t&&t.length?NG(t,BG,LG):void 0}var WG=ZG;const Ki=Me(WG);function XG(t,e){return t<e}var FG=XG,VG=RT,UG=FG,qG=_l;function YG(t){return t&&t.length?VG(t,qG,UG):void 0}var GG=YG;const eg=Me(GG);var HG=Q1,KG=ka,JG=VE,eH=$n;function tH(t,e){var n=eH(t)?HG:JG;return n(t,KG(e))}var nH=tH,rH=XE,iH=nH;function aH(t,e){return rH(iH(t,e),1)}var oH=aH;const sH=Me(oH);var lH=q1;function cH(t,e){return lH(t,e)}var uH=cH;const yo=Me(uH);var kl=1e9,fH={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},wx,Ze=!0,sr="[DecimalError] ",ao=sr+"Invalid argument: ",xx=sr+"Exponent out of range: ",Pl=Math.floor,Ba=Math.pow,hH=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Rn,_t=1e7,De=7,DT=9007199254740991,rp=Pl(DT/De),ne={};ne.absoluteValue=ne.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ne.comparedTo=ne.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};ne.decimalPlaces=ne.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*De;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ne.dividedBy=ne.div=function(t){return xi(this,new this.constructor(t))};ne.dividedToIntegerBy=ne.idiv=function(t){var e=this,n=e.constructor;return Ee(xi(e,new n(t),0,1),n.precision)};ne.equals=ne.eq=function(t){return!this.cmp(t)};ne.exponent=function(){return lt(this)};ne.greaterThan=ne.gt=function(t){return this.cmp(t)>0};ne.greaterThanOrEqualTo=ne.gte=function(t){return this.cmp(t)>=0};ne.isInteger=ne.isint=function(){return this.e>this.d.length-2};ne.isNegative=ne.isneg=function(){return this.s<0};ne.isPositive=ne.ispos=function(){return this.s>0};ne.isZero=function(){return this.s===0};ne.lessThan=ne.lt=function(t){return this.cmp(t)<0};ne.lessThanOrEqualTo=ne.lte=function(t){return this.cmp(t)<1};ne.logarithm=ne.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Rn))throw Error(sr+"NaN");if(n.s<1)throw Error(sr+(n.s?"NaN":"-Infinity"));return n.eq(Rn)?new r(0):(Ze=!1,e=xi(bu(n,a),bu(t,a),a),Ze=!0,Ee(e,i))};ne.minus=ne.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?BT(e,t):NT(e,(t.s=-t.s,t))};ne.modulo=ne.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(sr+"NaN");return n.s?(Ze=!1,e=xi(n,t,0,1).times(t),Ze=!0,n.minus(e)):Ee(new r(n),i)};ne.naturalExponential=ne.exp=function(){return LT(this)};ne.naturalLogarithm=ne.ln=function(){return bu(this)};ne.negated=ne.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ne.plus=ne.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?NT(e,t):BT(e,(t.s=-t.s,t))};ne.precision=ne.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ao+t);if(e=lt(i)+1,r=i.d.length-1,n=r*De+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ne.squareRoot=ne.sqrt=function(){var t,e,n,r,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(sr+"NaN")}for(t=lt(s),Ze=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Vr(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Pl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(a=r,r=a.plus(xi(s,a,o+2)).times(.5),Vr(a.d).slice(0,o)===(e=Vr(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Ee(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(e!="9999")break;o+=4}return Ze=!0,Ee(r,n)};ne.times=ne.mul=function(t){var e,n,r,i,a,o,s,l,c,u=this,f=u.constructor,h=u.d,d=(t=new f(t)).d;if(!u.s||!t.s)return new f(0);for(t.s*=u.s,n=u.e+t.e,l=h.length,c=d.length,l<c&&(a=h,h=d,d=a,o=l,l=c,c=o),a=[],o=l+c,r=o;r--;)a.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)s=a[i]+d[r]*h[i-r-1]+e,a[i--]=s%_t|0,e=s/_t|0;a[i]=(a[i]+e)%_t|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Ze?Ee(t,f.precision):t};ne.toDecimalPlaces=ne.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ii(t,0,kl),e===void 0?e=r.rounding:ii(e,0,8),Ee(n,t+lt(n)+1,e))};ne.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Oo(r,!0):(ii(t,0,kl),e===void 0?e=i.rounding:ii(e,0,8),r=Ee(new i(r),t+1,e),n=Oo(r,!0,t+1)),n};ne.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Oo(i):(ii(t,0,kl),e===void 0?e=a.rounding:ii(e,0,8),r=Ee(new a(i),t+lt(i)+1,e),n=Oo(r.abs(),!1,t+lt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ne.toInteger=ne.toint=function(){var t=this,e=t.constructor;return Ee(new e(t),lt(t)+1,e.rounding)};ne.toNumber=function(){return+this};ne.toPower=ne.pow=function(t){var e,n,r,i,a,o,s=this,l=s.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(Rn);if(s=new l(s),!s.s){if(t.s<1)throw Error(sr+"Infinity");return s}if(s.eq(Rn))return s;if(r=l.precision,t.eq(Rn))return Ee(s,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=s.s,o){if((n=u<0?-u:u)<=DT){for(i=new l(Rn),e=Math.ceil(r/De+4),Ze=!1;n%2&&(i=i.times(s),W_(i.d,e)),n=Pl(n/2),n!==0;)s=s.times(s),W_(s.d,e);return Ze=!0,t.s<0?new l(Rn).div(i):Ee(i,r)}}else if(a<0)throw Error(sr+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,Ze=!1,i=t.times(bu(s,r+c)),Ze=!0,i=LT(i),i.s=a,i};ne.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=lt(i),r=Oo(i,n<=a.toExpNeg||n>=a.toExpPos)):(ii(t,1,kl),e===void 0?e=a.rounding:ii(e,0,8),i=Ee(new a(i),t,e),n=lt(i),r=Oo(i,t<=n||n<=a.toExpNeg,t)),r};ne.toSignificantDigits=ne.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ii(t,1,kl),e===void 0?e=r.rounding:ii(e,0,8)),Ee(new r(n),t,e)};ne.toString=ne.valueOf=ne.val=ne.toJSON=ne[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=lt(t),n=t.constructor;return Oo(t,e<=n.toExpNeg||e>=n.toExpPos)};function NT(t,e){var n,r,i,a,o,s,l,c,u=t.constructor,f=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),Ze?Ee(e,f):e;if(l=t.d,c=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(r=l,a=-a,s=c.length):(r=c,i=o,s=l.length),o=Math.ceil(f/De),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=l.length,a=c.length,s-a<0&&(a=s,r=c,c=l,l=r),n=0;a;)n=(l[--a]=l[a]+c[a]+n)/_t|0,l[a]%=_t;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,Ze?Ee(e,f):e}function ii(t,e,n){if(t!==~~t||t<e||t>n)throw Error(ao+t)}function Vr(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=De-r.length,n&&(a+=Zi(n)),a+=r;o=t[e],r=o+"",n=De-r.length,n&&(a+=Zi(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var xi=function(){function t(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%_t|0,o=a/_t|0;return o&&r.unshift(o),r}function e(r,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*_t+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,l,c,u,f,h,d,p,m,v,g,y,x,_,O,w,$,k,P=r.constructor,T=r.s==i.s?1:-1,j=r.d,A=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(sr+"Division by zero");for(l=r.e-i.e,$=A.length,O=j.length,d=new P(T),p=d.d=[],c=0;A[c]==(j[c]||0);)++c;if(A[c]>(j[c]||0)&&--l,a==null?y=a=P.precision:o?y=a+(lt(r)-lt(i))+1:y=a,y<0)return new P(0);if(y=y/De+2|0,c=0,$==1)for(u=0,A=A[0],y++;(c<O||u)&&y--;c++)x=u*_t+(j[c]||0),p[c]=x/A|0,u=x%A|0;else{for(u=_t/(A[0]+1)|0,u>1&&(A=t(A,u),j=t(j,u),$=A.length,O=j.length),_=$,m=j.slice(0,$),v=m.length;v<$;)m[v++]=0;k=A.slice(),k.unshift(0),w=A[0],A[1]>=_t/2&&++w;do u=0,s=e(A,m,$,v),s<0?(g=m[0],$!=v&&(g=g*_t+(m[1]||0)),u=g/w|0,u>1?(u>=_t&&(u=_t-1),f=t(A,u),h=f.length,v=m.length,s=e(f,m,h,v),s==1&&(u--,n(f,$<h?k:A,h))):(u==0&&(s=u=1),f=A.slice()),h=f.length,h<v&&f.unshift(0),n(m,f,v),s==-1&&(v=m.length,s=e(A,m,$,v),s<1&&(u++,n(m,$<v?k:A,v))),v=m.length):s===0&&(u++,m=[0]),p[c++]=u,s&&m[0]?m[v++]=j[_]||0:(m=[j[_]],v=1);while((_++<O||m[0]!==void 0)&&y--)}return p[0]||p.shift(),d.e=l,Ee(d,o?a+lt(d)+1:a)}}();function LT(t,e){var n,r,i,a,o,s,l=0,c=0,u=t.constructor,f=u.precision;if(lt(t)>16)throw Error(xx+lt(t));if(!t.s)return new u(Rn);for(Ze=!1,s=f,o=new u(.03125);t.abs().gte(.1);)t=t.times(o),c+=5;for(r=Math.log(Ba(2,c))/Math.LN10*2+5|0,s+=r,n=i=a=new u(Rn),u.precision=s;;){if(i=Ee(i.times(t),s),n=n.times(++l),o=a.plus(xi(i,n,s)),Vr(o.d).slice(0,s)===Vr(a.d).slice(0,s)){for(;c--;)a=Ee(a.times(a),s);return u.precision=f,e==null?(Ze=!0,Ee(a,f)):a}a=o}}function lt(t){for(var e=t.e*De,n=t.d[0];n>=10;n/=10)e++;return e}function S0(t,e,n){if(e>t.LN10.sd())throw Ze=!0,n&&(t.precision=n),Error(sr+"LN10 precision limit exceeded");return Ee(new t(t.LN10),e)}function Zi(t){for(var e="";t--;)e+="0";return e}function bu(t,e){var n,r,i,a,o,s,l,c,u,f=1,h=10,d=t,p=d.d,m=d.constructor,v=m.precision;if(d.s<1)throw Error(sr+(d.s?"NaN":"-Infinity"));if(d.eq(Rn))return new m(0);if(e==null?(Ze=!1,c=v):c=e,d.eq(10))return e==null&&(Ze=!0),S0(m,c);if(c+=h,m.precision=c,n=Vr(p),r=n.charAt(0),a=lt(d),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)d=d.times(t),n=Vr(d.d),r=n.charAt(0),f++;a=lt(d),r>1?(d=new m("0."+n),a++):d=new m(r+"."+n.slice(1))}else return l=S0(m,c+2,v).times(a+""),d=bu(new m(r+"."+n.slice(1)),c-h).plus(l),m.precision=v,e==null?(Ze=!0,Ee(d,v)):d;for(s=o=d=xi(d.minus(Rn),d.plus(Rn),c),u=Ee(d.times(d),c),i=3;;){if(o=Ee(o.times(u),c),l=s.plus(xi(o,new m(i),c)),Vr(l.d).slice(0,c)===Vr(s.d).slice(0,c))return s=s.times(2),a!==0&&(s=s.plus(S0(m,c+2,v).times(a+""))),s=xi(s,new m(f),c),m.precision=v,e==null?(Ze=!0,Ee(s,v)):s;s=l,i+=2}}function Z_(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Pl(n/De),t.d=[],r=(n+1)%De,n<0&&(r+=De),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=De;r<i;)t.d.push(+e.slice(r,r+=De));e=e.slice(r),r=De-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Ze&&(t.e>rp||t.e<-rp))throw Error(xx+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ee(t,e,n){var r,i,a,o,s,l,c,u,f=t.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=De,i=e,c=f[u=0];else{if(u=Math.ceil((r+1)/De),a=f.length,u>=a)return t;for(c=a=f[u],o=1;a>=10;a/=10)o++;r%=De,i=r-De+o}if(n!==void 0&&(a=Ba(10,o-i-1),s=c/a%10|0,l=e<0||f[u+1]!==void 0||c%a,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?c/Ba(10,o-i):0:f[u-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(a=lt(t),f.length=1,e=e-a-1,f[0]=Ba(10,(De-e%De)%De),t.e=Pl(-e/De)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=u,a=1,u--):(f.length=u+1,a=Ba(10,De-r),f[u]=i>0?(c/Ba(10,o-i)%Ba(10,i)|0)*a:0),l)for(;;)if(u==0){(f[0]+=a)==_t&&(f[0]=1,++t.e);break}else{if(f[u]+=a,f[u]!=_t)break;f[u--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(Ze&&(t.e>rp||t.e<-rp))throw Error(xx+lt(t));return t}function BT(t,e){var n,r,i,a,o,s,l,c,u,f,h=t.constructor,d=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Ze?Ee(e,d):e;if(l=t.d,f=e.d,r=e.e,c=t.e,l=l.slice(),o=c-r,o){for(u=o<0,u?(n=l,o=-o,s=f.length):(n=f,r=c,s=l.length),i=Math.max(Math.ceil(d/De),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,u=i<s,u&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){u=l[i]<f[i];break}o=0}for(u&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>o;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=_t-1;--l[a],l[i]+=_t}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Ze?Ee(e,d):e):new h(0)}function Oo(t,e,n){var r,i=lt(t),a=Vr(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Zi(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Zi(-i-1)+a,n&&(r=n-o)>0&&(a+=Zi(r))):i>=o?(a+=Zi(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Zi(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Zi(r))),t.s<0?"-"+a:a}function W_(t,e){if(t.length>e)return t.length=e,!0}function ZT(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(ao+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return Z_(o,a.toString())}else if(typeof a!="string")throw Error(ao+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,hH.test(a))Z_(o,a);else throw Error(ao+a)}if(i.prototype=ne,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=ZT,i.config=i.set=dH,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function dH(t){if(!t||typeof t!="object")throw Error(sr+"Object expected");var e,n,r,i=["precision",1,kl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Pl(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(ao+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ao+n+": "+r);return this}var wx=ZT(fH);Rn=new wx(1);const Ae=wx;function pH(t){return yH(t)||vH(t)||gH(t)||mH()}function mH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gH(t,e){if(t){if(typeof t=="string")return Ly(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ly(t,e)}}function vH(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function yH(t){if(Array.isArray(t))return Ly(t)}function Ly(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var OH=function(e){return e},WT={},XT=function(e){return e===WT},X_=function(e){return function n(){return arguments.length===0||arguments.length===1&&XT(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},bH=function t(e,n){return e===1?n:X_(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==WT}).length;return o>=e?n.apply(void 0,i):t(e-o,X_(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var u=i.map(function(f){return XT(f)?l.shift():f});return n.apply(void 0,pH(u).concat(l))}))})},tg=function(e){return bH(e.length,e)},By=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},xH=tg(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),wH=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return OH;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},Zy=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},FT=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(s,l){return s===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function SH(t){var e;return t===0?e=1:e=Math.floor(new Ae(t).abs().log(10).toNumber())+1,e}function _H(t,e,n){for(var r=new Ae(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var $H=tg(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),kH=tg(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),PH=tg(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const ng={rangeStep:_H,getDigitCount:SH,interpolateNumber:$H,uninterpolateNumber:kH,uninterpolateTruncation:PH};function Wy(t){return EH(t)||CH(t)||VT(t)||AH()}function AH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CH(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function EH(t){if(Array.isArray(t))return Xy(t)}function xu(t,e){return jH(t)||MH(t,e)||VT(t,e)||TH()}function TH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VT(t,e){if(t){if(typeof t=="string")return Xy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xy(t,e)}}function Xy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function MH(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function jH(t){if(Array.isArray(t))return t}function UT(t){var e=xu(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function qT(t,e,n){if(t.lte(0))return new Ae(0);var r=ng.getDigitCount(t.toNumber()),i=new Ae(10).pow(r),a=t.div(i),o=r!==1?.05:.1,s=new Ae(Math.ceil(a.div(o).toNumber())).add(n).mul(o),l=s.mul(i);return e?l:new Ae(Math.ceil(l))}function QH(t,e,n){var r=1,i=new Ae(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Ae(10).pow(ng.getDigitCount(t)-1),i=new Ae(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Ae(Math.floor(t)))}else t===0?i=new Ae(Math.floor((e-1)/2)):n||(i=new Ae(Math.floor(t)));var o=Math.floor((e-1)/2),s=wH(xH(function(l){return i.add(new Ae(l-o).mul(r)).toNumber()}),By);return s(0,e)}function YT(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Ae(0),tickMin:new Ae(0),tickMax:new Ae(0)};var a=qT(new Ae(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new Ae(0):(o=new Ae(t).add(e).div(2),o=o.sub(new Ae(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new Ae(e).sub(o).div(a).toNumber()),c=s+l+1;return c>n?YT(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,s=e>0?s:s+(n-c)),{step:a,tickMin:o.sub(new Ae(s).mul(a)),tickMax:o.add(new Ae(l).mul(a))})}function zH(t){var e=xu(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=UT([n,r]),l=xu(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var f=u===1/0?[c].concat(Wy(By(0,i-1).map(function(){return 1/0}))):[].concat(Wy(By(0,i-1).map(function(){return-1/0})),[u]);return n>r?Zy(f):f}if(c===u)return QH(c,i,a);var h=YT(c,u,o,a),d=h.step,p=h.tickMin,m=h.tickMax,v=ng.rangeStep(p,m.add(new Ae(.1).mul(d)),d);return n>r?Zy(v):v}function IH(t,e){var n=xu(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=UT([r,i]),s=xu(o,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var u=Math.max(e,2),f=qT(new Ae(c).sub(l).div(u-1),a,0),h=[].concat(Wy(ng.rangeStep(new Ae(l),new Ae(c).sub(new Ae(.99).mul(f)),f)),[c]);return r>i?Zy(h):h}var RH=FT(zH),DH=FT(IH),NH="Invariant failed";function bo(t,e){throw new Error(NH)}var LH=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ws(t){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ws(t)}function ip(){return ip=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ip.apply(this,arguments)}function BH(t,e){return FH(t)||XH(t,e)||WH(t,e)||ZH()}function ZH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WH(t,e){if(t){if(typeof t=="string")return F_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F_(t,e)}}function F_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function XH(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function FH(t){if(Array.isArray(t))return t}function VH(t,e){if(t==null)return{};var n=UH(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function UH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YH(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,KT(r.key),r)}}function GH(t,e,n){return e&&YH(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function HH(t,e,n){return e=ap(e),KH(t,GT()?Reflect.construct(e,n||[],ap(t).constructor):e.apply(t,n))}function KH(t,e){if(e&&(Ws(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JH(t)}function JH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GT=function(){return!!t})()}function ap(t){return ap=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ap(t)}function eK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fy(t,e)}function Fy(t,e){return Fy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Fy(t,e)}function HT(t,e,n){return e=KT(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KT(t){var e=tK(t,"string");return Ws(e)=="symbol"?e:e+""}function tK(t,e){if(Ws(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ws(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Al=function(t){function e(){return qH(this,e),HH(this,e,arguments)}return eK(e,t),GH(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,s=r.dataKey,l=r.data,c=r.dataPointFormatter,u=r.xAxis,f=r.yAxis,h=VH(r,LH),d=le(h,!1);this.props.direction==="x"&&u.type!=="number"&&bo();var p=l.map(function(m){var v=c(m,s),g=v.x,y=v.y,x=v.value,_=v.errorVal;if(!_)return null;var O=[],w,$;if(Array.isArray(_)){var k=BH(_,2);w=k[0],$=k[1]}else w=$=_;if(a==="vertical"){var P=u.scale,T=y+i,j=T+o,A=T-o,N=P(x-w),C=P(x+$);O.push({x1:C,y1:j,x2:C,y2:A}),O.push({x1:N,y1:T,x2:C,y2:T}),O.push({x1:N,y1:j,x2:N,y2:A})}else if(a==="horizontal"){var Q=f.scale,L=g+i,I=L-o,M=L+o,R=Q(x-w),B=Q(x+$);O.push({x1:I,y1:B,x2:M,y2:B}),O.push({x1:L,y1:R,x2:L,y2:B}),O.push({x1:I,y1:R,x2:M,y2:R})}return E.createElement(we,ip({className:"recharts-errorBar",key:"bar-".concat(O.map(function(F){return"".concat(F.x1,"-").concat(F.x2,"-").concat(F.y1,"-").concat(F.y2)}))},d),O.map(function(F){return E.createElement("line",ip({},F,{key:"line-".concat(F.x1,"-").concat(F.x2,"-").concat(F.y1,"-").concat(F.y2)}))}))});return E.createElement(we,{className:"recharts-errorBars"},p)}}])}(E.Component);HT(Al,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});HT(Al,"displayName","ErrorBar");function wu(t){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wu(t)}function V_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function za(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V_(Object(n),!0).forEach(function(r){nK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nK(t,e,n){return e=rK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rK(t){var e=iK(t,"string");return wu(e)=="symbol"?e:e+""}function iK(t,e){if(wu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JT=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=zn(n,ys);if(!o)return null;var s=ys.defaultProps,l=s!==void 0?za(za({},s),o.props):{},c;return o.props&&o.props.payload?c=o.props&&o.props.payload:a==="children"?c=(r||[]).reduce(function(u,f){var h=f.item,d=f.props,p=d.sectors||d.data||[];return u.concat(p.map(function(m){return{type:o.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):c=(r||[]).map(function(u){var f=u.item,h=f.type.defaultProps,d=h!==void 0?za(za({},h),f.props):{},p=d.dataKey,m=d.name,v=d.legendType,g=d.hide;return{inactive:g,dataKey:p,type:l.iconType||v||"square",color:Sx(f),value:m||p,payload:d}}),za(za(za({},l),ys.getWithHeight(o,i)),{},{payload:c,item:o})};function Su(t){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Su(t)}function U_(t){return lK(t)||sK(t)||oK(t)||aK()}function aK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oK(t,e){if(t){if(typeof t=="string")return Vy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vy(t,e)}}function sK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lK(t){if(Array.isArray(t))return Vy(t)}function Vy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function q_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function He(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q_(Object(n),!0).forEach(function(r){bs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bs(t,e,n){return e=cK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cK(t){var e=uK(t,"string");return Su(e)=="symbol"?e:e+""}function uK(t,e){if(Su(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bt(t,e,n){return oe(t)||oe(e)?n:Ot(e)?ir(t,e,n):ce(e)?e(t):n}function Mc(t,e,n,r){var i=sH(t,function(s){return bt(s,e)});if(n==="number"){var a=i.filter(function(s){return q(s)||parseFloat(s)});return a.length?[eg(a),Ki(a)]:[1/0,-1/0]}var o=r?i.filter(function(s){return!oe(s)}):i;return o.map(function(s){return Ot(s)||s instanceof Date?s:""})}var fK=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<s;c++){var u=c>0?i[c-1].coordinate:i[s-1].coordinate,f=i[c].coordinate,h=c>=s-1?i[0].coordinate:i[c+1].coordinate,d=void 0;if(wr(f-u)!==wr(h-f)){var p=[];if(wr(h-f)===wr(l[1]-l[0])){d=h;var m=f+l[1]-l[0];p[0]=Math.min(m,(m+u)/2),p[1]=Math.max(m,(m+u)/2)}else{d=u;var v=h+l[1]-l[0];p[0]=Math.min(f,(v+f)/2),p[1]=Math.max(f,(v+f)/2)}var g=[Math.min(f,(d+f)/2),Math.max(f,(d+f)/2)];if(e>g[0]&&e<=g[1]||e>=p[0]&&e<=p[1]){o=i[c].index;break}}else{var y=Math.min(u,h),x=Math.max(u,h);if(e>(y+f)/2&&e<=(x+f)/2){o=i[c].index;break}}}else for(var _=0;_<s;_++)if(_===0&&e<=(r[_].coordinate+r[_+1].coordinate)/2||_>0&&_<s-1&&e>(r[_].coordinate+r[_-1].coordinate)/2&&e<=(r[_].coordinate+r[_+1].coordinate)/2||_===s-1&&e>(r[_].coordinate+r[_-1].coordinate)/2){o=r[_].index;break}return o},Sx=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?He(He({},e.type.defaultProps),e.props):e.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},hK=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,c=s.length;l<c;l++)for(var u=a[s[l]].stackGroups,f=Object.keys(u),h=0,d=f.length;h<d;h++){var p=u[f[h]],m=p.items,v=p.cateAxisId,g=m.filter(function($){return Oi($.type).indexOf("Bar")>=0});if(g&&g.length){var y=g[0].type.defaultProps,x=y!==void 0?He(He({},y),g[0].props):g[0].props,_=x.barSize,O=x[v];o[O]||(o[O]=[]);var w=oe(_)?n:_;o[O].push({item:g[0],stackList:g.slice(1),barSize:oe(w)?void 0:vo(w,r,0)})}}return o},dK=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var c=vo(n,i,0,!0),u,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,d=i/l,p=o.reduce(function(_,O){return _+O.barSize||0},0);p+=(l-1)*c,p>=i&&(p-=(l-1)*c,c=0),p>=i&&d>0&&(h=!0,d*=.9,p=l*d);var m=(i-p)/2>>0,v={offset:m-c,size:0};u=o.reduce(function(_,O){var w={item:O.item,position:{offset:v.offset+v.size+c,size:h?d:O.barSize}},$=[].concat(U_(_),[w]);return v=$[$.length-1].position,O.stackList&&O.stackList.length&&O.stackList.forEach(function(k){$.push({item:k,position:v})}),$},f)}else{var g=vo(r,i,0,!0);i-2*g-(l-1)*c<=0&&(c=0);var y=(i-2*g-(l-1)*c)/l;y>1&&(y>>=0);var x=s===+s?Math.min(y,s):y;u=o.reduce(function(_,O,w){var $=[].concat(U_(_),[{item:O.item,position:{offset:g+(y+c)*w+(y-x)/2,size:x}}]);return O.stackList&&O.stackList.length&&O.stackList.forEach(function(k){$.push({item:k,position:$[$.length-1].position})}),$},f)}return u},pK=function(e,n,r,i){var a=r.children,o=r.width,s=r.margin,l=o-(s.left||0)-(s.right||0),c=JT({children:a,legendWidth:l});if(c){var u=i||{},f=u.width,h=u.height,d=c.align,p=c.verticalAlign,m=c.layout;if((m==="vertical"||m==="horizontal"&&p==="middle")&&d!=="center"&&q(e[d]))return He(He({},e),{},bs({},d,e[d]+(f||0)));if((m==="horizontal"||m==="vertical"&&d==="center")&&p!=="middle"&&q(e[p]))return He(He({},e),{},bs({},p,e[p]+(h||0)))}return e},mK=function(e,n,r){return oe(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},eM=function(e,n,r,i,a){var o=n.props.children,s=xn(o,Al).filter(function(c){return mK(i,a,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var f=bt(u,r);if(oe(f))return c;var h=Array.isArray(f)?[eg(f),Ki(f)]:[f,f],d=l.reduce(function(p,m){var v=bt(u,m,0),g=h[0]-Math.abs(Array.isArray(v)?v[0]:v),y=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(g,p[0]),Math.max(y,p[1])]},[1/0,-1/0]);return[Math.min(d[0],c[0]),Math.max(d[1],c[1])]},[1/0,-1/0])}return null},gK=function(e,n,r,i,a){var o=n.map(function(s){return eM(e,s,r,a,i)}).filter(function(s){return!oe(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},tM=function(e,n,r,i,a){var o=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&eM(e,l,c,i)||Mc(e,c,r,a)});if(r==="number")return o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,c){for(var u=0,f=c.length;u<f;u++)s[c[u]]||(s[c[u]]=!0,l.push(c[u]));return l},[])},nM=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},rM=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,o,s=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(o=!0),l.coordinate});return a||s.push(n),o||s.push(r),s},vi=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?wr(s[0]-s[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+c,value:f,offset:c}});return u.filter(function(f){return!xl(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+c,value:f,index:h,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,h){return{coordinate:i(f)+c,value:a?a[f]:f,index:h,offset:c}})},_0=new WeakMap,ih=function(e,n){if(typeof n!="function")return e;_0.has(e)||_0.set(e,new WeakMap);var r=_0.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},vK=function(e,n,r){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:mu(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:Jd(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Tc(),realScaleType:"point"}:a==="category"?{scale:mu(),realScaleType:"band"}:{scale:Jd(),realScaleType:"linear"};if(go(i)){var l="scale".concat(Lm(i));return{scale:(B_[l]||Tc)(),realScaleType:B_[l]?l:"point"}}return ce(i)?{scale:i}:{scale:Tc(),realScaleType:"point"}},Y_=1e-4,yK=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-Y_,o=Math.max(i[0],i[1])+Y_,s=e(n[0]),l=e(n[r-1]);(s<a||s>o||l<a||l>o)&&e.domain([n[0],n[r-1]])}},OK=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},bK=function(e,n){if(!n||n.length!==2||!q(n[0])||!q(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!q(e[0])||e[0]<r)&&(a[0]=r),(!q(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},xK=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0,s=0;s<n;++s){var l=xl(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1])}},wK=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var s=xl(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},SK={sign:xK,expand:DB,none:zs,silhouette:NB,wiggle:LB,positive:wK},_K=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),a=SK[r],o=RB().keys(i).value(function(s,l){return+bt(s,l,0)}).order(vy).offset(a);return o(e)},$K=function(e,n,r,i,a,o){if(!e)return null;var s=o?n.reverse():n,l={},c=s.reduce(function(f,h){var d,p=(d=h.type)!==null&&d!==void 0&&d.defaultProps?He(He({},h.type.defaultProps),h.props):h.props,m=p.stackId,v=p.hide;if(v)return f;var g=p[r],y=f[g]||{hasStack:!1,stackGroups:{}};if(Ot(m)){var x=y.stackGroups[m]||{numericAxisId:r,cateAxisId:i,items:[]};x.items.push(h),y.hasStack=!0,y.stackGroups[m]=x}else y.stackGroups[Co("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return He(He({},f),{},bs({},g,y))},l),u={};return Object.keys(c).reduce(function(f,h){var d=c[h];if(d.hasStack){var p={};d.stackGroups=Object.keys(d.stackGroups).reduce(function(m,v){var g=d.stackGroups[v];return He(He({},m),{},bs({},v,{numericAxisId:r,cateAxisId:i,items:g.items,stackedData:_K(e,g.items,a)}))},p)}return He(He({},f),{},bs({},h,d))},u)},kK=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=RH(c,a,s);return e.domain([eg(u),Ki(u)]),{niceTicks:u}}if(a&&i==="number"){var f=e.domain(),h=DH(f,a,s);return{niceTicks:h}}return null};function Xs(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!oe(i[e.dataKey])){var s=Ed(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=bt(i,oe(o)?e.dataKey:o);return oe(l)?null:e.scale(l)}var G_=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=bt(o,n.dataKey,n.domain[s]);return oe(l)?null:n.scale(l)-a/2+i},PK=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},AK=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?He(He({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Ot(a)){var o=n[a];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},CK=function(e){return e.reduce(function(n,r){return[eg(r.concat([n[0]]).filter(q)),Ki(r.concat([n[1]]).filter(q))]},[1/0,-1/0])},iM=function(e,n,r){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(c,u){var f=CK(u.slice(n,r+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},H_=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,K_=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Uy=function(e,n,r){if(ce(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(q(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(H_.test(e[0])){var a=+H_.exec(e[0])[1];i[0]=n[0]-a}else ce(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(q(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(K_.test(e[1])){var o=+K_.exec(e[1])[1];i[1]=n[1]+o}else ce(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},op=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=G1(n,function(f){return f.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var c=a[s],u=a[s-1];o=Math.min((c.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},J_=function(e,n,r){return!e||!e.length||yo(e,ir(r,"type.defaultProps.domain"))?n:e},aM=function(e,n){var r=e.type.defaultProps?He(He({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,o=r.unit,s=r.formatter,l=r.tooltipType,c=r.chartType,u=r.hide;return He(He({},le(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:Sx(e),value:bt(n,i),type:l,payload:n,chartType:c,hide:u})};function _u(t){"@babel/helpers - typeof";return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_u(t)}function e$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function t$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e$(Object(n),!0).forEach(function(r){EK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EK(t,e,n){return e=TK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TK(t){var e=MK(t,"string");return _u(e)=="symbol"?e:e+""}function MK(t,e){if(_u(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_u(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sp=Math.PI/180,jK=function(e){return e*180/Math.PI},Dt=function(e,n,r,i){return{x:e+Math.cos(-sp*i)*r,y:n+Math.sin(-sp*i)*r}},QK=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},zK=function(e,n){var r=e.x,i=e.y,a=n.cx,o=n.cy,s=QK({x:r,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(r-a)/s,c=Math.acos(l);return i>o&&(c=2*Math.PI-c),{radius:s,angle:jK(c),angleInRadian:c}},IK=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},RK=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},n$=function(e,n){var r=e.x,i=e.y,a=zK({x:r,y:i},n),o=a.radius,s=a.angle,l=n.innerRadius,c=n.outerRadius;if(o<l||o>c)return!1;if(o===0)return!0;var u=IK(n),f=u.startAngle,h=u.endAngle,d=s,p;if(f<=h){for(;d>h;)d-=360;for(;d<f;)d+=360;p=d>=f&&d<=h}else{for(;d>f;)d-=360;for(;d<h;)d+=360;p=d>=h&&d<=f}return p?t$(t$({},n),{},{radius:o,angle:RK(d,n)}):null};function $u(t){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$u(t)}var DK=["offset"];function NK(t){return WK(t)||ZK(t)||BK(t)||LK()}function LK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BK(t,e){if(t){if(typeof t=="string")return qy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qy(t,e)}}function ZK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function WK(t){if(Array.isArray(t))return qy(t)}function qy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function XK(t,e){if(t==null)return{};var n=FK(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function FK(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function r$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r$(Object(n),!0).forEach(function(r){VK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VK(t,e,n){return e=UK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UK(t){var e=qK(t,"string");return $u(e)=="symbol"?e:e+""}function qK(t,e){if($u(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($u(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ku(){return ku=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ku.apply(this,arguments)}var YK=function(e){var n=e.value,r=e.formatter,i=oe(e.children)?n:e.children;return ce(r)?r(i):i},GK=function(e,n){var r=wr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},HK=function(e,n,r){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,c=l.cx,u=l.cy,f=l.innerRadius,h=l.outerRadius,d=l.startAngle,p=l.endAngle,m=l.clockWise,v=(f+h)/2,g=GK(d,p),y=g>=0?1:-1,x,_;i==="insideStart"?(x=d+y*o,_=m):i==="insideEnd"?(x=p-y*o,_=!m):i==="end"&&(x=p+y*o,_=m),_=g<=0?_:!_;var O=Dt(c,u,v,x),w=Dt(c,u,v,x+(_?1:-1)*359),$="M".concat(O.x,",").concat(O.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(_?0:1,`,
    `).concat(w.x,",").concat(w.y),k=oe(e.id)?Co("recharts-radial-line-"):e.id;return E.createElement("text",ku({},r,{dominantBaseline:"central",className:me("recharts-radial-bar-label",s)}),E.createElement("defs",null,E.createElement("path",{id:k,d:$})),E.createElement("textPath",{xlinkHref:"#".concat(k)},n))},KK=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,o=a.cx,s=a.cy,l=a.innerRadius,c=a.outerRadius,u=a.startAngle,f=a.endAngle,h=(u+f)/2;if(i==="outside"){var d=Dt(o,s,c+r,h),p=d.x,m=d.y;return{x:p,y:m,textAnchor:p>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,g=Dt(o,s,v,h),y=g.x,x=g.y;return{x:y,y:x,textAnchor:"middle",verticalAnchor:"middle"}},JK=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,o=n,s=o.x,l=o.y,c=o.width,u=o.height,f=u>=0?1:-1,h=f*i,d=f>0?"end":"start",p=f>0?"start":"end",m=c>=0?1:-1,v=m*i,g=m>0?"end":"start",y=m>0?"start":"end";if(a==="top"){var x={x:s+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:d};return mt(mt({},x),r?{height:Math.max(l-r.y,0),width:c}:{})}if(a==="bottom"){var _={x:s+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:p};return mt(mt({},_),r?{height:Math.max(r.y+r.height-(l+u),0),width:c}:{})}if(a==="left"){var O={x:s-v,y:l+u/2,textAnchor:g,verticalAnchor:"middle"};return mt(mt({},O),r?{width:Math.max(O.x-r.x,0),height:u}:{})}if(a==="right"){var w={x:s+c+v,y:l+u/2,textAnchor:y,verticalAnchor:"middle"};return mt(mt({},w),r?{width:Math.max(r.x+r.width-w.x,0),height:u}:{})}var $=r?{width:c,height:u}:{};return a==="insideLeft"?mt({x:s+v,y:l+u/2,textAnchor:y,verticalAnchor:"middle"},$):a==="insideRight"?mt({x:s+c-v,y:l+u/2,textAnchor:g,verticalAnchor:"middle"},$):a==="insideTop"?mt({x:s+c/2,y:l+h,textAnchor:"middle",verticalAnchor:p},$):a==="insideBottom"?mt({x:s+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:d},$):a==="insideTopLeft"?mt({x:s+v,y:l+h,textAnchor:y,verticalAnchor:p},$):a==="insideTopRight"?mt({x:s+c-v,y:l+h,textAnchor:g,verticalAnchor:p},$):a==="insideBottomLeft"?mt({x:s+v,y:l+u-h,textAnchor:y,verticalAnchor:d},$):a==="insideBottomRight"?mt({x:s+c-v,y:l+u-h,textAnchor:g,verticalAnchor:d},$):vl(a)&&(q(a.x)||qa(a.x))&&(q(a.y)||qa(a.y))?mt({x:s+vo(a.x,c),y:l+vo(a.y,u),textAnchor:"end",verticalAnchor:"end"},$):mt({x:s+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},$)},eJ=function(e){return"cx"in e&&q(e.cx)};function qt(t){var e=t.offset,n=e===void 0?5:e,r=XK(t,DK),i=mt({offset:n},r),a=i.viewBox,o=i.position,s=i.value,l=i.children,c=i.content,u=i.className,f=u===void 0?"":u,h=i.textBreakAll;if(!a||oe(s)&&oe(l)&&!D.isValidElement(c)&&!ce(c))return null;if(D.isValidElement(c))return D.cloneElement(c,i);var d;if(ce(c)){if(d=D.createElement(c,i),D.isValidElement(d))return d}else d=YK(i);var p=eJ(a),m=le(i,!0);if(p&&(o==="insideStart"||o==="insideEnd"||o==="end"))return HK(i,d,m);var v=p?KK(i):JK(i);return E.createElement(Fd,ku({className:me("recharts-label",f)},m,v,{breakAll:h}),d)}qt.displayName="Label";var oM=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,f=e.x,h=e.y,d=e.top,p=e.left,m=e.width,v=e.height,g=e.clockWise,y=e.labelViewBox;if(y)return y;if(q(m)&&q(v)){if(q(f)&&q(h))return{x:f,y:h,width:m,height:v};if(q(d)&&q(p))return{x:d,y:p,width:m,height:v}}return q(f)&&q(h)?{x:f,y:h,width:0,height:0}:q(n)&&q(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:c||0,outerRadius:u||l||s||0,clockWise:g}:e.viewBox?e.viewBox:{}},tJ=function(e,n){return e?e===!0?E.createElement(qt,{key:"label-implicit",viewBox:n}):Ot(e)?E.createElement(qt,{key:"label-implicit",viewBox:n,value:e}):D.isValidElement(e)?e.type===qt?D.cloneElement(e,{key:"label-implicit",viewBox:n}):E.createElement(qt,{key:"label-implicit",content:e,viewBox:n}):ce(e)?E.createElement(qt,{key:"label-implicit",content:e,viewBox:n}):vl(e)?E.createElement(qt,ku({viewBox:n},e,{key:"label-implicit"})):null:null},nJ=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=oM(e),o=xn(i,qt).map(function(l,c){return D.cloneElement(l,{viewBox:n||a,key:"label-".concat(c)})});if(!r)return o;var s=tJ(e.label,n||a);return[s].concat(NK(o))};qt.parseViewBox=oM;qt.renderCallByParent=nJ;function rJ(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var iJ=rJ;const aJ=Me(iJ);function Pu(t){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pu(t)}var oJ=["valueAccessor"],sJ=["data","dataKey","clockWise","id","textBreakAll"];function lJ(t){return hJ(t)||fJ(t)||uJ(t)||cJ()}function cJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uJ(t,e){if(t){if(typeof t=="string")return Yy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yy(t,e)}}function fJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hJ(t){if(Array.isArray(t))return Yy(t)}function Yy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lp(){return lp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lp.apply(this,arguments)}function i$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function a$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i$(Object(n),!0).forEach(function(r){dJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dJ(t,e,n){return e=pJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pJ(t){var e=mJ(t,"string");return Pu(e)=="symbol"?e:e+""}function mJ(t,e){if(Pu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function o$(t,e){if(t==null)return{};var n=gJ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var vJ=function(e){return Array.isArray(e.value)?aJ(e.value):e.value};function ti(t){var e=t.valueAccessor,n=e===void 0?vJ:e,r=o$(t,oJ),i=r.data,a=r.dataKey,o=r.clockWise,s=r.id,l=r.textBreakAll,c=o$(r,sJ);return!i||!i.length?null:E.createElement(we,{className:"recharts-label-list"},i.map(function(u,f){var h=oe(a)?n(u,f):bt(u&&u.payload,a),d=oe(s)?{}:{id:"".concat(s,"-").concat(f)};return E.createElement(qt,lp({},le(u,!0),c,d,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:qt.parseViewBox(oe(o)?u:a$(a$({},u),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}ti.displayName="LabelList";function yJ(t,e){return t?t===!0?E.createElement(ti,{key:"labelList-implicit",data:e}):E.isValidElement(t)||ce(t)?E.createElement(ti,{key:"labelList-implicit",data:e,content:t}):vl(t)?E.createElement(ti,lp({data:e},t,{key:"labelList-implicit"})):null:null}function OJ(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=xn(r,ti).map(function(o,s){return D.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var a=yJ(t.label,e);return[a].concat(lJ(i))}ti.renderCallByParent=OJ;function Au(t){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Au(t)}function Gy(){return Gy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gy.apply(this,arguments)}function s$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function l$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s$(Object(n),!0).forEach(function(r){bJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bJ(t,e,n){return e=xJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xJ(t){var e=wJ(t,"string");return Au(e)=="symbol"?e:e+""}function wJ(t,e){if(Au(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SJ=function(e,n){var r=wr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},ah=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(s?1:-1)+i,f=Math.asin(l/u)/sp,h=c?a:a+o*f,d=Dt(n,r,u,h),p=Dt(n,r,i,h),m=c?a-o*f:a,v=Dt(n,r,u*Math.cos(f*sp),m);return{center:d,circleTangency:p,lineTangency:v,theta:f}},sM=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=SJ(o,s),c=o+l,u=Dt(n,r,a,o),f=Dt(n,r,a,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var d=Dt(n,r,i,o),p=Dt(n,r,i,c);h+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=c),`,
            `).concat(d.x,",").concat(d.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},_J=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,f=wr(u-c),h=ah({cx:n,cy:r,radius:a,angle:c,sign:f,cornerRadius:o,cornerIsExternal:l}),d=h.circleTangency,p=h.lineTangency,m=h.theta,v=ah({cx:n,cy:r,radius:a,angle:u,sign:-f,cornerRadius:o,cornerIsExternal:l}),g=v.circleTangency,y=v.lineTangency,x=v.theta,_=l?Math.abs(c-u):Math.abs(c-u)-m-x;if(_<0)return s?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):sM({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u});var O="M ".concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(d.x,",").concat(d.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(i>0){var w=ah({cx:n,cy:r,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),$=w.circleTangency,k=w.lineTangency,P=w.theta,T=ah({cx:n,cy:r,radius:i,angle:u,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),j=T.circleTangency,A=T.lineTangency,N=T.theta,C=l?Math.abs(c-u):Math.abs(c-u)-P-N;if(C<0&&o===0)return"".concat(O,"L").concat(n,",").concat(r,"Z");O+="L".concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(C>180),",").concat(+(f>0),",").concat($.x,",").concat($.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,"Z")}else O+="L".concat(n,",").concat(r,"Z");return O},$J={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},lM=function(e){var n=l$(l$({},$J),e),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,u=n.startAngle,f=n.endAngle,h=n.className;if(o<a||u===f)return null;var d=me("recharts-sector",h),p=o-a,m=vo(s,p,0,!0),v;return m>0&&Math.abs(u-f)<360?v=_J({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(m,p/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:f}):v=sM({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:u,endAngle:f}),E.createElement("path",Gy({},le(n,!0),{className:d,d:v,role:"img"}))};function Cu(t){"@babel/helpers - typeof";return Cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cu(t)}function Hy(){return Hy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hy.apply(this,arguments)}function c$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function u$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c$(Object(n),!0).forEach(function(r){kJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kJ(t,e,n){return e=PJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PJ(t){var e=AJ(t,"string");return Cu(e)=="symbol"?e:e+""}function AJ(t,e){if(Cu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var f$={curveBasisClosed:kB,curveBasisOpen:PB,curveBasis:$B,curveBumpX:fB,curveBumpY:hB,curveLinearClosed:AB,curveLinear:Zm,curveMonotoneX:CB,curveMonotoneY:EB,curveNatural:TB,curveStep:MB,curveStepAfter:QB,curveStepBefore:jB},oh=function(e){return e.x===+e.x&&e.y===+e.y},Gl=function(e){return e.x},Hl=function(e){return e.y},CJ=function(e,n){if(ce(e))return e;var r="curve".concat(Lm(e));return(r==="curveMonotone"||r==="curveBump")&&n?f$["".concat(r).concat(n==="vertical"?"Y":"X")]:f$[r]||Zm},EJ=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=CJ(r,s),f=c?a.filter(function(m){return oh(m)}):a,h;if(Array.isArray(o)){var d=c?o.filter(function(m){return oh(m)}):o,p=f.map(function(m,v){return u$(u$({},m),{},{base:d[v]})});return s==="vertical"?h=Gf().y(Hl).x1(Gl).x0(function(m){return m.base.x}):h=Gf().x(Gl).y1(Hl).y0(function(m){return m.base.y}),h.defined(oh).curve(u),h(p)}return s==="vertical"&&q(o)?h=Gf().y(Hl).x1(Gl).x0(o):q(o)?h=Gf().x(Gl).y1(Hl).y0(o):h=cE().x(Gl).y(Hl),h.defined(oh).curve(u),h(f)},oo=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?EJ(e):i;return D.createElement("path",Hy({},le(e,!1),Td(e),{className:me("recharts-curve",n),d:o,ref:a}))},cM={exports:{}},TJ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",MJ=TJ,jJ=MJ;function uM(){}function fM(){}fM.resetWarningCache=uM;var QJ=function(){function t(r,i,a,o,s,l){if(l!==jJ){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:fM,resetWarningCache:uM};return n.PropTypes=n,n};cM.exports=QJ();var zJ=cM.exports;const Se=Me(zJ),{getOwnPropertyNames:IJ,getOwnPropertySymbols:RJ}=Object,{hasOwnProperty:DJ}=Object.prototype;function $0(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function sh(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:a}=i,o=a.get(n),s=a.get(r);if(o&&s)return o===r&&s===n;a.set(n,r),a.set(r,n);const l=t(n,r,i);return a.delete(n),a.delete(r),l}}function NJ(t){return t!=null?t[Symbol.toStringTag]:void 0}function h$(t){return IJ(t).concat(RJ(t))}const LJ=Object.hasOwn||((t,e)=>DJ.call(t,e));function Mo(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const BJ="__v",ZJ="__o",WJ="_owner",{getOwnPropertyDescriptor:d$,keys:p$}=Object;function XJ(t,e){return t.byteLength===e.byteLength&&cp(new Uint8Array(t),new Uint8Array(e))}function FJ(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function VJ(t,e){return t.byteLength===e.byteLength&&cp(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function UJ(t,e){return Mo(t.getTime(),e.getTime())}function qJ(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function YJ(t,e){return t===e}function m$(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.entries();let o,s,l=0;for(;(o=a.next())&&!o.done;){const c=e.entries();let u=!1,f=0;for(;(s=c.next())&&!s.done;){if(i[f]){f++;continue}const h=o.value,d=s.value;if(n.equals(h[0],d[0],l,f,t,e,n)&&n.equals(h[1],d[1],h[0],d[0],t,e,n)){u=i[f]=!0;break}f++}if(!u)return!1;l++}return!0}const GJ=Mo;function HJ(t,e,n){const r=p$(t);let i=r.length;if(p$(e).length!==i)return!1;for(;i-- >0;)if(!hM(t,e,n,r[i]))return!1;return!0}function Kl(t,e,n){const r=h$(t);let i=r.length;if(h$(e).length!==i)return!1;let a,o,s;for(;i-- >0;)if(a=r[i],!hM(t,e,n,a)||(o=d$(t,a),s=d$(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function KJ(t,e){return Mo(t.valueOf(),e.valueOf())}function JJ(t,e){return t.source===e.source&&t.flags===e.flags}function g$(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.values();let o,s;for(;(o=a.next())&&!o.done;){const l=e.values();let c=!1,u=0;for(;(s=l.next())&&!s.done;){if(!i[u]&&n.equals(o.value,s.value,o.value,s.value,t,e,n)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function cp(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function eee(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function hM(t,e,n,r){return(r===WJ||r===ZJ||r===BJ)&&(t.$$typeof||e.$$typeof)?!0:LJ(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const tee="[object ArrayBuffer]",nee="[object Arguments]",ree="[object Boolean]",iee="[object DataView]",aee="[object Date]",oee="[object Error]",see="[object Map]",lee="[object Number]",cee="[object Object]",uee="[object RegExp]",fee="[object Set]",hee="[object String]",dee={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},pee="[object URL]",mee=Object.prototype.toString;function gee({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:o,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:c,areRegExpsEqual:u,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:d,unknownTagComparators:p}){return function(v,g,y){if(v===g)return!0;if(v==null||g==null)return!1;const x=typeof v;if(x!==typeof g)return!1;if(x!=="object")return x==="number"?s(v,g,y):x==="function"?a(v,g,y):!1;const _=v.constructor;if(_!==g.constructor)return!1;if(_===Object)return l(v,g,y);if(Array.isArray(v))return e(v,g,y);if(_===Date)return r(v,g,y);if(_===RegExp)return u(v,g,y);if(_===Map)return o(v,g,y);if(_===Set)return f(v,g,y);const O=mee.call(v);if(O===aee)return r(v,g,y);if(O===uee)return u(v,g,y);if(O===see)return o(v,g,y);if(O===fee)return f(v,g,y);if(O===cee)return typeof v.then!="function"&&typeof g.then!="function"&&l(v,g,y);if(O===pee)return d(v,g,y);if(O===oee)return i(v,g,y);if(O===nee)return l(v,g,y);if(dee[O])return h(v,g,y);if(O===tee)return t(v,g,y);if(O===iee)return n(v,g,y);if(O===ree||O===lee||O===hee)return c(v,g,y);if(p){let w=p[O];if(!w){const $=NJ(v);$&&(w=p[$])}if(w)return w(v,g,y)}return!1}}function vee({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:XJ,areArraysEqual:n?Kl:FJ,areDataViewsEqual:VJ,areDatesEqual:UJ,areErrorsEqual:qJ,areFunctionsEqual:YJ,areMapsEqual:n?$0(m$,Kl):m$,areNumbersEqual:GJ,areObjectsEqual:n?Kl:HJ,arePrimitiveWrappersEqual:KJ,areRegExpsEqual:JJ,areSetsEqual:n?$0(g$,Kl):g$,areTypedArraysEqual:n?$0(cp,Kl):cp,areUrlsEqual:eee,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=sh(r.areArraysEqual),a=sh(r.areMapsEqual),o=sh(r.areObjectsEqual),s=sh(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:s})}return r}function yee(t){return function(e,n,r,i,a,o,s){return t(e,n,s)}}function Oee({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(s,l){const{cache:c=t?new WeakMap:void 0,meta:u}=n();return e(s,l,{cache:c,equals:r,meta:u,strict:i})};if(t)return function(s,l){return e(s,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const a={cache:void 0,equals:r,meta:void 0,strict:i};return function(s,l){return e(s,l,a)}}const bee=Ea();Ea({strict:!0});Ea({circular:!0});Ea({circular:!0,strict:!0});Ea({createInternalComparator:()=>Mo});Ea({strict:!0,createInternalComparator:()=>Mo});Ea({circular:!0,createInternalComparator:()=>Mo});Ea({circular:!0,createInternalComparator:()=>Mo,strict:!0});function Ea(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,a=vee(t),o=gee(a),s=n?n(o):yee(o);return Oee({circular:e,comparator:o,createState:r,equals:s,strict:i})}function xee(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function v$(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):xee(i)};requestAnimationFrame(r)}function Ky(t){"@babel/helpers - typeof";return Ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ky(t)}function wee(t){return kee(t)||$ee(t)||_ee(t)||See()}function See(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ee(t,e){if(t){if(typeof t=="string")return y$(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y$(t,e)}}function y$(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $ee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kee(t){if(Array.isArray(t))return t}function Pee(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,s=wee(o),l=s[0],c=s.slice(1);if(typeof l=="number"){v$(i.bind(null,c),l);return}i(l),v$(i.bind(null,c));return}Ky(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Eu(t){"@babel/helpers - typeof";return Eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eu(t)}function O$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function b$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O$(Object(n),!0).forEach(function(r){dM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dM(t,e,n){return e=Aee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aee(t){var e=Cee(t,"string");return Eu(e)==="symbol"?e:String(e)}function Cee(t,e){if(Eu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Eu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Eee=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},Tee=function(e){return e},Mee=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},jc=function(e,n){return Object.keys(n).reduce(function(r,i){return b$(b$({},r),{},dM({},i,e(i,n[i])))},{})},x$=function(e,n,r){return e.map(function(i){return"".concat(Mee(i)," ").concat(n,"ms ").concat(r)}).join(",")};function jee(t,e){return Iee(t)||zee(t,e)||pM(t,e)||Qee()}function Qee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zee(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Iee(t){if(Array.isArray(t))return t}function Ree(t){return Lee(t)||Nee(t)||pM(t)||Dee()}function Dee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pM(t,e){if(t){if(typeof t=="string")return Jy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jy(t,e)}}function Nee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Lee(t){if(Array.isArray(t))return Jy(t)}function Jy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var up=1e-4,mM=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},gM=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},w$=function(e,n){return function(r){var i=mM(e,n);return gM(i,r)}},Bee=function(e,n){return function(r){var i=mM(e,n),a=[].concat(Ree(i.map(function(o,s){return o*s}).slice(1)),[0]);return gM(a,r)}},S$=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),u=jee(c,4);i=u[0],a=u[1],o=u[2],s=u[3]}}}var f=w$(i,o),h=w$(a,s),d=Bee(i,o),p=function(g){return g>1?1:g<0?0:g},m=function(g){for(var y=g>1?1:g,x=y,_=0;_<8;++_){var O=f(x)-y,w=d(x);if(Math.abs(O-y)<up||w<up)return h(x);x=p(x-O/w)}return h(x)};return m.isStepper=!1,m},Zee=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(u,f,h){var d=-(u-f)*r,p=h*a,m=h+(d-p)*s/1e3,v=h*s/1e3+u;return Math.abs(v-f)<up&&Math.abs(m)<up?[f,0]:[v,m]};return l.isStepper=!0,l.dt=s,l},Wee=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return S$(i);case"spring":return Zee();default:if(i.split("(")[0]==="cubic-bezier")return S$(i)}return typeof i=="function"?i:null};function Tu(t){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tu(t)}function _$(t){return Vee(t)||Fee(t)||vM(t)||Xee()}function Xee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vee(t){if(Array.isArray(t))return tO(t)}function $$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$$(Object(n),!0).forEach(function(r){eO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eO(t,e,n){return e=Uee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uee(t){var e=qee(t,"string");return Tu(e)==="symbol"?e:String(e)}function qee(t,e){if(Tu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yee(t,e){return Kee(t)||Hee(t,e)||vM(t,e)||Gee()}function Gee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vM(t,e){if(t){if(typeof t=="string")return tO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tO(t,e)}}function tO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hee(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Kee(t){if(Array.isArray(t))return t}var fp=function(e,n,r){return e+(n-e)*r},nO=function(e){var n=e.from,r=e.to;return n!==r},Jee=function t(e,n,r){var i=jc(function(a,o){if(nO(o)){var s=e(o.from,o.to,o.velocity),l=Yee(s,2),c=l[0],u=l[1];return Mt(Mt({},o),{},{from:c,velocity:u})}return o},n);return r<1?jc(function(a,o){return nO(o)?Mt(Mt({},o),{},{velocity:fp(o.velocity,i[a].velocity,r),from:fp(o.from,i[a].from,r)}):o},n):t(e,i,r-1)};const ete=function(t,e,n,r,i){var a=Eee(t,e),o=a.reduce(function(v,g){return Mt(Mt({},v),{},eO({},g,[t[g],e[g]]))},{}),s=a.reduce(function(v,g){return Mt(Mt({},v),{},eO({},g,{from:t[g],velocity:0,to:e[g]}))},{}),l=-1,c,u,f=function(){return null},h=function(){return jc(function(g,y){return y.from},s)},d=function(){return!Object.values(s).filter(nO).length},p=function(g){c||(c=g);var y=g-c,x=y/n.dt;s=Jee(n,s,x),i(Mt(Mt(Mt({},t),e),h())),c=g,d()||(l=requestAnimationFrame(f))},m=function(g){u||(u=g);var y=(g-u)/r,x=jc(function(O,w){return fp.apply(void 0,_$(w).concat([n(y)]))},o);if(i(Mt(Mt(Mt({},t),e),x)),y<1)l=requestAnimationFrame(f);else{var _=jc(function(O,w){return fp.apply(void 0,_$(w).concat([n(1)]))},o);i(Mt(Mt(Mt({},t),e),_))}};return f=n.isStepper?p:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Fs(t){"@babel/helpers - typeof";return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fs(t)}var tte=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function nte(t,e){if(t==null)return{};var n=rte(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rte(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function k0(t){return ste(t)||ote(t)||ate(t)||ite()}function ite(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ate(t,e){if(t){if(typeof t=="string")return rO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rO(t,e)}}function ote(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ste(t){if(Array.isArray(t))return rO(t)}function rO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function k$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k$(Object(n),!0).forEach(function(r){mc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mc(t,e,n){return e=yM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cte(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yM(r.key),r)}}function ute(t,e,n){return e&&cte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yM(t){var e=fte(t,"string");return Fs(e)==="symbol"?e:String(e)}function fte(t,e){if(Fs(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fs(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iO(t,e)}function iO(t,e){return iO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iO(t,e)}function dte(t){var e=pte();return function(){var r=hp(t),i;if(e){var a=hp(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return aO(this,i)}}function aO(t,e){if(e&&(Fs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oO(t)}function oO(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pte(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function hp(t){return hp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hp(t)}var Cr=function(t){hte(n,t);var e=dte(n);function n(r,i){var a;lte(this,n),a=e.call(this,r,i);var o=a.props,s=o.isActive,l=o.attributeName,c=o.from,u=o.to,f=o.steps,h=o.children,d=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(oO(a)),a.changeStyle=a.changeStyle.bind(oO(a)),!s||d<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:u}),aO(a);if(f&&f.length)a.state={style:f[0].style};else if(c){if(typeof h=="function")return a.state={style:c},aO(a);a.state={style:l?mc({},l,c):c}}else a.state={style:{}};return a}return ute(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,u=a.to,f=a.from,h=this.state.style;if(s){if(!o){var d={style:l?mc({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(d);return}if(!(bee(i.to,u)&&i.canBegin&&i.isActive)){var p=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=p||c?f:i.to;if(this.state&&h){var v={style:l?mc({},l,m):m};(l&&h[l]!==m||!l&&h!==m)&&this.setState(v)}this.runAnimation(dr(dr({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,c=i.easing,u=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,d=ete(o,s,Wee(c),l,this.changeStyle),p=function(){a.stopJSAnimation=d()};this.manager.start([h,u,p,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,c=o[0],u=c.style,f=c.duration,h=f===void 0?0:f,d=function(m,v,g){if(g===0)return m;var y=v.duration,x=v.easing,_=x===void 0?"ease":x,O=v.style,w=v.properties,$=v.onAnimationEnd,k=g>0?o[g-1]:v,P=w||Object.keys(O);if(typeof _=="function"||_==="spring")return[].concat(k0(m),[a.runJSAnimation.bind(a,{from:k.style,to:O,duration:y,easing:_}),y]);var T=x$(P,y,_),j=dr(dr(dr({},k.style),O),{},{transition:T});return[].concat(k0(m),[j,y,$]).filter(Tee)};return this.manager.start([l].concat(k0(o.reduce(d,[u,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Pee());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,d=i.children,p=this.manager;if(this.unSubscribe=p.subscribe(this.handleStyleChange),typeof c=="function"||typeof d=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var m=s?mc({},s,l):l,v=x$(Object.keys(m),o,c);p.start([u,a,dr(dr({},m),{},{transition:v}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=nte(i,tte),c=D.Children.count(a),u=this.state.style;if(typeof a=="function")return a(u);if(!s||c===0||o<=0)return a;var f=function(d){var p=d.props,m=p.style,v=m===void 0?{}:m,g=p.className,y=D.cloneElement(d,dr(dr({},l),{},{style:dr(dr({},v),u),className:g}));return y};return c===1?f(D.Children.only(a)):E.createElement("div",null,D.Children.map(a,function(h){return f(h)}))}}]),n}(D.PureComponent);Cr.displayName="Animate";Cr.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Cr.propTypes={from:Se.oneOfType([Se.object,Se.string]),to:Se.oneOfType([Se.object,Se.string]),attributeName:Se.string,duration:Se.number,begin:Se.number,easing:Se.oneOfType([Se.string,Se.func]),steps:Se.arrayOf(Se.shape({duration:Se.number.isRequired,style:Se.object.isRequired,easing:Se.oneOfType([Se.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Se.func]),properties:Se.arrayOf("string"),onAnimationEnd:Se.func})),children:Se.oneOfType([Se.node,Se.func]),isActive:Se.bool,canBegin:Se.bool,onAnimationEnd:Se.func,shouldReAnimate:Se.bool,onAnimationStart:Se.func,onAnimationReStart:Se.func};function Mu(t){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mu(t)}function dp(){return dp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dp.apply(this,arguments)}function mte(t,e){return Ote(t)||yte(t,e)||vte(t,e)||gte()}function gte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vte(t,e){if(t){if(typeof t=="string")return P$(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P$(t,e)}}function P$(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yte(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Ote(t){if(Array.isArray(t))return t}function A$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function C$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A$(Object(n),!0).forEach(function(r){bte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bte(t,e,n){return e=xte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xte(t){var e=wte(t,"string");return Mu(e)=="symbol"?e:e+""}function wte(t,e){if(Mu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var E$=function(e,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,u;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,d=4;h<d;h++)f[h]=a[h]>o?o:a[h];u="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+l*f[0],",").concat(n)),u+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+s*f[1])),u+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),u+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-s*f[3])),u+="Z"}else if(o>0&&a===+a&&a>0){var p=Math.min(o,a);u="M ".concat(e,",").concat(n+s*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+l*p,",").concat(n,`
            L `).concat(e+r-l*p,",").concat(n,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+r,",").concat(n+s*p,`
            L `).concat(e+r,",").concat(n+i-s*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+r-l*p,",").concat(n+i,`
            L `).concat(e+l*p,",").concat(n+i,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e,",").concat(n+i-s*p," Z")}else u="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return u},Ste=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,o=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(a,a+s),u=Math.max(a,a+s),f=Math.min(o,o+l),h=Math.max(o,o+l);return r>=c&&r<=u&&i>=f&&i<=h}return!1},_te={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_x=function(e){var n=C$(C$({},_te),e),r=D.useRef(),i=D.useState(-1),a=mte(i,2),o=a[0],s=a[1];D.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&s(_)}catch{}},[]);var l=n.x,c=n.y,u=n.width,f=n.height,h=n.radius,d=n.className,p=n.animationEasing,m=n.animationDuration,v=n.animationBegin,g=n.isAnimationActive,y=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var x=me("recharts-rectangle",d);return y?E.createElement(Cr,{canBegin:o>0,from:{width:u,height:f,x:l,y:c},to:{width:u,height:f,x:l,y:c},duration:m,animationEasing:p,isActive:y},function(_){var O=_.width,w=_.height,$=_.x,k=_.y;return E.createElement(Cr,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,isActive:g,easing:p},E.createElement("path",dp({},le(n,!0),{className:x,d:E$($,k,O,w,h),ref:r})))}):E.createElement("path",dp({},le(n,!0),{className:x,d:E$(l,c,u,f,h)}))};function sO(){return sO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sO.apply(this,arguments)}var rg=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,o=me("recharts-dot",a);return n===+n&&r===+r&&i===+i?D.createElement("circle",sO({},le(e,!1),Td(e),{className:o,cx:n,cy:r,r:i})):null};function ju(t){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ju(t)}var $te=["x","y","top","left","width","height","className"];function lO(){return lO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lO.apply(this,arguments)}function T$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kte(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T$(Object(n),!0).forEach(function(r){Pte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pte(t,e,n){return e=Ate(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ate(t){var e=Cte(t,"string");return ju(e)=="symbol"?e:e+""}function Cte(t,e){if(ju(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ete(t,e){if(t==null)return{};var n=Tte(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Tte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Mte=function(e,n,r,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},jte=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,c=l===void 0?0:l,u=e.width,f=u===void 0?0:u,h=e.height,d=h===void 0?0:h,p=e.className,m=Ete(e,$te),v=kte({x:r,y:a,top:s,left:c,width:f,height:d},m);return!q(r)||!q(a)||!q(f)||!q(d)||!q(s)||!q(c)?null:E.createElement("path",lO({},le(v,!0),{className:me("recharts-cross",p),d:Mte(r,a,f,d,s,c)}))},Qte=jE,zte=Qte(Object.getPrototypeOf,Object),Ite=zte,Rte=ji,Dte=Ite,Nte=Qi,Lte="[object Object]",Bte=Function.prototype,Zte=Object.prototype,OM=Bte.toString,Wte=Zte.hasOwnProperty,Xte=OM.call(Object);function Fte(t){if(!Nte(t)||Rte(t)!=Lte)return!1;var e=Dte(t);if(e===null)return!0;var n=Wte.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&OM.call(n)==Xte}var Vte=Fte;const Ute=Me(Vte);var qte=ji,Yte=Qi,Gte="[object Boolean]";function Hte(t){return t===!0||t===!1||Yte(t)&&qte(t)==Gte}var Kte=Hte;const Jte=Me(Kte);function Qu(t){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qu(t)}function pp(){return pp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pp.apply(this,arguments)}function ene(t,e){return ine(t)||rne(t,e)||nne(t,e)||tne()}function tne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nne(t,e){if(t){if(typeof t=="string")return M$(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M$(t,e)}}function M$(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function ine(t){if(Array.isArray(t))return t}function j$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j$(Object(n),!0).forEach(function(r){ane(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ane(t,e,n){return e=one(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function one(t){var e=sne(t,"string");return Qu(e)=="symbol"?e:e+""}function sne(t,e){if(Qu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var z$=function(e,n,r,i,a){var o=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-o/2,",").concat(n+a),s+="L ".concat(e+r-o/2-i,",").concat(n+a),s+="L ".concat(e,",").concat(n," Z"),s},lne={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cne=function(e){var n=Q$(Q$({},lne),e),r=D.useRef(),i=D.useState(-1),a=ene(i,2),o=a[0],s=a[1];D.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var x=r.current.getTotalLength();x&&s(x)}catch{}},[]);var l=n.x,c=n.y,u=n.upperWidth,f=n.lowerWidth,h=n.height,d=n.className,p=n.animationEasing,m=n.animationDuration,v=n.animationBegin,g=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||h!==+h||u===0&&f===0||h===0)return null;var y=me("recharts-trapezoid",d);return g?E.createElement(Cr,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:f,height:h,x:l,y:c},duration:m,animationEasing:p,isActive:g},function(x){var _=x.upperWidth,O=x.lowerWidth,w=x.height,$=x.x,k=x.y;return E.createElement(Cr,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,easing:p},E.createElement("path",pp({},le(n,!0),{className:y,d:z$($,k,_,O,w),ref:r})))}):E.createElement("g",null,E.createElement("path",pp({},le(n,!0),{className:y,d:z$(l,c,u,f,h)})))},une=["option","shapeType","propTransformer","activeClassName","isActive"];function zu(t){"@babel/helpers - typeof";return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zu(t)}function fne(t,e){if(t==null)return{};var n=hne(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function I$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I$(Object(n),!0).forEach(function(r){dne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dne(t,e,n){return e=pne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pne(t){var e=mne(t,"string");return zu(e)=="symbol"?e:e+""}function mne(t,e){if(zu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gne(t,e){return mp(mp({},e),t)}function vne(t,e){return t==="symbols"}function R$(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return E.createElement(_x,n);case"trapezoid":return E.createElement(cne,n);case"sector":return E.createElement(lM,n);case"symbols":if(vne(e))return E.createElement(Xm,n);break;default:return null}}function yne(t){return D.isValidElement(t)?t.props:t}function cO(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?gne:r,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,l=fne(t,une),c;if(D.isValidElement(e))c=D.cloneElement(e,mp(mp({},l),yne(e)));else if(ce(e))c=e(l);else if(Ute(e)&&!Jte(e)){var u=i(e,l);c=E.createElement(R$,{shapeType:n,elementProps:u})}else{var f=l;c=E.createElement(R$,{shapeType:n,elementProps:f})}return s?E.createElement(we,{className:o},c):c}function ig(t,e){return e!=null&&"trapezoids"in t.props}function ag(t,e){return e!=null&&"sectors"in t.props}function Iu(t,e){return e!=null&&"points"in t.props}function One(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function bne(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function xne(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function wne(t,e){var n;return ig(t,e)?n=One:ag(t,e)?n=bne:Iu(t,e)&&(n=xne),n}function Sne(t,e){var n;return ig(t,e)?n="trapezoids":ag(t,e)?n="sectors":Iu(t,e)&&(n="points"),n}function _ne(t,e){if(ig(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(ag(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Iu(t,e)?e.payload:{}}function $ne(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Sne(n,e),a=_ne(n,e),o=r.filter(function(l,c){var u=yo(a,l),f=n.props[i].filter(function(p){var m=wne(n,e);return m(p,e)}),h=n.props[i].indexOf(f[f.length-1]),d=c===h;return u&&d}),s=r.indexOf(o[o.length-1]);return s}var kne=Math.ceil,Pne=Math.max;function Ane(t,e,n,r){for(var i=-1,a=Pne(kne((e-t)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=t,t+=n;return o}var Cne=Ane,Ene=KE,D$=1/0,Tne=17976931348623157e292;function Mne(t){if(!t)return t===0?t:0;if(t=Ene(t),t===D$||t===-D$){var e=t<0?-1:1;return e*Tne}return t===t?t:0}var bM=Mne,jne=Cne,Qne=Um,P0=bM;function zne(t){return function(e,n,r){return r&&typeof r!="number"&&Qne(e,n,r)&&(n=r=void 0),e=P0(e),n===void 0?(n=e,e=0):n=P0(n),r=r===void 0?e<n?1:-1:P0(r),jne(e,n,r,t)}}var Ine=zne,Rne=Ine,Dne=Rne(),Nne=Dne;const gp=Me(Nne);function Ru(t){"@babel/helpers - typeof";return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ru(t)}function N$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function L$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N$(Object(n),!0).forEach(function(r){xM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xM(t,e,n){return e=Lne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lne(t){var e=Bne(t,"string");return Ru(e)=="symbol"?e:e+""}function Bne(t,e){if(Ru(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zne=["Webkit","Moz","O","ms"],Wne=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Zne.reduce(function(a,o){return L$(L$({},a),{},xM({},o+r,n))},{});return i[e]=n,i};function Vs(t){"@babel/helpers - typeof";return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vs(t)}function vp(){return vp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vp.apply(this,arguments)}function B$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function A0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B$(Object(n),!0).forEach(function(r){jn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SM(r.key),r)}}function Fne(t,e,n){return e&&Z$(t.prototype,e),n&&Z$(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vne(t,e,n){return e=yp(e),Une(t,wM()?Reflect.construct(e,n||[],yp(t).constructor):e.apply(t,n))}function Une(t,e){if(e&&(Vs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qne(t)}function qne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wM=function(){return!!t})()}function yp(t){return yp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yp(t)}function Yne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uO(t,e)}function uO(t,e){return uO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uO(t,e)}function jn(t,e,n){return e=SM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SM(t){var e=Gne(t,"string");return Vs(e)=="symbol"?e:e+""}function Gne(t,e){if(Vs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Hne=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=Tc().domain(gp(0,l)).range([a,a+o-s]),u=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:u}},W$=function(e){return e.changedTouches&&!!e.changedTouches.length},Us=function(t){function e(n){var r;return Xne(this,e),r=Vne(this,e,[n]),jn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),jn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),jn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),r.detachDragEndListener()}),jn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),jn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),jn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),jn(r,"handleSlideDragStart",function(i){var a=W$(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Yne(e,t),Fne(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,u=c.length-1,f=Math.min(i,a),h=Math.max(i,a),d=e.getIndexInRange(o,f),p=e.getIndexInRange(o,h);return{startIndex:d-d%l,endIndex:p===u?u:p-p%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=bt(a[r],s,r);return ce(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,c=l.x,u=l.width,f=l.travellerWidth,h=l.startIndex,d=l.endIndex,p=l.onChange,m=r.pageX-a;m>0?m=Math.min(m,c+u-f-s,c+u-f-o):m<0&&(m=Math.max(m,c-o,c-s));var v=this.getIndex({startX:o+m,endX:s+m});(v.startIndex!==h||v.endIndex!==d)&&p&&p(v),this.setState({startX:o+m,endX:s+m,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=W$(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,c=this.state[o],u=this.props,f=u.x,h=u.width,d=u.travellerWidth,p=u.onChange,m=u.gap,v=u.data,g={startX:this.state.startX,endX:this.state.endX},y=r.pageX-a;y>0?y=Math.min(y,f+h-d-c):y<0&&(y=Math.max(y,f-c)),g[o]=c+y;var x=this.getIndex(g),_=x.startIndex,O=x.endIndex,w=function(){var k=v.length-1;return o==="startX"&&(s>l?_%m===0:O%m===0)||s<l&&O===k||o==="endX"&&(s>l?O%m===0:_%m===0)||s>l&&O===k};this.setState(jn(jn({},o,c+y),"brushMoveStartX",r.pageX),function(){p&&w()&&p(x)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,c=o.endX,u=this.state[i],f=s.indexOf(u);if(f!==-1){var h=f+r;if(!(h===-1||h>=s.length)){var d=s[h];i==="startX"&&d>=c||i==="endX"&&d<=l||this.setState(jn({},i,d),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.fill,c=r.stroke;return E.createElement("rect",{stroke:c,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.data,c=r.children,u=r.padding,f=D.Children.only(c);return f?E.cloneElement(f,{x:i,y:a,width:o,height:s,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,s=this,l=this.props,c=l.y,u=l.travellerWidth,f=l.height,h=l.traveller,d=l.ariaLabel,p=l.data,m=l.startIndex,v=l.endIndex,g=Math.max(r,this.props.x),y=A0(A0({},le(this.props,!1)),{},{x:g,y:c,width:u,height:f}),x=d||"Min value: ".concat((a=p[m])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=p[v])===null||o===void 0?void 0:o.name);return E.createElement(we,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(O){["ArrowLeft","ArrowRight"].includes(O.key)&&(O.preventDefault(),O.stopPropagation(),s.handleTravellerMoveKeyboard(O.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,y))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,c=a.travellerWidth,u=Math.min(r,i)+c,f=Math.max(Math.abs(i-r)-c,0);return E.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:o,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,s=r.height,l=r.travellerWidth,c=r.stroke,u=this.state,f=u.startX,h=u.endX,d=5,p={pointerEvents:"none",fill:c};return E.createElement(we,{className:"recharts-brush-texts"},E.createElement(Fd,vp({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-d,y:o+s/2},p),this.getTextOfTick(i)),E.createElement(Fd,vp({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+d,y:o+s/2},p),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,s=r.x,l=r.y,c=r.width,u=r.height,f=r.alwaysShowText,h=this.state,d=h.startX,p=h.endX,m=h.isTextActive,v=h.isSlideMoving,g=h.isTravellerMoving,y=h.isTravellerFocused;if(!i||!i.length||!q(s)||!q(l)||!q(c)||!q(u)||c<=0||u<=0)return null;var x=me("recharts-brush",a),_=E.Children.count(o)===1,O=Wne("userSelect","none");return E.createElement(we,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:O},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(d,p),this.renderTravellerLayer(d,"startX"),this.renderTravellerLayer(p,"endX"),(m||v||g||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,s=r.height,l=r.stroke,c=Math.floor(a+s/2)-1;return E.createElement(E.Fragment,null,E.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),E.createElement("line",{x1:i+1,y1:c,x2:i+o-1,y2:c,fill:"none",stroke:"#fff"}),E.createElement("line",{x1:i+1,y1:c+2,x2:i+o-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return E.isValidElement(r)?a=E.cloneElement(r,i):ce(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,s=r.x,l=r.travellerWidth,c=r.updateId,u=r.startIndex,f=r.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return A0({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o},a&&a.length?Hne({data:a,width:o,x:s,travellerWidth:l,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var h=i.scale.domain().map(function(d){return i.scale(d)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);r[l]>i?s=l:o=l}return i>=r[s]?s:o}}])}(D.PureComponent);jn(Us,"displayName","Brush");jn(Us,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Kne=Y1;function Jne(t,e){var n;return Kne(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var ere=Jne,tre=$E,nre=ka,rre=ere,ire=$n,are=Um;function ore(t,e,n){var r=ire(t)?tre:rre;return n&&are(t,e,n)&&(e=void 0),r(t,nre(e))}var sre=ore;const lre=Me(sre);var ni=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},X$=UE;function cre(t,e,n){e=="__proto__"&&X$?X$(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var ure=cre,fre=ure,hre=FE,dre=ka;function pre(t,e){var n={};return e=dre(e),hre(t,function(r,i,a){fre(n,i,e(r,i,a))}),n}var mre=pre;const gre=Me(mre);function vre(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var yre=vre,Ore=Y1;function bre(t,e){var n=!0;return Ore(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var xre=bre,wre=yre,Sre=xre,_re=ka,$re=$n,kre=Um;function Pre(t,e,n){var r=$re(t)?wre:Sre;return n&&kre(t,e,n)&&(e=void 0),r(t,_re(e))}var Are=Pre;const _M=Me(Are);var Cre=["x","y"];function Du(t){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Du(t)}function fO(){return fO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fO.apply(this,arguments)}function F$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F$(Object(n),!0).forEach(function(r){Ere(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ere(t,e,n){return e=Tre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tre(t){var e=Mre(t,"string");return Du(e)=="symbol"?e:e+""}function Mre(t,e){if(Du(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jre(t,e){if(t==null)return{};var n=Qre(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function zre(t,e){var n=t.x,r=t.y,i=jre(t,Cre),a="".concat(n),o=parseInt(a,10),s="".concat(r),l=parseInt(s,10),c="".concat(e.height||i.height),u=parseInt(c,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Jl(Jl(Jl(Jl(Jl({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:h,name:e.name,radius:e.radius})}function V$(t){return E.createElement(cO,fO({shapeType:"rectangle",propTransformer:zre,activeClassName:"recharts-active-bar"},t))}var Ire=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=q(r)||GL(r);return a?e(r,i):(a||bo(),n)}},Rre=["value","background"],$M;function qs(t){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qs(t)}function Dre(t,e){if(t==null)return{};var n=Nre(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Nre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Op(){return Op=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Op.apply(this,arguments)}function U$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function it(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U$(Object(n),!0).forEach(function(r){Ji(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PM(r.key),r)}}function Bre(t,e,n){return e&&q$(t.prototype,e),n&&q$(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zre(t,e,n){return e=bp(e),Wre(t,kM()?Reflect.construct(e,n||[],bp(t).constructor):e.apply(t,n))}function Wre(t,e){if(e&&(qs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xre(t)}function Xre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kM=function(){return!!t})()}function bp(t){return bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bp(t)}function Fre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hO(t,e)}function hO(t,e){return hO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hO(t,e)}function Ji(t,e,n){return e=PM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PM(t){var e=Vre(t,"string");return qs(e)=="symbol"?e:e+""}function Vre(t,e){if(qs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cl=function(t){function e(){var n;Lre(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Zre(this,e,[].concat(i)),Ji(n,"state",{isAnimationFinished:!1}),Ji(n,"id",Co("recharts-bar-")),Ji(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Ji(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return Fre(e,t),Bre(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,c=a.activeBar,u=le(this.props,!1);return r&&r.map(function(f,h){var d=h===l,p=d?c:o,m=it(it(it({},u),f),{},{isActive:d,option:p,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return E.createElement(we,Op({className:"recharts-bar-rectangle"},su(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),E.createElement(V$,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,f=i.animationId,h=this.state.prevData;return E.createElement(Cr,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(d){var p=d.t,m=a.map(function(v,g){var y=h&&h[g];if(y){var x=tt(y.x,v.x),_=tt(y.y,v.y),O=tt(y.width,v.width),w=tt(y.height,v.height);return it(it({},v),{},{x:x(p),y:_(p),width:O(p),height:w(p)})}if(o==="horizontal"){var $=tt(0,v.height),k=$(p);return it(it({},v),{},{y:v.y+v.height-k,height:k})}var P=tt(0,v.width),T=P(p);return it(it({},v),{},{width:T})});return E.createElement(we,null,r.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!yo(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=le(this.props.background,!1);return a.map(function(c,u){c.value;var f=c.background,h=Dre(c,Rre);if(!f)return null;var d=it(it(it(it(it({},h),{},{fill:"#eee"},f),l),su(r.props,c,u)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return E.createElement(V$,Op({key:"background-bar-".concat(u),option:r.props.background,isActive:u===s},d))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,f=xn(u,Al);if(!f)return null;var h=c==="vertical"?o[0].height/2:o[0].width/2,d=function(v,g){var y=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:y,errorVal:bt(v,g)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return E.createElement(we,p,f.map(function(m){return E.cloneElement(m,{key:"error-bar-".concat(i,"-").concat(m.props.dataKey),data:o,xAxis:s,yAxis:l,layout:c,offset:h,dataPointFormatter:d})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,s=r.xAxis,l=r.yAxis,c=r.left,u=r.top,f=r.width,h=r.height,d=r.isAnimationActive,p=r.background,m=r.id;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,g=me("recharts-bar",o),y=s&&s.allowDataOverflow,x=l&&l.allowDataOverflow,_=y||x,O=oe(m)?this.id:m;return E.createElement(we,{className:g},y||x?E.createElement("defs",null,E.createElement("clipPath",{id:"clipPath-".concat(O)},E.createElement("rect",{x:y?c:c-f/2,y:x?u:u-h/2,width:y?f:f*2,height:x?h:h*2}))):null,E.createElement(we,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(O,")"):null},p?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,O),(!d||v)&&ti.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(D.PureComponent);$M=Cl;Ji(Cl,"displayName","Bar");Ji(Cl,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Pa.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ji(Cl,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,f=t.displayedData,h=t.offset,d=OK(r,n);if(!d)return null;var p=e.layout,m=n.type.defaultProps,v=m!==void 0?it(it({},m),n.props):n.props,g=v.dataKey,y=v.children,x=v.minPointSize,_=p==="horizontal"?o:a,O=c?_.scale.domain():null,w=PK({numericAxis:_}),$=xn(y,K1),k=f.map(function(P,T){var j,A,N,C,Q,L;c?j=bK(c[u+T],O):(j=bt(P,g),Array.isArray(j)||(j=[w,j]));var I=Ire(x,$M.defaultProps.minPointSize)(j[1],T);if(p==="horizontal"){var M,R=[o.scale(j[0]),o.scale(j[1])],B=R[0],F=R[1];A=G_({axis:a,ticks:s,bandSize:i,offset:d.offset,entry:P,index:T}),N=(M=F??B)!==null&&M!==void 0?M:void 0,C=d.size;var X=B-F;if(Q=Number.isNaN(X)?0:X,L={x:A,y:o.y,width:C,height:o.height},Math.abs(I)>0&&Math.abs(Q)<Math.abs(I)){var G=wr(Q||I)*(Math.abs(I)-Math.abs(Q));N-=G,Q+=G}}else{var ae=[a.scale(j[0]),a.scale(j[1])],ge=ae[0],ke=ae[1];if(A=ge,N=G_({axis:o,ticks:l,bandSize:i,offset:d.offset,entry:P,index:T}),C=ke-ge,Q=d.size,L={x:a.x,y:N,width:a.width,height:Q},Math.abs(I)>0&&Math.abs(C)<Math.abs(I)){var St=wr(C||I)*(Math.abs(I)-Math.abs(C));C+=St}}return it(it(it({},P),{},{x:A,y:N,width:C,height:Q,value:c?j:j[1],payload:P,background:L},$&&$[T]&&$[T].props),{},{tooltipPayload:[aM(n,P)],tooltipPosition:{x:A+C/2,y:N+Q/2}})});return it({data:k,layout:p},h)});function Nu(t){"@babel/helpers - typeof";return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nu(t)}function Ure(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AM(r.key),r)}}function qre(t,e,n){return e&&Y$(t.prototype,e),n&&Y$(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function G$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G$(Object(n),!0).forEach(function(r){og(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function og(t,e,n){return e=AM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AM(t){var e=Yre(t,"string");return Nu(e)=="symbol"?e:e+""}function Yre(t,e){if(Nu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gre=function(e,n,r,i,a){var o=e.width,s=e.height,l=e.layout,c=e.children,u=Object.keys(n),f={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!zn(c,Cl);return u.reduce(function(d,p){var m=n[p],v=m.orientation,g=m.domain,y=m.padding,x=y===void 0?{}:y,_=m.mirror,O=m.reversed,w="".concat(v).concat(_?"Mirror":""),$,k,P,T,j;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var A=g[1]-g[0],N=1/0,C=m.categoricalDomain.sort(e8);if(C.forEach(function(ae,ge){ge>0&&(N=Math.min((ae||0)-(C[ge-1]||0),N))}),Number.isFinite(N)){var Q=N/A,L=m.layout==="vertical"?r.height:r.width;if(m.padding==="gap"&&($=Q*L/2),m.padding==="no-gap"){var I=vo(e.barCategoryGap,Q*L),M=Q*L/2;$=M-I-(M-I)/L*I}}}i==="xAxis"?k=[r.left+(x.left||0)+($||0),r.left+r.width-(x.right||0)-($||0)]:i==="yAxis"?k=l==="horizontal"?[r.top+r.height-(x.bottom||0),r.top+(x.top||0)]:[r.top+(x.top||0)+($||0),r.top+r.height-(x.bottom||0)-($||0)]:k=m.range,O&&(k=[k[1],k[0]]);var R=vK(m,a,h),B=R.scale,F=R.realScaleType;B.domain(g).range(k),yK(B);var X=kK(B,vr(vr({},m),{},{realScaleType:F}));i==="xAxis"?(j=v==="top"&&!_||v==="bottom"&&_,P=r.left,T=f[w]-j*m.height):i==="yAxis"&&(j=v==="left"&&!_||v==="right"&&_,P=f[w]-j*m.width,T=r.top);var G=vr(vr(vr({},m),X),{},{realScaleType:F,x:P,y:T,scale:B,width:i==="xAxis"?r.width:m.width,height:i==="yAxis"?r.height:m.height});return G.bandSize=op(G,X),!m.hide&&i==="xAxis"?f[w]+=(j?-1:1)*G.height:m.hide||(f[w]+=(j?-1:1)*G.width),vr(vr({},d),{},og({},p,G))},{})},CM=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},Hre=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return CM({x:n,y:r},{x:i,y:a})},EM=function(){function t(e){Ure(this,t),this.scale=e}return qre(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();og(EM,"EPS",1e-4);var $x=function(e){var n=Object.keys(e).reduce(function(r,i){return vr(vr({},r),{},og({},i,EM.create(e[i])))},{});return vr(vr({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return gre(i,function(l,c){return n[c].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return _M(i,function(a,o){return n[o].isInRange(a)})}})};function Kre(t){return(t%180+180)%180}var Jre=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Kre(i),o=a*Math.PI/180,s=Math.atan(r/n),l=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},eie=ka,tie=pf,nie=Fm;function rie(t){return function(e,n,r){var i=Object(e);if(!tie(e)){var a=eie(n);e=nie(e),n=function(s){return a(i[s],s,i)}}var o=t(e,n,r);return o>-1?i[a?e[o]:o]:void 0}}var iie=rie,aie=bM;function oie(t){var e=aie(t),n=e%1;return e===e?n?e-n:e:0}var sie=oie,lie=NE,cie=ka,uie=sie,fie=Math.max;function hie(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:uie(n);return i<0&&(i=fie(r+i,0)),lie(t,cie(e),i)}var die=hie,pie=iie,mie=die,gie=pie(mie),vie=gie;const yie=Me(vie);var Oie=nL(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),kx=D.createContext(void 0),Px=D.createContext(void 0),TM=D.createContext(void 0),MM=D.createContext({}),jM=D.createContext(void 0),QM=D.createContext(0),zM=D.createContext(0),H$=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=e.clipPathId,s=e.children,l=e.width,c=e.height,u=Oie(a);return E.createElement(kx.Provider,{value:r},E.createElement(Px.Provider,{value:i},E.createElement(MM.Provider,{value:a},E.createElement(TM.Provider,{value:u},E.createElement(jM.Provider,{value:o},E.createElement(QM.Provider,{value:c},E.createElement(zM.Provider,{value:l},s)))))))},bie=function(){return D.useContext(jM)},IM=function(e){var n=D.useContext(kx);n==null&&bo();var r=n[e];return r==null&&bo(),r},xie=function(){var e=D.useContext(kx);return qi(e)},wie=function(){var e=D.useContext(Px),n=yie(e,function(r){return _M(r.domain,Number.isFinite)});return n||qi(e)},RM=function(e){var n=D.useContext(Px);n==null&&bo();var r=n[e];return r==null&&bo(),r},Sie=function(){var e=D.useContext(TM);return e},_ie=function(){return D.useContext(MM)},Ax=function(){return D.useContext(zM)},Cx=function(){return D.useContext(QM)};function Ys(t){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ys(t)}function $ie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,NM(r.key),r)}}function Pie(t,e,n){return e&&kie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Aie(t,e,n){return e=xp(e),Cie(t,DM()?Reflect.construct(e,n||[],xp(t).constructor):e.apply(t,n))}function Cie(t,e){if(e&&(Ys(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eie(t)}function Eie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DM=function(){return!!t})()}function xp(t){return xp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xp(t)}function Tie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dO(t,e)}function dO(t,e){return dO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dO(t,e)}function K$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function J$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K$(Object(n),!0).forEach(function(r){Ex(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ex(t,e,n){return e=NM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NM(t){var e=Mie(t,"string");return Ys(e)=="symbol"?e:e+""}function Mie(t,e){if(Ys(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ys(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function jie(t,e){return Rie(t)||Iie(t,e)||zie(t,e)||Qie()}function Qie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zie(t,e){if(t){if(typeof t=="string")return ek(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ek(t,e)}}function ek(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Iie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Rie(t){if(Array.isArray(t))return t}function pO(){return pO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pO.apply(this,arguments)}var Die=function(e,n){var r;return E.isValidElement(e)?r=E.cloneElement(e,n):ce(e)?r=e(n):r=E.createElement("line",pO({},n,{className:"recharts-reference-line-line"})),r},Nie=function(e,n,r,i,a,o,s,l,c){var u=a.x,f=a.y,h=a.width,d=a.height;if(r){var p=c.y,m=e.y.apply(p,{position:o});if(ni(c,"discard")&&!e.y.isInRange(m))return null;var v=[{x:u+h,y:m},{x:u,y:m}];return l==="left"?v.reverse():v}if(n){var g=c.x,y=e.x.apply(g,{position:o});if(ni(c,"discard")&&!e.x.isInRange(y))return null;var x=[{x:y,y:f+d},{x:y,y:f}];return s==="top"?x.reverse():x}if(i){var _=c.segment,O=_.map(function(w){return e.apply(w,{position:o})});return ni(c,"discard")&&lre(O,function(w){return!e.isInRange(w)})?null:O}return null};function Lie(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,c=bie(),u=IM(i),f=RM(a),h=Sie();if(!c||!h)return null;bi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=$x({x:u.scale,y:f.scale}),p=Ot(e),m=Ot(n),v=r&&r.length===2,g=Nie(d,p,m,v,h,t.position,u.orientation,f.orientation,t);if(!g)return null;var y=jie(g,2),x=y[0],_=x.x,O=x.y,w=y[1],$=w.x,k=w.y,P=ni(t,"hidden")?"url(#".concat(c,")"):void 0,T=J$(J$({clipPath:P},le(t,!0)),{},{x1:_,y1:O,x2:$,y2:k});return E.createElement(we,{className:me("recharts-reference-line",s)},Die(o,T),qt.renderCallByParent(t,Hre({x1:_,y1:O,x2:$,y2:k})))}var Tx=function(t){function e(){return $ie(this,e),Aie(this,e,arguments)}return Tie(e,t),Pie(e,[{key:"render",value:function(){return E.createElement(Lie,this.props)}}])}(E.Component);Ex(Tx,"displayName","ReferenceLine");Ex(Tx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function mO(){return mO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mO.apply(this,arguments)}function Gs(t){"@babel/helpers - typeof";return Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gs(t)}function tk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tk(Object(n),!0).forEach(function(r){sg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BM(r.key),r)}}function Wie(t,e,n){return e&&Zie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xie(t,e,n){return e=wp(e),Fie(t,LM()?Reflect.construct(e,n||[],wp(t).constructor):e.apply(t,n))}function Fie(t,e){if(e&&(Gs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vie(t)}function Vie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LM=function(){return!!t})()}function wp(t){return wp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wp(t)}function Uie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gO(t,e)}function gO(t,e){return gO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gO(t,e)}function sg(t,e,n){return e=BM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BM(t){var e=qie(t,"string");return Gs(e)=="symbol"?e:e+""}function qie(t,e){if(Gs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Yie=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,o=$x({x:i.scale,y:a.scale}),s=o.apply({x:n,y:r},{bandAware:!0});return ni(e,"discard")&&!o.isInRange(s)?null:s},lg=function(t){function e(){return Bie(this,e),Xie(this,e,arguments)}return Uie(e,t),Wie(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,s=r.alwaysShow,l=r.clipPathId,c=Ot(i),u=Ot(a);if(bi(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var f=Yie(this.props);if(!f)return null;var h=f.x,d=f.y,p=this.props,m=p.shape,v=p.className,g=ni(this.props,"hidden")?"url(#".concat(l,")"):void 0,y=nk(nk({clipPath:g},le(this.props,!0)),{},{cx:h,cy:d});return E.createElement(we,{className:me("recharts-reference-dot",v)},e.renderDot(m,y),qt.renderCallByParent(this.props,{x:h-o,y:d-o,width:2*o,height:2*o}))}}])}(E.Component);sg(lg,"displayName","ReferenceDot");sg(lg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});sg(lg,"renderDot",function(t,e){var n;return E.isValidElement(t)?n=E.cloneElement(t,e):ce(t)?n=t(e):n=E.createElement(rg,mO({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function vO(){return vO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vO.apply(this,arguments)}function Hs(t){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hs(t)}function rk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ik(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rk(Object(n),!0).forEach(function(r){cg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,WM(r.key),r)}}function Kie(t,e,n){return e&&Hie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jie(t,e,n){return e=Sp(e),eae(t,ZM()?Reflect.construct(e,n||[],Sp(t).constructor):e.apply(t,n))}function eae(t,e){if(e&&(Hs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tae(t)}function tae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZM=function(){return!!t})()}function Sp(t){return Sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sp(t)}function nae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yO(t,e)}function yO(t,e){return yO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yO(t,e)}function cg(t,e,n){return e=WM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WM(t){var e=rae(t,"string");return Hs(e)=="symbol"?e:e+""}function rae(t,e){if(Hs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var iae=function(e,n,r,i,a){var o=a.x1,s=a.x2,l=a.y1,c=a.y2,u=a.xAxis,f=a.yAxis;if(!u||!f)return null;var h=$x({x:u.scale,y:f.scale}),d={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},p={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return ni(a,"discard")&&(!h.isInRange(d)||!h.isInRange(p))?null:CM(d,p)},ug=function(t){function e(){return Gie(this,e),Jie(this,e,arguments)}return nae(e,t),Kie(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,s=r.y2,l=r.className,c=r.alwaysShow,u=r.clipPathId;bi(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Ot(i),h=Ot(a),d=Ot(o),p=Ot(s),m=this.props.shape;if(!f&&!h&&!d&&!p&&!m)return null;var v=iae(f,h,d,p,this.props);if(!v&&!m)return null;var g=ni(this.props,"hidden")?"url(#".concat(u,")"):void 0;return E.createElement(we,{className:me("recharts-reference-area",l)},e.renderRect(m,ik(ik({clipPath:g},le(this.props,!0)),v)),qt.renderCallByParent(this.props,v))}}])}(E.Component);cg(ug,"displayName","ReferenceArea");cg(ug,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});cg(ug,"renderRect",function(t,e){var n;return E.isValidElement(t)?n=E.cloneElement(t,e):ce(t)?n=t(e):n=E.createElement(_x,vO({},e,{className:"recharts-reference-area-rect"})),n});function XM(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function aae(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Jre(r,n)}function oae(t,e,n){var r=n==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function _p(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function sae(t,e){return XM(t,e+1)}function lae(t,e,n,r,i){for(var a=(r||[]).slice(),o=e.start,s=e.end,l=0,c=1,u=o,f=function(){var p=r==null?void 0:r[l];if(p===void 0)return{v:XM(r,c)};var m=l,v,g=function(){return v===void 0&&(v=n(p,m)),v},y=p.coordinate,x=l===0||_p(t,y,g,u,s);x||(l=0,u=o,c+=1),x&&(u=y+t*(g()/2+i),l+=c)},h;c<=a.length;)if(h=f(),h)return h.v;return[]}function Lu(t){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lu(t)}function ak(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ft(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ak(Object(n),!0).forEach(function(r){cae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ak(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cae(t,e,n){return e=uae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uae(t){var e=fae(t,"string");return Lu(e)=="symbol"?e:e+""}function fae(t,e){if(Lu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hae(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,s=e.start,l=e.end,c=function(h){var d=a[h],p,m=function(){return p===void 0&&(p=n(d,h)),p};if(h===o-1){var v=t*(d.coordinate+t*m()/2-l);a[h]=d=Ft(Ft({},d),{},{tickCoord:v>0?d.coordinate-v*t:d.coordinate})}else a[h]=d=Ft(Ft({},d),{},{tickCoord:d.coordinate});var g=_p(t,d.tickCoord,m,s,l);g&&(l=d.tickCoord-t*(m()/2+i),a[h]=Ft(Ft({},d),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return a}function dae(t,e,n,r,i,a){var o=(r||[]).slice(),s=o.length,l=e.start,c=e.end;if(a){var u=r[s-1],f=n(u,s-1),h=t*(u.coordinate+t*f/2-c);o[s-1]=u=Ft(Ft({},u),{},{tickCoord:h>0?u.coordinate-h*t:u.coordinate});var d=_p(t,u.tickCoord,function(){return f},l,c);d&&(c=u.tickCoord-t*(f/2+i),o[s-1]=Ft(Ft({},u),{},{isShow:!0}))}for(var p=a?s-1:s,m=function(y){var x=o[y],_,O=function(){return _===void 0&&(_=n(x,y)),_};if(y===0){var w=t*(x.coordinate-t*O()/2-l);o[y]=x=Ft(Ft({},x),{},{tickCoord:w<0?x.coordinate-w*t:x.coordinate})}else o[y]=x=Ft(Ft({},x),{},{tickCoord:x.coordinate});var $=_p(t,x.tickCoord,O,l,c);$&&(l=x.tickCoord+t*(O()/2+i),o[y]=Ft(Ft({},x),{},{isShow:!0}))},v=0;v<p;v++)m(v);return o}function Mx(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(q(l)||Pa.isSsr)return sae(i,typeof l=="number"&&q(l)?l:0);var h=[],d=s==="top"||s==="bottom"?"width":"height",p=u&&d==="width"?Ec(u,{fontSize:e,letterSpacing:n}):{width:0,height:0},m=function(x,_){var O=ce(c)?c(x.value,_):x.value;return d==="width"?aae(Ec(O,{fontSize:e,letterSpacing:n}),p,f):Ec(O,{fontSize:e,letterSpacing:n})[d]},v=i.length>=2?wr(i[1].coordinate-i[0].coordinate):1,g=oae(a,v,d);return l==="equidistantPreserveStart"?lae(v,g,m,i,o):(l==="preserveStart"||l==="preserveStartEnd"?h=dae(v,g,m,i,o,l==="preserveStartEnd"):h=hae(v,g,m,i,o),h.filter(function(y){return y.isShow}))}var pae=["viewBox"],mae=["viewBox"],gae=["ticks"];function Ks(t){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ks(t)}function is(){return is=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},is.apply(this,arguments)}function ok(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ok(Object(n),!0).forEach(function(r){jx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ok(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function C0(t,e){if(t==null)return{};var n=vae(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function yae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VM(r.key),r)}}function Oae(t,e,n){return e&&sk(t.prototype,e),n&&sk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bae(t,e,n){return e=$p(e),xae(t,FM()?Reflect.construct(e,n||[],$p(t).constructor):e.apply(t,n))}function xae(t,e){if(e&&(Ks(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wae(t)}function wae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FM=function(){return!!t})()}function $p(t){return $p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$p(t)}function Sae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OO(t,e)}function OO(t,e){return OO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},OO(t,e)}function jx(t,e,n){return e=VM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VM(t){var e=_ae(t,"string");return Ks(e)=="symbol"?e:e+""}function _ae(t,e){if(Ks(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ks(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var El=function(t){function e(n){var r;return yae(this,e),r=bae(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Sae(e,t),Oae(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=C0(r,pae),s=this.props,l=s.viewBox,c=C0(s,mae);return!vs(a,l)||!vs(o,c)||!vs(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,c=i.orientation,u=i.tickSize,f=i.mirror,h=i.tickMargin,d,p,m,v,g,y,x=f?-1:1,_=r.tickSize||u,O=q(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":d=p=r.coordinate,v=o+ +!f*l,m=v-x*_,y=m-x*h,g=O;break;case"left":m=v=r.coordinate,p=a+ +!f*s,d=p-x*_,g=d-x*h,y=O;break;case"right":m=v=r.coordinate,p=a+ +f*s,d=p+x*_,g=d+x*h,y=O;break;default:d=p=r.coordinate,v=o+ +f*l,m=v+x*_,y=m+x*h,g=O;break}return{line:{x1:d,y1:m,x2:p,y2:v},tick:{x:g,y}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.orientation,c=r.mirror,u=r.axisLine,f=dt(dt(dt({},le(this.props,!1)),le(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=dt(dt({},f),{},{x1:i,y1:a+h*s,x2:i+o,y2:a+h*s})}else{var d=+(l==="left"&&!c||l==="right"&&c);f=dt(dt({},f),{},{x1:i+d*o,y1:a,x2:i+d*o,y2:a+s})}return E.createElement("line",is({},f,{className:me("recharts-cartesian-axis-line",ir(u,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,s=this.props,l=s.tickLine,c=s.stroke,u=s.tick,f=s.tickFormatter,h=s.unit,d=Mx(dt(dt({},this.props),{},{ticks:r}),i,a),p=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),v=le(this.props,!1),g=le(u,!1),y=dt(dt({},v),{},{fill:"none"},le(l,!1)),x=d.map(function(_,O){var w=o.getTickLineCoord(_),$=w.line,k=w.tick,P=dt(dt(dt(dt({textAnchor:p,verticalAnchor:m},v),{},{stroke:"none",fill:c},g),k),{},{index:O,payload:_,visibleTicksCount:d.length,tickFormatter:f});return E.createElement(we,is({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},su(o.props,_,O)),l&&E.createElement("line",is({},y,$,{className:me("recharts-cartesian-axis-tick-line",ir(l,"className"))})),u&&e.renderTickItem(u,P,"".concat(ce(f)?f(_.value,O):_.value).concat(h||"")))});return E.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var f=this.props,h=f.ticks,d=C0(f,gae),p=h;return ce(l)&&(p=h&&h.length>0?l(this.props):l(d)),o<=0||s<=0||!p||!p.length?null:E.createElement(we,{className:me("recharts-cartesian-axis",c),ref:function(v){r.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(p,this.state.fontSize,this.state.letterSpacing),qt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o,s=me(i.className,"recharts-cartesian-axis-tick-value");return E.isValidElement(r)?o=E.cloneElement(r,dt(dt({},i),{},{className:s})):ce(r)?o=r(dt(dt({},i),{},{className:s})):o=E.createElement(Fd,is({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(D.Component);jx(El,"displayName","CartesianAxis");jx(El,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var $ae=["x1","y1","x2","y2","key"],kae=["offset"];function xo(t){"@babel/helpers - typeof";return xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xo(t)}function lk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lk(Object(n),!0).forEach(function(r){Pae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pae(t,e,n){return e=Aae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aae(t){var e=Cae(t,"string");return xo(e)=="symbol"?e:e+""}function Cae(t,e){if(xo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ha(){return Ha=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ha.apply(this,arguments)}function ck(t,e){if(t==null)return{};var n=Eae(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Eae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Tae=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,l=e.ry;return E.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function UM(t,e){var n;if(E.isValidElement(t))n=E.cloneElement(t,e);else if(ce(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,l=ck(e,$ae),c=le(l,!1);c.offset;var u=ck(c,kae);n=E.createElement("line",Ha({},u,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:s}))}return n}function Mae(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var c=Yt(Yt({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return UM(i,c)});return E.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function jae(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var c=Yt(Yt({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return UM(i,c)});return E.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Qae(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,d){return h-d});i!==u[0]&&u.unshift(0);var f=u.map(function(h,d){var p=!u[d+1],m=p?i+o-h:u[d+1]-h;if(m<=0)return null;var v=d%e.length;return E.createElement("rect",{key:"react-".concat(d),y:h,x:r,height:m,width:a,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return E.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function zae(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,l=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var u=c.map(function(h){return Math.round(h+a-a)}).sort(function(h,d){return h-d});a!==u[0]&&u.unshift(0);var f=u.map(function(h,d){var p=!u[d+1],m=p?a+s-h:u[d+1]-h;if(m<=0)return null;var v=d%r.length;return E.createElement("rect",{key:"react-".concat(d),x:h,y:o,width:m,height:l,stroke:"none",fill:r[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return E.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Iae=function(e,n){var r=e.xAxis,i=e.width,a=e.height,o=e.offset;return rM(Mx(Yt(Yt(Yt({},El.defaultProps),r),{},{ticks:vi(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},Rae=function(e,n){var r=e.yAxis,i=e.width,a=e.height,o=e.offset;return rM(Mx(Yt(Yt(Yt({},El.defaultProps),r),{},{ticks:vi(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},Ro={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Qx(t){var e,n,r,i,a,o,s=Ax(),l=Cx(),c=_ie(),u=Yt(Yt({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Ro.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Ro.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Ro.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Ro.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Ro.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Ro.verticalFill,x:q(t.x)?t.x:c.left,y:q(t.y)?t.y:c.top,width:q(t.width)?t.width:c.width,height:q(t.height)?t.height:c.height}),f=u.x,h=u.y,d=u.width,p=u.height,m=u.syncWithTicks,v=u.horizontalValues,g=u.verticalValues,y=xie(),x=wie();if(!q(d)||d<=0||!q(p)||p<=0||!q(f)||f!==+f||!q(h)||h!==+h)return null;var _=u.verticalCoordinatesGenerator||Iae,O=u.horizontalCoordinatesGenerator||Rae,w=u.horizontalPoints,$=u.verticalPoints;if((!w||!w.length)&&ce(O)){var k=v&&v.length,P=O({yAxis:x?Yt(Yt({},x),{},{ticks:k?v:x.ticks}):void 0,width:s,height:l,offset:c},k?!0:m);bi(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(xo(P),"]")),Array.isArray(P)&&(w=P)}if((!$||!$.length)&&ce(_)){var T=g&&g.length,j=_({xAxis:y?Yt(Yt({},y),{},{ticks:T?g:y.ticks}):void 0,width:s,height:l,offset:c},T?!0:m);bi(Array.isArray(j),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(xo(j),"]")),Array.isArray(j)&&($=j)}return E.createElement("g",{className:"recharts-cartesian-grid"},E.createElement(Tae,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),E.createElement(Mae,Ha({},u,{offset:c,horizontalPoints:w,xAxis:y,yAxis:x})),E.createElement(jae,Ha({},u,{offset:c,verticalPoints:$,xAxis:y,yAxis:x})),E.createElement(Qae,Ha({},u,{horizontalPoints:w})),E.createElement(zae,Ha({},u,{verticalPoints:$})))}Qx.displayName="CartesianGrid";var Dae=["type","layout","connectNulls","ref"],Nae=["key"];function Js(t){"@babel/helpers - typeof";return Js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Js(t)}function uk(t,e){if(t==null)return{};var n=Lae(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Lae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Qc(){return Qc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qc.apply(this,arguments)}function fk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fk(Object(n),!0).forEach(function(r){yr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Do(t){return Xae(t)||Wae(t)||Zae(t)||Bae()}function Bae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zae(t,e){if(t){if(typeof t=="string")return bO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bO(t,e)}}function Wae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xae(t){if(Array.isArray(t))return bO(t)}function bO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YM(r.key),r)}}function Vae(t,e,n){return e&&hk(t.prototype,e),n&&hk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uae(t,e,n){return e=kp(e),qae(t,qM()?Reflect.construct(e,n||[],kp(t).constructor):e.apply(t,n))}function qae(t,e){if(e&&(Js(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yae(t)}function Yae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qM=function(){return!!t})()}function kp(t){return kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kp(t)}function Gae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xO(t,e)}function xO(t,e){return xO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xO(t,e)}function yr(t,e,n){return e=YM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YM(t){var e=Hae(t,"string");return Js(e)=="symbol"?e:e+""}function Hae(t,e){if(Js(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Js(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Tl=function(t){function e(){var n;Fae(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Uae(this,e,[].concat(i)),yr(n,"state",{isAnimationFinished:!0,totalLength:0}),yr(n,"generateSimpleStrokeDasharray",function(o,s){return"".concat(s,"px ").concat(o-s,"px")}),yr(n,"getStrokeDasharray",function(o,s,l){var c=l.reduce(function(g,y){return g+y});if(!c)return n.generateSimpleStrokeDasharray(s,o);for(var u=Math.floor(o/c),f=o%c,h=s-o,d=[],p=0,m=0;p<l.length;m+=l[p],++p)if(m+l[p]>f){d=[].concat(Do(l.slice(0,p)),[f-m]);break}var v=d.length%2===0?[0,h]:[h];return[].concat(Do(e.repeat(l,u)),Do(d),v).map(function(g){return"".concat(g,"px")}).join(", ")}),yr(n,"id",Co("recharts-line-")),yr(n,"pathRef",function(o){n.mainCurve=o}),yr(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),yr(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Gae(e,t),Vae(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,s=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,f=xn(u,Al);if(!f)return null;var h=function(m,v){return{x:m.x,y:m.y,value:m.value,errorVal:bt(m.payload,v)}},d={clipPath:r?"url(#clipPath-".concat(i,")"):null};return E.createElement(we,d,f.map(function(p){return E.cloneElement(p,{key:"bar-".concat(p.props.dataKey),data:o,xAxis:s,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,c=s.points,u=s.dataKey,f=le(this.props,!1),h=le(l,!0),d=c.map(function(m,v){var g=Mn(Mn(Mn({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:m.x,cy:m.y,value:m.value,dataKey:u,payload:m.payload,points:c});return e.renderDotItem(l,g)}),p={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return E.createElement(we,Qc({className:"recharts-line-dots",key:"dots"},p),d)}},{key:"renderCurveStatically",value:function(r,i,a,o){var s=this.props,l=s.type,c=s.layout,u=s.connectNulls;s.ref;var f=uk(s,Dae),h=Mn(Mn(Mn({},le(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},o),{},{type:l,layout:c,connectNulls:u});return E.createElement(oo,Qc({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,o=this.props,s=o.points,l=o.strokeDasharray,c=o.isAnimationActive,u=o.animationBegin,f=o.animationDuration,h=o.animationEasing,d=o.animationId,p=o.animateNewValues,m=o.width,v=o.height,g=this.state,y=g.prevPoints,x=g.totalLength;return E.createElement(Cr,{begin:u,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var O=_.t;if(y){var w=y.length/s.length,$=s.map(function(A,N){var C=Math.floor(N*w);if(y[C]){var Q=y[C],L=tt(Q.x,A.x),I=tt(Q.y,A.y);return Mn(Mn({},A),{},{x:L(O),y:I(O)})}if(p){var M=tt(m*2,A.x),R=tt(v/2,A.y);return Mn(Mn({},A),{},{x:M(O),y:R(O)})}return Mn(Mn({},A),{},{x:A.x,y:A.y})});return a.renderCurveStatically($,r,i)}var k=tt(0,x),P=k(O),T;if(l){var j="".concat(l).split(/[,\s]+/gim).map(function(A){return parseFloat(A)});T=a.getStrokeDasharray(P,x,j)}else T=a.generateSimpleStrokeDasharray(x,P);return a.renderCurveStatically(s,r,i,{strokeDasharray:T})})}},{key:"renderCurve",value:function(r,i){var a=this.props,o=a.points,s=a.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return s&&o&&o.length&&(!c&&u>0||!yo(c,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,c=i.xAxis,u=i.yAxis,f=i.top,h=i.left,d=i.width,p=i.height,m=i.isAnimationActive,v=i.id;if(a||!s||!s.length)return null;var g=this.state.isAnimationFinished,y=s.length===1,x=me("recharts-line",l),_=c&&c.allowDataOverflow,O=u&&u.allowDataOverflow,w=_||O,$=oe(v)?this.id:v,k=(r=le(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},P=k.r,T=P===void 0?3:P,j=k.strokeWidth,A=j===void 0?2:j,N=G5(o)?o:{},C=N.clipDot,Q=C===void 0?!0:C,L=T*2+A;return E.createElement(we,{className:x},_||O?E.createElement("defs",null,E.createElement("clipPath",{id:"clipPath-".concat($)},E.createElement("rect",{x:_?h:h-d/2,y:O?f:f-p/2,width:_?d:d*2,height:O?p:p*2})),!Q&&E.createElement("clipPath",{id:"clipPath-dots-".concat($)},E.createElement("rect",{x:h-L/2,y:f-L/2,width:d+L,height:p+L}))):null,!y&&this.renderCurve(w,$),this.renderErrorBar(w,$),(y||o)&&this.renderDots(w,Q,$),(!m||g)&&ti.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(Do(r),[0]):r,o=[],s=0;s<i;++s)o=[].concat(Do(o),Do(a));return o}},{key:"renderDotItem",value:function(r,i){var a;if(E.isValidElement(r))a=E.cloneElement(r,i);else if(ce(r))a=r(i);else{var o=i.key,s=uk(i,Nae),l=me("recharts-line-dot",typeof r!="boolean"?r.className:"");a=E.createElement(rg,Qc({key:o},s,{className:l}))}return a}}])}(D.PureComponent);yr(Tl,"displayName","Line");yr(Tl,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Pa.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});yr(Tl,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,s=t.bandSize,l=t.displayedData,c=t.offset,u=e.layout,f=l.map(function(h,d){var p=bt(h,o);return u==="horizontal"?{x:Xs({axis:n,ticks:i,bandSize:s,entry:h,index:d}),y:oe(p)?null:r.scale(p),value:p,payload:h}:{x:oe(p)?null:n.scale(p),y:Xs({axis:r,ticks:a,bandSize:s,entry:h,index:d}),value:p,payload:h}});return Mn({points:f,layout:u},c)});var Kae=["layout","type","stroke","connectNulls","isRange","ref"],Jae=["key"],GM;function el(t){"@babel/helpers - typeof";return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},el(t)}function HM(t,e){if(t==null)return{};var n=eoe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eoe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ka(){return Ka=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ka.apply(this,arguments)}function dk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ni(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dk(Object(n),!0).forEach(function(r){Ur(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function toe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JM(r.key),r)}}function noe(t,e,n){return e&&pk(t.prototype,e),n&&pk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function roe(t,e,n){return e=Pp(e),ioe(t,KM()?Reflect.construct(e,n||[],Pp(t).constructor):e.apply(t,n))}function ioe(t,e){if(e&&(el(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aoe(t)}function aoe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KM=function(){return!!t})()}function Pp(t){return Pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pp(t)}function ooe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wO(t,e)}function wO(t,e){return wO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wO(t,e)}function Ur(t,e,n){return e=JM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JM(t){var e=soe(t,"string");return el(e)=="symbol"?e:e+""}function soe(t,e){if(el(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(el(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var It=function(t){function e(){var n;toe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=roe(this,e,[].concat(i)),Ur(n,"state",{isAnimationFinished:!0}),Ur(n,"id",Co("recharts-area-")),Ur(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ce(o)&&o()}),Ur(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ce(o)&&o()}),n}return ooe(e,t),noe(e,[{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(o&&!s)return null;var l=this.props,c=l.dot,u=l.points,f=l.dataKey,h=le(this.props,!1),d=le(c,!0),p=u.map(function(v,g){var y=Ni(Ni(Ni({key:"dot-".concat(g),r:3},h),d),{},{index:g,cx:v.x,cy:v.y,dataKey:f,value:v.value,payload:v.payload,points:u});return e.renderDotItem(c,y)}),m={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return E.createElement(we,Ka({className:"recharts-area-dots"},m),p)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,l=o[0].x,c=o[o.length-1].x,u=r*Math.abs(l-c),f=Ki(o.map(function(h){return h.y||0}));return q(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(Ki(a.map(function(h){return h.y||0})),f)),q(f)?E.createElement("rect",{x:l<c?l:l-u,y:0,width:u,height:Math.floor(f+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,l=o[0].y,c=o[o.length-1].y,u=r*Math.abs(l-c),f=Ki(o.map(function(h){return h.x||0}));return q(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(Ki(a.map(function(h){return h.x||0})),f)),q(f)?E.createElement("rect",{x:0,y:l<c?l:l-u,width:f+(s?parseInt("".concat(s),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,a,o){var s=this.props,l=s.layout,c=s.type,u=s.stroke,f=s.connectNulls,h=s.isRange;s.ref;var d=HM(s,Kae);return E.createElement(we,{clipPath:a?"url(#clipPath-".concat(o,")"):null},E.createElement(oo,Ka({},le(d,!0),{points:r,connectNulls:f,type:c,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),u!=="none"&&E.createElement(oo,Ka({},le(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:r})),u!=="none"&&h&&E.createElement(oo,Ka({},le(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var a=this,o=this.props,s=o.points,l=o.baseLine,c=o.isAnimationActive,u=o.animationBegin,f=o.animationDuration,h=o.animationEasing,d=o.animationId,p=this.state,m=p.prevPoints,v=p.prevBaseLine;return E.createElement(Cr,{begin:u,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"area-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var y=g.t;if(m){var x=m.length/s.length,_=s.map(function(k,P){var T=Math.floor(P*x);if(m[T]){var j=m[T],A=tt(j.x,k.x),N=tt(j.y,k.y);return Ni(Ni({},k),{},{x:A(y),y:N(y)})}return k}),O;if(q(l)&&typeof l=="number"){var w=tt(v,l);O=w(y)}else if(oe(l)||xl(l)){var $=tt(v,0);O=$(y)}else O=l.map(function(k,P){var T=Math.floor(P*x);if(v[T]){var j=v[T],A=tt(j.x,k.x),N=tt(j.y,k.y);return Ni(Ni({},k),{},{x:A(y),y:N(y)})}return k});return a.renderAreaStatically(_,O,r,i)}return E.createElement(we,null,E.createElement("defs",null,E.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(y))),E.createElement(we,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(s,l,r,i)))})}},{key:"renderArea",value:function(r,i){var a=this.props,o=a.points,s=a.baseLine,l=a.isAnimationActive,c=this.state,u=c.prevPoints,f=c.prevBaseLine,h=c.totalLength;return l&&o&&o.length&&(!u&&h>0||!yo(u,o)||!yo(f,s))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(o,s,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,c=i.top,u=i.left,f=i.xAxis,h=i.yAxis,d=i.width,p=i.height,m=i.isAnimationActive,v=i.id;if(a||!s||!s.length)return null;var g=this.state.isAnimationFinished,y=s.length===1,x=me("recharts-area",l),_=f&&f.allowDataOverflow,O=h&&h.allowDataOverflow,w=_||O,$=oe(v)?this.id:v,k=(r=le(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},P=k.r,T=P===void 0?3:P,j=k.strokeWidth,A=j===void 0?2:j,N=G5(o)?o:{},C=N.clipDot,Q=C===void 0?!0:C,L=T*2+A;return E.createElement(we,{className:x},_||O?E.createElement("defs",null,E.createElement("clipPath",{id:"clipPath-".concat($)},E.createElement("rect",{x:_?u:u-d/2,y:O?c:c-p/2,width:_?d:d*2,height:O?p:p*2})),!Q&&E.createElement("clipPath",{id:"clipPath-dots-".concat($)},E.createElement("rect",{x:u-L/2,y:c-L/2,width:d+L,height:p+L}))):null,y?null:this.renderArea(w,$),(o||y)&&this.renderDots(w,Q,$),(!m||g)&&ti.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(D.PureComponent);GM=It;Ur(It,"displayName","Area");Ur(It,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Pa.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Ur(It,"getBaseValue",function(t,e,n,r){var i=t.layout,a=t.baseValue,o=e.props.baseValue,s=o??a;if(q(s)&&typeof s=="number")return s;var l=i==="horizontal"?r:n,c=l.scale.domain();if(l.type==="number"){var u=Math.max(c[0],c[1]),f=Math.min(c[0],c[1]);return s==="dataMin"?f:s==="dataMax"||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return s==="dataMin"?c[0]:s==="dataMax"?c[1]:c[0]});Ur(It,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,a=t.xAxisTicks,o=t.yAxisTicks,s=t.bandSize,l=t.dataKey,c=t.stackedData,u=t.dataStartIndex,f=t.displayedData,h=t.offset,d=e.layout,p=c&&c.length,m=GM.getBaseValue(e,n,r,i),v=d==="horizontal",g=!1,y=f.map(function(_,O){var w;p?w=c[u+O]:(w=bt(_,l),Array.isArray(w)?g=!0:w=[m,w]);var $=w[1]==null||p&&bt(_,l)==null;return v?{x:Xs({axis:r,ticks:a,bandSize:s,entry:_,index:O}),y:$?null:i.scale(w[1]),value:w,payload:_}:{x:$?null:r.scale(w[1]),y:Xs({axis:i,ticks:o,bandSize:s,entry:_,index:O}),value:w,payload:_}}),x;return p||g?x=y.map(function(_){var O=Array.isArray(_.value)?_.value[0]:null;return v?{x:_.x,y:O!=null&&_.y!=null?i.scale(O):null}:{x:O!=null?r.scale(O):null,y:_.y}}):x=v?i.scale(m):r.scale(m),Ni({points:y,baseLine:x,layout:d,isRange:g},h)});Ur(It,"renderDotItem",function(t,e){var n;if(E.isValidElement(t))n=E.cloneElement(t,e);else if(ce(t))n=t(e);else{var r=me("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=HM(e,Jae);n=E.createElement(rg,Ka({},a,{key:i,className:r}))}return n});function tl(t){"@babel/helpers - typeof";return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tl(t)}function loe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function coe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nj(r.key),r)}}function uoe(t,e,n){return e&&coe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function foe(t,e,n){return e=Ap(e),hoe(t,ej()?Reflect.construct(e,n||[],Ap(t).constructor):e.apply(t,n))}function hoe(t,e){if(e&&(tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return doe(t)}function doe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ej(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ej=function(){return!!t})()}function Ap(t){return Ap=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ap(t)}function poe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SO(t,e)}function SO(t,e){return SO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},SO(t,e)}function tj(t,e,n){return e=nj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nj(t){var e=moe(t,"string");return tl(e)=="symbol"?e:e+""}function moe(t,e){if(tl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fg=function(t){function e(){return loe(this,e),foe(this,e,arguments)}return poe(e,t),uoe(e,[{key:"render",value:function(){return null}}])}(D.Component);tj(fg,"displayName","ZAxis");tj(fg,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var goe=["option","isActive"];function zc(){return zc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zc.apply(this,arguments)}function voe(t,e){if(t==null)return{};var n=yoe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yoe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ooe(t){var e=t.option,n=t.isActive,r=voe(t,goe);return typeof e=="string"?D.createElement(cO,zc({option:D.createElement(Xm,zc({type:e},r)),isActive:n,shapeType:"symbols"},r)):D.createElement(cO,zc({option:e,isActive:n,shapeType:"symbols"},r))}function nl(t){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nl(t)}function Ic(){return Ic=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ic.apply(this,arguments)}function mk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mk(Object(n),!0).forEach(function(r){ea(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function boe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ij(r.key),r)}}function xoe(t,e,n){return e&&gk(t.prototype,e),n&&gk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function woe(t,e,n){return e=Cp(e),Soe(t,rj()?Reflect.construct(e,n||[],Cp(t).constructor):e.apply(t,n))}function Soe(t,e){if(e&&(nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _oe(t)}function _oe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rj=function(){return!!t})()}function Cp(t){return Cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cp(t)}function $oe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_O(t,e)}function _O(t,e){return _O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_O(t,e)}function ea(t,e,n){return e=ij(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ij(t){var e=koe(t,"string");return nl(e)=="symbol"?e:e+""}function koe(t,e){if(nl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hg=function(t){function e(){var n;boe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=woe(this,e,[].concat(i)),ea(n,"state",{isAnimationFinished:!1}),ea(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0})}),ea(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1})}),ea(n,"id",Co("recharts-scatter-")),n}return $oe(e,t),xoe(e,[{key:"renderSymbolsStatically",value:function(r){var i=this,a=this.props,o=a.shape,s=a.activeShape,l=a.activeIndex,c=le(this.props,!1);return r.map(function(u,f){var h=l===f,d=h?s:o,p=qn(qn({},c),u);return E.createElement(we,Ic({className:"recharts-scatter-symbol",key:"symbol-".concat(u==null?void 0:u.cx,"-").concat(u==null?void 0:u.cy,"-").concat(u==null?void 0:u.size,"-").concat(f)},su(i.props,u,f),{role:"img"}),E.createElement(Ooe,Ic({option:d,isActive:h,key:"symbol-".concat(f)},p)))})}},{key:"renderSymbolsWithAnimation",value:function(){var r=this,i=this.props,a=i.points,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,c=i.animationEasing,u=i.animationId,f=this.state.prevPoints;return E.createElement(Cr,{begin:s,duration:l,isActive:o,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var d=h.t,p=a.map(function(m,v){var g=f&&f[v];if(g){var y=tt(g.cx,m.cx),x=tt(g.cy,m.cy),_=tt(g.size,m.size);return qn(qn({},m),{},{cx:y(d),cy:x(d),size:_(d)})}var O=tt(0,m.size);return qn(qn({},m),{},{size:O(d)})});return E.createElement(we,null,r.renderSymbolsStatically(p))})}},{key:"renderSymbols",value:function(){var r=this.props,i=r.points,a=r.isAnimationActive,o=this.state.prevPoints;return a&&i&&i.length&&(!o||!yo(o,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var i=this.props,a=i.points,o=i.xAxis,s=i.yAxis,l=i.children,c=xn(l,Al);return c?c.map(function(u,f){var h=u.props,d=h.direction,p=h.dataKey;return E.cloneElement(u,{key:"".concat(d,"-").concat(p,"-").concat(a[f]),data:a,xAxis:o,yAxis:s,layout:d==="x"?"vertical":"horizontal",dataPointFormatter:function(v,g){return{x:v.cx,y:v.cy,value:d==="x"?+v.node.x:+v.node.y,errorVal:bt(v,g)}}})}):null}},{key:"renderLine",value:function(){var r=this.props,i=r.points,a=r.line,o=r.lineType,s=r.lineJointType,l=le(this.props,!1),c=le(a,!1),u,f;if(o==="joint")u=i.map(function(x){return{x:x.cx,y:x.cy}});else if(o==="fitting"){var h=JL(i),d=h.xmin,p=h.xmax,m=h.a,v=h.b,g=function(_){return m*_+v};u=[{x:d,y:g(d)},{x:p,y:g(p)}]}var y=qn(qn(qn({},l),{},{fill:"none",stroke:l&&l.fill},c),{},{points:u});return E.isValidElement(a)?f=E.cloneElement(a,y):ce(a)?f=a(y):f=E.createElement(oo,Ic({},y,{type:s})),E.createElement(we,{className:"recharts-scatter-line",key:"recharts-scatter-line"},f)}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.points,o=r.line,s=r.className,l=r.xAxis,c=r.yAxis,u=r.left,f=r.top,h=r.width,d=r.height,p=r.id,m=r.isAnimationActive;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,g=me("recharts-scatter",s),y=l&&l.allowDataOverflow,x=c&&c.allowDataOverflow,_=y||x,O=oe(p)?this.id:p;return E.createElement(we,{className:g,clipPath:_?"url(#clipPath-".concat(O,")"):null},y||x?E.createElement("defs",null,E.createElement("clipPath",{id:"clipPath-".concat(O)},E.createElement("rect",{x:y?u:u-h/2,y:x?f:f-d/2,width:y?h:h*2,height:x?d:d*2}))):null,o&&this.renderLine(),this.renderErrorBar(),E.createElement(we,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!m||v)&&ti.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}}])}(D.PureComponent);ea(hg,"displayName","Scatter");ea(hg,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Pa.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});ea(hg,"getComposedData",function(t){var e=t.xAxis,n=t.yAxis,r=t.zAxis,i=t.item,a=t.displayedData,o=t.xAxisTicks,s=t.yAxisTicks,l=t.offset,c=i.props.tooltipType,u=xn(i.props.children,K1),f=oe(e.dataKey)?i.props.dataKey:e.dataKey,h=oe(n.dataKey)?i.props.dataKey:n.dataKey,d=r&&r.dataKey,p=r?r.range:fg.defaultProps.range,m=p&&p[0],v=e.scale.bandwidth?e.scale.bandwidth():0,g=n.scale.bandwidth?n.scale.bandwidth():0,y=a.map(function(x,_){var O=bt(x,f),w=bt(x,h),$=!oe(d)&&bt(x,d)||"-",k=[{name:oe(e.dataKey)?i.props.name:e.name||e.dataKey,unit:e.unit||"",value:O,payload:x,dataKey:f,type:c},{name:oe(n.dataKey)?i.props.name:n.name||n.dataKey,unit:n.unit||"",value:w,payload:x,dataKey:h,type:c}];$!=="-"&&k.push({name:r.name||r.dataKey,unit:r.unit||"",value:$,payload:x,dataKey:d,type:c});var P=Xs({axis:e,ticks:o,bandSize:v,entry:x,index:_,dataKey:f}),T=Xs({axis:n,ticks:s,bandSize:g,entry:x,index:_,dataKey:h}),j=$!=="-"?r.scale($):m,A=Math.sqrt(Math.max(j,0)/Math.PI);return qn(qn({},x),{},{cx:P,cy:T,x:P-A,y:T-A,xAxis:e,yAxis:n,zAxis:r,width:2*A,height:2*A,size:j,node:{x:O,y:w,z:$},tooltipPayload:k,tooltipPosition:{x:P,y:T},payload:x},u&&u[_]&&u[_].props)});return qn({points:y},l)});function rl(t){"@babel/helpers - typeof";return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rl(t)}function Poe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Aoe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sj(r.key),r)}}function Coe(t,e,n){return e&&Aoe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Eoe(t,e,n){return e=Ep(e),Toe(t,aj()?Reflect.construct(e,n||[],Ep(t).constructor):e.apply(t,n))}function Toe(t,e){if(e&&(rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Moe(t)}function Moe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aj=function(){return!!t})()}function Ep(t){return Ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ep(t)}function joe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$O(t,e)}function $O(t,e){return $O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$O(t,e)}function oj(t,e,n){return e=sj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sj(t){var e=Qoe(t,"string");return rl(e)=="symbol"?e:e+""}function Qoe(t,e){if(rl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function kO(){return kO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kO.apply(this,arguments)}function zoe(t){var e=t.xAxisId,n=Ax(),r=Cx(),i=IM(e);return i==null?null:D.createElement(El,kO({},i,{className:me("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return vi(o,!0)}}))}var Of=function(t){function e(){return Poe(this,e),Eoe(this,e,arguments)}return joe(e,t),Coe(e,[{key:"render",value:function(){return D.createElement(zoe,this.props)}}])}(D.Component);oj(Of,"displayName","XAxis");oj(Of,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function il(t){"@babel/helpers - typeof";return il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},il(t)}function Ioe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Roe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uj(r.key),r)}}function Doe(t,e,n){return e&&Roe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Noe(t,e,n){return e=Tp(e),Loe(t,lj()?Reflect.construct(e,n||[],Tp(t).constructor):e.apply(t,n))}function Loe(t,e){if(e&&(il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Boe(t)}function Boe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lj=function(){return!!t})()}function Tp(t){return Tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tp(t)}function Zoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PO(t,e)}function PO(t,e){return PO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},PO(t,e)}function cj(t,e,n){return e=uj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uj(t){var e=Woe(t,"string");return il(e)=="symbol"?e:e+""}function Woe(t,e){if(il(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function AO(){return AO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AO.apply(this,arguments)}var Xoe=function(e){var n=e.yAxisId,r=Ax(),i=Cx(),a=RM(n);return a==null?null:D.createElement(El,AO({},a,{className:me("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return vi(s,!0)}}))},bf=function(t){function e(){return Ioe(this,e),Noe(this,e,arguments)}return Zoe(e,t),Doe(e,[{key:"render",value:function(){return D.createElement(Xoe,this.props)}}])}(D.Component);cj(bf,"displayName","YAxis");cj(bf,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function vk(t){return qoe(t)||Uoe(t)||Voe(t)||Foe()}function Foe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Voe(t,e){if(t){if(typeof t=="string")return CO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CO(t,e)}}function Uoe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qoe(t){if(Array.isArray(t))return CO(t)}function CO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var EO=function(e,n,r,i,a){var o=xn(e,Tx),s=xn(e,lg),l=[].concat(vk(o),vk(s)),c=xn(e,ug),u="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(m,v){if(v.props[u]===r&&ni(v.props,"extendDomain")&&q(v.props[f])){var g=v.props[f];return[Math.min(m[0],g),Math.max(m[1],g)]}return m},h)),c.length){var d="".concat(f,"1"),p="".concat(f,"2");h=c.reduce(function(m,v){if(v.props[u]===r&&ni(v.props,"extendDomain")&&q(v.props[d])&&q(v.props[p])){var g=v.props[d],y=v.props[p];return[Math.min(m[0],g,y),Math.max(m[1],g,y)]}return m},h)}return a&&a.length&&(h=a.reduce(function(m,v){return q(v)?[Math.min(m[0],v),Math.max(m[1],v)]:m},h)),h},fj={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var d=new i(u,f||l,h),p=n?n+c:c;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],d]:l._events[p].push(d):(l._events[p]=d,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)e.call(u,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=n?n+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,d=f.length,p=new Array(d);h<d;h++)p[h]=f[h].fn;return p},s.prototype.listenerCount=function(c){var u=n?n+c:c,f=this._events[u];return f?f.fn?1:f.length:0},s.prototype.emit=function(c,u,f,h,d,p){var m=n?n+c:c;if(!this._events[m])return!1;var v=this._events[m],g=arguments.length,y,x;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),g){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,f),!0;case 4:return v.fn.call(v.context,u,f,h),!0;case 5:return v.fn.call(v.context,u,f,h,d),!0;case 6:return v.fn.call(v.context,u,f,h,d,p),!0}for(x=1,y=new Array(g-1);x<g;x++)y[x-1]=arguments[x];v.fn.apply(v.context,y)}else{var _=v.length,O;for(x=0;x<_;x++)switch(v[x].once&&this.removeListener(c,v[x].fn,void 0,!0),g){case 1:v[x].fn.call(v[x].context);break;case 2:v[x].fn.call(v[x].context,u);break;case 3:v[x].fn.call(v[x].context,u,f);break;case 4:v[x].fn.call(v[x].context,u,f,h);break;default:if(!y)for(O=1,y=new Array(g-1);O<g;O++)y[O-1]=arguments[O];v[x].fn.apply(v[x].context,y)}}return!0},s.prototype.on=function(c,u,f){return a(this,c,u,f,!1)},s.prototype.once=function(c,u,f){return a(this,c,u,f,!0)},s.prototype.removeListener=function(c,u,f,h){var d=n?n+c:c;if(!this._events[d])return this;if(!u)return o(this,d),this;var p=this._events[d];if(p.fn)p.fn===u&&(!h||p.once)&&(!f||p.context===f)&&o(this,d);else{for(var m=0,v=[],g=p.length;m<g;m++)(p[m].fn!==u||h&&!p[m].once||f&&p[m].context!==f)&&v.push(p[m]);v.length?this._events[d]=v.length===1?v[0]:v:o(this,d)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(fj);var Yoe=fj.exports;const Goe=Me(Yoe);var E0=new Goe,T0="recharts.syncMouseEvents";function Bu(t){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bu(t)}function Hoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Koe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hj(r.key),r)}}function Joe(t,e,n){return e&&Koe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function M0(t,e,n){return e=hj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hj(t){var e=ese(t,"string");return Bu(e)=="symbol"?e:e+""}function ese(t,e){if(Bu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tse=function(){function t(){Hoe(this,t),M0(this,"activeIndex",0),M0(this,"coordinateList",[]),M0(this,"layout","horizontal")}return Joe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,s=o===void 0?null:o,l=n.layout,c=l===void 0?null:l,u=n.offset,f=u===void 0?null:u,h=n.mouseHandlerCallback,d=h===void 0?null:h;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=d??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=a+l+c,h=o+this.offset.top+s/2+u;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function nse(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&q(r)&&q(i))return!0}return!1}function rse(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function dj(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,o=Dt(e,n,r,i),s=Dt(e,n,r,a);return{points:[o,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function ise(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,f=e.angle,h=Dt(s,l,c,f),d=Dt(s,l,u,f);r=h.x,i=h.y,a=d.x,o=d.y}else return dj(e);return[{x:r,y:i},{x:a,y:o}]}function Zu(t){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zu(t)}function yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yk(Object(n),!0).forEach(function(r){ase(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ase(t,e,n){return e=ose(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ose(t){var e=sse(t,"string");return Zu(e)=="symbol"?e:e+""}function sse(t,e){if(Zu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lse(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,s=t.activePayload,l=t.offset,c=t.activeTooltipIndex,u=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,d=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!d||!a||!o||h!=="ScatterChart"&&i!=="axis")return null;var p,m=oo;if(h==="ScatterChart")p=o,m=jte;else if(h==="BarChart")p=rse(f,o,l,u),m=_x;else if(f==="radial"){var v=dj(o),g=v.cx,y=v.cy,x=v.radius,_=v.startAngle,O=v.endAngle;p={cx:g,cy:y,startAngle:_,endAngle:O,innerRadius:x,outerRadius:x},m=lM}else p={points:ise(f,o,l)},m=oo;var w=lh(lh(lh(lh({stroke:"#ccc",pointerEvents:"none"},l),p),le(d,!1)),{},{payload:s,payloadIndex:c,className:me("recharts-tooltip-cursor",d.className)});return D.isValidElement(d)?D.cloneElement(d,w):D.createElement(m,w)}var cse=["item"],use=["children","className","width","height","style","compact","title","desc"];function al(t){"@babel/helpers - typeof";return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},al(t)}function as(){return as=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},as.apply(this,arguments)}function Ok(t,e){return dse(t)||hse(t,e)||mj(t,e)||fse()}function fse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hse(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function dse(t){if(Array.isArray(t))return t}function bk(t,e){if(t==null)return{};var n=pse(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gse(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gj(r.key),r)}}function vse(t,e,n){return e&&gse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yse(t,e,n){return e=Mp(e),Ose(t,pj()?Reflect.construct(e,n||[],Mp(t).constructor):e.apply(t,n))}function Ose(t,e){if(e&&(al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bse(t)}function bse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pj=function(){return!!t})()}function Mp(t){return Mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mp(t)}function xse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TO(t,e)}function TO(t,e){return TO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},TO(t,e)}function ol(t){return _se(t)||Sse(t)||mj(t)||wse()}function wse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mj(t,e){if(t){if(typeof t=="string")return MO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MO(t,e)}}function Sse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _se(t){if(Array.isArray(t))return MO(t)}function MO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Z(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xk(Object(n),!0).forEach(function(r){ie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ie(t,e,n){return e=gj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gj(t){var e=$se(t,"string");return al(e)=="symbol"?e:e+""}function $se(t,e){if(al(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kse={xAxis:["bottom","top"],yAxis:["left","right"]},Pse={width:"100%",height:"100%"},vj={x:0,y:0};function ch(t){return t}var Ase=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Cse=function(e,n,r,i){var a=n.find(function(u){return u&&u.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return Z(Z(Z({},i),Dt(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,c=i.angle;return Z(Z(Z({},i),Dt(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return vj},dg=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(ol(s),ol(c)):s},[]);return o.length>0?o:e&&e.length&&q(i)&&q(a)?e.slice(i,a+1):[]};function yj(t){return t==="number"?[0,"auto"]:void 0}var jO=function(e,n,r,i){var a=e.graphicalItems,o=e.tooltipAxis,s=dg(n,e);return r<0||!a||!a.length||r>=s.length?null:a.reduce(function(l,c){var u,f=(u=c.props.data)!==null&&u!==void 0?u:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var d=f===void 0?s:f;h=Ed(d,o.dataKey,i)}else h=f&&f[r]||s[r];return h?[].concat(ol(l),[aM(c,h)]):l},[])},wk=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},o=Ase(a,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=fK(o,s,c,l);if(u>=0&&c){var f=c[u]&&c[u].value,h=jO(e,n,u,f),d=Cse(r,s,u,a);return{activeTooltipIndex:u,activeLabel:f,activePayload:h,activeCoordinate:d}}return null},Ese=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,f=e.children,h=e.stackOffset,d=nM(u,a);return r.reduce(function(p,m){var v,g=m.type.defaultProps!==void 0?Z(Z({},m.type.defaultProps),m.props):m.props,y=g.type,x=g.dataKey,_=g.allowDataOverflow,O=g.allowDuplicatedCategory,w=g.scale,$=g.ticks,k=g.includeHidden,P=g[o];if(p[P])return p;var T=dg(e.data,{graphicalItems:i.filter(function(X){var G,ae=o in X.props?X.props[o]:(G=X.type.defaultProps)===null||G===void 0?void 0:G[o];return ae===P}),dataStartIndex:l,dataEndIndex:c}),j=T.length,A,N,C;nse(g.domain,_,y)&&(A=Uy(g.domain,null,_),d&&(y==="number"||w!=="auto")&&(C=Mc(T,x,"category")));var Q=yj(y);if(!A||A.length===0){var L,I=(L=g.domain)!==null&&L!==void 0?L:Q;if(x){if(A=Mc(T,x,y),y==="category"&&d){var M=KL(A);O&&M?(N=A,A=gp(0,j)):O||(A=J_(I,A,m).reduce(function(X,G){return X.indexOf(G)>=0?X:[].concat(ol(X),[G])},[]))}else if(y==="category")O?A=A.filter(function(X){return X!==""&&!oe(X)}):A=J_(I,A,m).reduce(function(X,G){return X.indexOf(G)>=0||G===""||oe(G)?X:[].concat(ol(X),[G])},[]);else if(y==="number"){var R=gK(T,i.filter(function(X){var G,ae,ge=o in X.props?X.props[o]:(G=X.type.defaultProps)===null||G===void 0?void 0:G[o],ke="hide"in X.props?X.props.hide:(ae=X.type.defaultProps)===null||ae===void 0?void 0:ae.hide;return ge===P&&(k||!ke)}),x,a,u);R&&(A=R)}d&&(y==="number"||w!=="auto")&&(C=Mc(T,x,"category"))}else d?A=gp(0,j):s&&s[P]&&s[P].hasStack&&y==="number"?A=h==="expand"?[0,1]:iM(s[P].stackGroups,l,c):A=tM(T,i.filter(function(X){var G=o in X.props?X.props[o]:X.type.defaultProps[o],ae="hide"in X.props?X.props.hide:X.type.defaultProps.hide;return G===P&&(k||!ae)}),y,u,!0);if(y==="number")A=EO(f,A,P,a,$),I&&(A=Uy(I,A,_));else if(y==="category"&&I){var B=I,F=A.every(function(X){return B.indexOf(X)>=0});F&&(A=B)}}return Z(Z({},p),{},ie({},P,Z(Z({},g),{},{axisType:a,domain:A,categoricalDomain:C,duplicateDomain:N,originalDomain:(v=g.domain)!==null&&v!==void 0?v:Q,isCategorical:d,layout:u})))},{})},Tse=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,f=e.children,h=dg(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),d=h.length,p=nM(u,a),m=-1;return r.reduce(function(v,g){var y=g.type.defaultProps!==void 0?Z(Z({},g.type.defaultProps),g.props):g.props,x=y[o],_=yj("number");if(!v[x]){m++;var O;return p?O=gp(0,d):s&&s[x]&&s[x].hasStack?(O=iM(s[x].stackGroups,l,c),O=EO(f,O,x,a)):(O=Uy(_,tM(h,r.filter(function(w){var $,k,P=o in w.props?w.props[o]:($=w.type.defaultProps)===null||$===void 0?void 0:$[o],T="hide"in w.props?w.props.hide:(k=w.type.defaultProps)===null||k===void 0?void 0:k.hide;return P===x&&!T}),"number",u),i.defaultProps.allowDataOverflow),O=EO(f,O,x,a)),Z(Z({},v),{},ie({},x,Z(Z({axisType:a},i.defaultProps),{},{hide:!0,orientation:ir(kse,"".concat(a,".").concat(m%2),null),domain:O,originalDomain:_,isCategorical:p,layout:u})))}return v},{})},Mse=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.children,f="".concat(i,"Id"),h=xn(u,a),d={};return h&&h.length?d=Ese(e,{axes:h,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):o&&o.length&&(d=Tse(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),d},jse=function(e){var n=qi(e),r=vi(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:G1(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:op(n,r)}},Sk=function(e){var n=e.children,r=e.defaultShowTooltip,i=zn(n,Us),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},Qse=function(e){return!e||!e.length?!1:e.some(function(n){var r=Oi(n&&n.type);return r&&r.indexOf("Bar")>=0})},_k=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},zse=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,c=r.width,u=r.height,f=r.children,h=r.margin||{},d=zn(f,Us),p=zn(f,ys),m=Object.keys(l).reduce(function(O,w){var $=l[w],k=$.orientation;return!$.mirror&&!$.hide?Z(Z({},O),{},ie({},k,O[k]+$.width)):O},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(O,w){var $=o[w],k=$.orientation;return!$.mirror&&!$.hide?Z(Z({},O),{},ie({},k,ir(O,"".concat(k))+$.height)):O},{top:h.top||0,bottom:h.bottom||0}),g=Z(Z({},v),m),y=g.bottom;d&&(g.bottom+=d.props.height||Us.defaultProps.height),p&&n&&(g=pK(g,i,r,n));var x=c-g.left-g.right,_=u-g.top-g.bottom;return Z(Z({brushBottom:y},g),{},{width:Math.max(x,0),height:Math.max(_,0)})},Ise=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Rse=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,f=e.defaultProps,h=function(g,y){var x=y.graphicalItems,_=y.stackGroups,O=y.offset,w=y.updateId,$=y.dataStartIndex,k=y.dataEndIndex,P=g.barSize,T=g.layout,j=g.barGap,A=g.barCategoryGap,N=g.maxBarSize,C=_k(T),Q=C.numericAxisName,L=C.cateAxisName,I=Qse(x),M=[];return x.forEach(function(R,B){var F=dg(g.data,{graphicalItems:[R],dataStartIndex:$,dataEndIndex:k}),X=R.type.defaultProps!==void 0?Z(Z({},R.type.defaultProps),R.props):R.props,G=X.dataKey,ae=X.maxBarSize,ge=X["".concat(Q,"Id")],ke=X["".concat(L,"Id")],St={},Zt=l.reduce(function(ja,Qa){var Tg=y["".concat(Qa.axisType,"Map")],ww=X["".concat(Qa.axisType,"Id")];Tg&&Tg[ww]||Qa.axisType==="zAxis"||bo();var Sw=Tg[ww];return Z(Z({},ja),{},ie(ie({},Qa.axisType,Sw),"".concat(Qa.axisType,"Ticks"),vi(Sw)))},St),K=Zt[L],ue=Zt["".concat(L,"Ticks")],fe=_&&_[ge]&&_[ge].hasStack&&AK(R,_[ge].stackGroups),V=Oi(R.type).indexOf("Bar")>=0,Ye=op(K,ue),ve=[],ft=I&&hK({barSize:P,stackGroups:_,totalSize:Ise(Zt,L)});if(V){var ht,ln,Ri=oe(ae)?N:ae,jo=(ht=(ln=op(K,ue,!0))!==null&&ln!==void 0?ln:Ri)!==null&&ht!==void 0?ht:0;ve=dK({barGap:j,barCategoryGap:A,bandSize:jo!==Ye?jo:Ye,sizeList:ft[ke],maxBarSize:Ri}),jo!==Ye&&(ve=ve.map(function(ja){return Z(Z({},ja),{},{position:Z(Z({},ja.position),{},{offset:ja.position.offset-jo/2})})}))}var Tf=R&&R.type&&R.type.getComposedData;Tf&&M.push({props:Z(Z({},Tf(Z(Z({},Zt),{},{displayedData:F,props:g,dataKey:G,item:R,bandSize:Ye,barPosition:ve,offset:O,stackedData:fe,layout:T,dataStartIndex:$,dataEndIndex:k}))),{},ie(ie(ie({key:R.key||"item-".concat(B)},Q,Zt[Q]),L,Zt[L]),"animationId",w)),childIndex:f8(R,g.children),item:R})}),M},d=function(g,y){var x=g.props,_=g.dataStartIndex,O=g.dataEndIndex,w=g.updateId;if(!US({props:x}))return null;var $=x.children,k=x.layout,P=x.stackOffset,T=x.data,j=x.reverseStackOrder,A=_k(k),N=A.numericAxisName,C=A.cateAxisName,Q=xn($,r),L=$K(T,Q,"".concat(N,"Id"),"".concat(C,"Id"),P,j),I=l.reduce(function(X,G){var ae="".concat(G.axisType,"Map");return Z(Z({},X),{},ie({},ae,Mse(x,Z(Z({},G),{},{graphicalItems:Q,stackGroups:G.axisType===N&&L,dataStartIndex:_,dataEndIndex:O}))))},{}),M=zse(Z(Z({},I),{},{props:x,graphicalItems:Q}),y==null?void 0:y.legendBBox);Object.keys(I).forEach(function(X){I[X]=u(x,I[X],M,X.replace("Map",""),n)});var R=I["".concat(C,"Map")],B=jse(R),F=h(x,Z(Z({},I),{},{dataStartIndex:_,dataEndIndex:O,updateId:w,graphicalItems:Q,stackGroups:L,offset:M}));return Z(Z({formattedGraphicalItems:F,graphicalItems:Q,offset:M,stackGroups:L},B),I)},p=function(v){function g(y){var x,_,O;return mse(this,g),O=yse(this,g,[y]),ie(O,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ie(O,"accessibilityManager",new tse),ie(O,"handleLegendBBoxUpdate",function(w){if(w){var $=O.state,k=$.dataStartIndex,P=$.dataEndIndex,T=$.updateId;O.setState(Z({legendBBox:w},d({props:O.props,dataStartIndex:k,dataEndIndex:P,updateId:T},Z(Z({},O.state),{},{legendBBox:w}))))}}),ie(O,"handleReceiveSyncEvent",function(w,$,k){if(O.props.syncId===w){if(k===O.eventEmitterSymbol&&typeof O.props.syncMethod!="function")return;O.applySyncEvent($)}}),ie(O,"handleBrushChange",function(w){var $=w.startIndex,k=w.endIndex;if($!==O.state.dataStartIndex||k!==O.state.dataEndIndex){var P=O.state.updateId;O.setState(function(){return Z({dataStartIndex:$,dataEndIndex:k},d({props:O.props,dataStartIndex:$,dataEndIndex:k,updateId:P},O.state))}),O.triggerSyncEvent({dataStartIndex:$,dataEndIndex:k})}}),ie(O,"handleMouseEnter",function(w){var $=O.getMouseInfo(w);if($){var k=Z(Z({},$),{},{isTooltipActive:!0});O.setState(k),O.triggerSyncEvent(k);var P=O.props.onMouseEnter;ce(P)&&P(k,w)}}),ie(O,"triggeredAfterMouseMove",function(w){var $=O.getMouseInfo(w),k=$?Z(Z({},$),{},{isTooltipActive:!0}):{isTooltipActive:!1};O.setState(k),O.triggerSyncEvent(k);var P=O.props.onMouseMove;ce(P)&&P(k,w)}),ie(O,"handleItemMouseEnter",function(w){O.setState(function(){return{isTooltipActive:!0,activeItem:w,activePayload:w.tooltipPayload,activeCoordinate:w.tooltipPosition||{x:w.cx,y:w.cy}}})}),ie(O,"handleItemMouseLeave",function(){O.setState(function(){return{isTooltipActive:!1}})}),ie(O,"handleMouseMove",function(w){w.persist(),O.throttleTriggeredAfterMouseMove(w)}),ie(O,"handleMouseLeave",function(w){O.throttleTriggeredAfterMouseMove.cancel();var $={isTooltipActive:!1};O.setState($),O.triggerSyncEvent($);var k=O.props.onMouseLeave;ce(k)&&k($,w)}),ie(O,"handleOuterEvent",function(w){var $=u8(w),k=ir(O.props,"".concat($));if($&&ce(k)){var P,T;/.*touch.*/i.test($)?T=O.getMouseInfo(w.changedTouches[0]):T=O.getMouseInfo(w),k((P=T)!==null&&P!==void 0?P:{},w)}}),ie(O,"handleClick",function(w){var $=O.getMouseInfo(w);if($){var k=Z(Z({},$),{},{isTooltipActive:!0});O.setState(k),O.triggerSyncEvent(k);var P=O.props.onClick;ce(P)&&P(k,w)}}),ie(O,"handleMouseDown",function(w){var $=O.props.onMouseDown;if(ce($)){var k=O.getMouseInfo(w);$(k,w)}}),ie(O,"handleMouseUp",function(w){var $=O.props.onMouseUp;if(ce($)){var k=O.getMouseInfo(w);$(k,w)}}),ie(O,"handleTouchMove",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&O.throttleTriggeredAfterMouseMove(w.changedTouches[0])}),ie(O,"handleTouchStart",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&O.handleMouseDown(w.changedTouches[0])}),ie(O,"handleTouchEnd",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&O.handleMouseUp(w.changedTouches[0])}),ie(O,"handleDoubleClick",function(w){var $=O.props.onDoubleClick;if(ce($)){var k=O.getMouseInfo(w);$(k,w)}}),ie(O,"handleContextMenu",function(w){var $=O.props.onContextMenu;if(ce($)){var k=O.getMouseInfo(w);$(k,w)}}),ie(O,"triggerSyncEvent",function(w){O.props.syncId!==void 0&&E0.emit(T0,O.props.syncId,w,O.eventEmitterSymbol)}),ie(O,"applySyncEvent",function(w){var $=O.props,k=$.layout,P=$.syncMethod,T=O.state.updateId,j=w.dataStartIndex,A=w.dataEndIndex;if(w.dataStartIndex!==void 0||w.dataEndIndex!==void 0)O.setState(Z({dataStartIndex:j,dataEndIndex:A},d({props:O.props,dataStartIndex:j,dataEndIndex:A,updateId:T},O.state)));else if(w.activeTooltipIndex!==void 0){var N=w.chartX,C=w.chartY,Q=w.activeTooltipIndex,L=O.state,I=L.offset,M=L.tooltipTicks;if(!I)return;if(typeof P=="function")Q=P(M,w);else if(P==="value"){Q=-1;for(var R=0;R<M.length;R++)if(M[R].value===w.activeLabel){Q=R;break}}var B=Z(Z({},I),{},{x:I.left,y:I.top}),F=Math.min(N,B.x+B.width),X=Math.min(C,B.y+B.height),G=M[Q]&&M[Q].value,ae=jO(O.state,O.props.data,Q),ge=M[Q]?{x:k==="horizontal"?M[Q].coordinate:F,y:k==="horizontal"?X:M[Q].coordinate}:vj;O.setState(Z(Z({},w),{},{activeLabel:G,activeCoordinate:ge,activePayload:ae,activeTooltipIndex:Q}))}else O.setState(w)}),ie(O,"renderCursor",function(w){var $,k=O.state,P=k.isTooltipActive,T=k.activeCoordinate,j=k.activePayload,A=k.offset,N=k.activeTooltipIndex,C=k.tooltipAxisBandSize,Q=O.getTooltipEventType(),L=($=w.props.active)!==null&&$!==void 0?$:P,I=O.props.layout,M=w.key||"_recharts-cursor";return E.createElement(lse,{key:M,activeCoordinate:T,activePayload:j,activeTooltipIndex:N,chartName:n,element:w,isActive:L,layout:I,offset:A,tooltipAxisBandSize:C,tooltipEventType:Q})}),ie(O,"renderPolarAxis",function(w,$,k){var P=ir(w,"type.axisType"),T=ir(O.state,"".concat(P,"Map")),j=w.type.defaultProps,A=j!==void 0?Z(Z({},j),w.props):w.props,N=T&&T[A["".concat(P,"Id")]];return D.cloneElement(w,Z(Z({},N),{},{className:me(P,N.className),key:w.key||"".concat($,"-").concat(k),ticks:vi(N,!0)}))}),ie(O,"renderPolarGrid",function(w){var $=w.props,k=$.radialLines,P=$.polarAngles,T=$.polarRadius,j=O.state,A=j.radiusAxisMap,N=j.angleAxisMap,C=qi(A),Q=qi(N),L=Q.cx,I=Q.cy,M=Q.innerRadius,R=Q.outerRadius;return D.cloneElement(w,{polarAngles:Array.isArray(P)?P:vi(Q,!0).map(function(B){return B.coordinate}),polarRadius:Array.isArray(T)?T:vi(C,!0).map(function(B){return B.coordinate}),cx:L,cy:I,innerRadius:M,outerRadius:R,key:w.key||"polar-grid",radialLines:k})}),ie(O,"renderLegend",function(){var w=O.state.formattedGraphicalItems,$=O.props,k=$.children,P=$.width,T=$.height,j=O.props.margin||{},A=P-(j.left||0)-(j.right||0),N=JT({children:k,formattedGraphicalItems:w,legendWidth:A,legendContent:c});if(!N)return null;var C=N.item,Q=bk(N,cse);return D.cloneElement(C,Z(Z({},Q),{},{chartWidth:P,chartHeight:T,margin:j,onBBoxUpdate:O.handleLegendBBoxUpdate}))}),ie(O,"renderTooltip",function(){var w,$=O.props,k=$.children,P=$.accessibilityLayer,T=zn(k,gr);if(!T)return null;var j=O.state,A=j.isTooltipActive,N=j.activeCoordinate,C=j.activePayload,Q=j.activeLabel,L=j.offset,I=(w=T.props.active)!==null&&w!==void 0?w:A;return D.cloneElement(T,{viewBox:Z(Z({},L),{},{x:L.left,y:L.top}),active:I,label:Q,payload:I?C:[],coordinate:N,accessibilityLayer:P})}),ie(O,"renderBrush",function(w){var $=O.props,k=$.margin,P=$.data,T=O.state,j=T.offset,A=T.dataStartIndex,N=T.dataEndIndex,C=T.updateId;return D.cloneElement(w,{key:w.key||"_recharts-brush",onChange:ih(O.handleBrushChange,w.props.onChange),data:P,x:q(w.props.x)?w.props.x:j.left,y:q(w.props.y)?w.props.y:j.top+j.height+j.brushBottom-(k.bottom||0),width:q(w.props.width)?w.props.width:j.width,startIndex:A,endIndex:N,updateId:"brush-".concat(C)})}),ie(O,"renderReferenceElement",function(w,$,k){if(!w)return null;var P=O,T=P.clipPathId,j=O.state,A=j.xAxisMap,N=j.yAxisMap,C=j.offset,Q=w.type.defaultProps||{},L=w.props,I=L.xAxisId,M=I===void 0?Q.xAxisId:I,R=L.yAxisId,B=R===void 0?Q.yAxisId:R;return D.cloneElement(w,{key:w.key||"".concat($,"-").concat(k),xAxis:A[M],yAxis:N[B],viewBox:{x:C.left,y:C.top,width:C.width,height:C.height},clipPathId:T})}),ie(O,"renderActivePoints",function(w){var $=w.item,k=w.activePoint,P=w.basePoint,T=w.childIndex,j=w.isRange,A=[],N=$.props.key,C=$.item.type.defaultProps!==void 0?Z(Z({},$.item.type.defaultProps),$.item.props):$.item.props,Q=C.activeDot,L=C.dataKey,I=Z(Z({index:T,dataKey:L,cx:k.x,cy:k.y,r:4,fill:Sx($.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},le(Q,!1)),Td(Q));return A.push(g.renderActiveDot(Q,I,"".concat(N,"-activePoint-").concat(T))),P?A.push(g.renderActiveDot(Q,Z(Z({},I),{},{cx:P.x,cy:P.y}),"".concat(N,"-basePoint-").concat(T))):j&&A.push(null),A}),ie(O,"renderGraphicChild",function(w,$,k){var P=O.filterFormatItem(w,$,k);if(!P)return null;var T=O.getTooltipEventType(),j=O.state,A=j.isTooltipActive,N=j.tooltipAxis,C=j.activeTooltipIndex,Q=j.activeLabel,L=O.props.children,I=zn(L,gr),M=P.props,R=M.points,B=M.isRange,F=M.baseLine,X=P.item.type.defaultProps!==void 0?Z(Z({},P.item.type.defaultProps),P.item.props):P.item.props,G=X.activeDot,ae=X.hide,ge=X.activeBar,ke=X.activeShape,St=!!(!ae&&A&&I&&(G||ge||ke)),Zt={};T!=="axis"&&I&&I.props.trigger==="click"?Zt={onClick:ih(O.handleItemMouseEnter,w.props.onClick)}:T!=="axis"&&(Zt={onMouseLeave:ih(O.handleItemMouseLeave,w.props.onMouseLeave),onMouseEnter:ih(O.handleItemMouseEnter,w.props.onMouseEnter)});var K=D.cloneElement(w,Z(Z({},P.props),Zt));function ue(Qa){return typeof N.dataKey=="function"?N.dataKey(Qa.payload):null}if(St)if(C>=0){var fe,V;if(N.dataKey&&!N.allowDuplicatedCategory){var Ye=typeof N.dataKey=="function"?ue:"payload.".concat(N.dataKey.toString());fe=Ed(R,Ye,Q),V=B&&F&&Ed(F,Ye,Q)}else fe=R==null?void 0:R[C],V=B&&F&&F[C];if(ke||ge){var ve=w.props.activeIndex!==void 0?w.props.activeIndex:C;return[D.cloneElement(w,Z(Z(Z({},P.props),Zt),{},{activeIndex:ve})),null,null]}if(!oe(fe))return[K].concat(ol(O.renderActivePoints({item:P,activePoint:fe,basePoint:V,childIndex:C,isRange:B})))}else{var ft,ht=(ft=O.getItemByXY(O.state.activeCoordinate))!==null&&ft!==void 0?ft:{graphicalItem:K},ln=ht.graphicalItem,Ri=ln.item,jo=Ri===void 0?w:Ri,Tf=ln.childIndex,ja=Z(Z(Z({},P.props),Zt),{},{activeIndex:Tf});return[D.cloneElement(jo,ja),null,null]}return B?[K,null,null]:[K,null]}),ie(O,"renderCustomized",function(w,$,k){return D.cloneElement(w,Z(Z({key:"recharts-customized-".concat(k)},O.props),O.state))}),ie(O,"renderMap",{CartesianGrid:{handler:ch,once:!0},ReferenceArea:{handler:O.renderReferenceElement},ReferenceLine:{handler:ch},ReferenceDot:{handler:O.renderReferenceElement},XAxis:{handler:ch},YAxis:{handler:ch},Brush:{handler:O.renderBrush,once:!0},Bar:{handler:O.renderGraphicChild},Line:{handler:O.renderGraphicChild},Area:{handler:O.renderGraphicChild},Radar:{handler:O.renderGraphicChild},RadialBar:{handler:O.renderGraphicChild},Scatter:{handler:O.renderGraphicChild},Pie:{handler:O.renderGraphicChild},Funnel:{handler:O.renderGraphicChild},Tooltip:{handler:O.renderCursor,once:!0},PolarGrid:{handler:O.renderPolarGrid,once:!0},PolarAngleAxis:{handler:O.renderPolarAxis},PolarRadiusAxis:{handler:O.renderPolarAxis},Customized:{handler:O.renderCustomized}}),O.clipPathId="".concat((x=y.id)!==null&&x!==void 0?x:Co("recharts"),"-clip"),O.throttleTriggeredAfterMouseMove=JE(O.triggeredAfterMouseMove,(_=y.throttleDelay)!==null&&_!==void 0?_:1e3/60),O.state={},O}return xse(g,v),vse(g,[{key:"componentDidMount",value:function(){var x,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,_=x.children,O=x.data,w=x.height,$=x.layout,k=zn(_,gr);if(k){var P=k.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var T=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,j=jO(this.state,O,P,T),A=this.state.tooltipTicks[P].coordinate,N=(this.state.offset.top+w)/2,C=$==="horizontal",Q=C?{x:A,y:N}:{y:A,x:N},L=this.state.formattedGraphicalItems.find(function(M){var R=M.item;return R.type.name==="Scatter"});L&&(Q=Z(Z({},Q),L.props.points[P].tooltipPosition),j=L.props.points[P].tooltipPayload);var I={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:T,activePayload:j,activeCoordinate:Q};this.setState(I),this.renderCursor(k),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var O,w;this.accessibilityManager.setDetails({offset:{left:(O=this.props.margin.left)!==null&&O!==void 0?O:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0}})}return null}},{key:"componentDidUpdate",value:function(x){ly([zn(x.children,gr)],[zn(this.props.children,gr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=zn(this.props.children,gr);if(x&&typeof x.props.shared=="boolean"){var _=x.props.shared?"axis":"item";return s.indexOf(_)>=0?_:a}return a}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var _=this.container,O=_.getBoundingClientRect(),w=RU(O),$={chartX:Math.round(x.pageX-w.left),chartY:Math.round(x.pageY-w.top)},k=O.width/_.offsetWidth||1,P=this.inRange($.chartX,$.chartY,k);if(!P)return null;var T=this.state,j=T.xAxisMap,A=T.yAxisMap,N=this.getTooltipEventType(),C=wk(this.state,this.props.data,this.props.layout,P);if(N!=="axis"&&j&&A){var Q=qi(j).scale,L=qi(A).scale,I=Q&&Q.invert?Q.invert($.chartX):null,M=L&&L.invert?L.invert($.chartY):null;return Z(Z({},$),{},{xValue:I,yValue:M},C)}return C?Z(Z({},$),C):null}},{key:"inRange",value:function(x,_){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,w=this.props.layout,$=x/O,k=_/O;if(w==="horizontal"||w==="vertical"){var P=this.state.offset,T=$>=P.left&&$<=P.left+P.width&&k>=P.top&&k<=P.top+P.height;return T?{x:$,y:k}:null}var j=this.state,A=j.angleAxisMap,N=j.radiusAxisMap;if(A&&N){var C=qi(A);return n$({x:$,y:k},C)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,_=this.getTooltipEventType(),O=zn(x,gr),w={};O&&_==="axis"&&(O.props.trigger==="click"?w={onClick:this.handleClick}:w={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var $=Td(this.props,this.handleOuterEvent);return Z(Z({},$),w)}},{key:"addListener",value:function(){E0.on(T0,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){E0.removeListener(T0,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,_,O){for(var w=this.state.formattedGraphicalItems,$=0,k=w.length;$<k;$++){var P=w[$];if(P.item===x||P.props.key===x.key||_===Oi(P.item.type)&&O===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,_=this.state.offset,O=_.left,w=_.top,$=_.height,k=_.width;return E.createElement("defs",null,E.createElement("clipPath",{id:x},E.createElement("rect",{x:O,y:w,height:$,width:k})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(_,O){var w=Ok(O,2),$=w[0],k=w[1];return Z(Z({},_),{},ie({},$,k.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(_,O){var w=Ok(O,2),$=w[0],k=w[1];return Z(Z({},_),{},ie({},$,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[x])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(x){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[x])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(x){var _=this.state,O=_.formattedGraphicalItems,w=_.activeItem;if(O&&O.length)for(var $=0,k=O.length;$<k;$++){var P=O[$],T=P.props,j=P.item,A=j.type.defaultProps!==void 0?Z(Z({},j.type.defaultProps),j.props):j.props,N=Oi(j.type);if(N==="Bar"){var C=(T.data||[]).find(function(M){return Ste(x,M)});if(C)return{graphicalItem:P,payload:C}}else if(N==="RadialBar"){var Q=(T.data||[]).find(function(M){return n$(x,M)});if(Q)return{graphicalItem:P,payload:Q}}else if(ig(P,w)||ag(P,w)||Iu(P,w)){var L=$ne({graphicalItem:P,activeTooltipItem:w,itemData:A.data}),I=A.activeIndex===void 0?L:A.activeIndex;return{graphicalItem:Z(Z({},P),{},{childIndex:I}),payload:Iu(P,w)?A.data[L]:P.props.data[L]}}}return null}},{key:"render",value:function(){var x=this;if(!US(this))return null;var _=this.props,O=_.children,w=_.className,$=_.width,k=_.height,P=_.style,T=_.compact,j=_.title,A=_.desc,N=bk(_,use),C=le(N,!1);if(T)return E.createElement(H$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},E.createElement(uy,as({},C,{width:$,height:k,title:j,desc:A}),this.renderClipPath(),YS(O,this.renderMap)));if(this.props.accessibilityLayer){var Q,L;C.tabIndex=(Q=this.props.tabIndex)!==null&&Q!==void 0?Q:0,C.role=(L=this.props.role)!==null&&L!==void 0?L:"application",C.onKeyDown=function(M){x.accessibilityManager.keyboardEvent(M)},C.onFocus=function(){x.accessibilityManager.focus()}}var I=this.parseEventsOfWrapper();return E.createElement(H$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},E.createElement("div",as({className:me("recharts-wrapper",w),style:Z({position:"relative",cursor:"default",width:$,height:k},P)},I,{ref:function(R){x.container=R}}),E.createElement(uy,as({},C,{width:$,height:k,title:j,desc:A,style:Pse}),this.renderClipPath(),YS(O,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(D.Component);ie(p,"displayName",n),ie(p,"defaultProps",Z({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),ie(p,"getDerivedStateFromProps",function(v,g){var y=v.dataKey,x=v.data,_=v.children,O=v.width,w=v.height,$=v.layout,k=v.stackOffset,P=v.margin,T=g.dataStartIndex,j=g.dataEndIndex;if(g.updateId===void 0){var A=Sk(v);return Z(Z(Z({},A),{},{updateId:0},d(Z(Z({props:v},A),{},{updateId:0}),g)),{},{prevDataKey:y,prevData:x,prevWidth:O,prevHeight:w,prevLayout:$,prevStackOffset:k,prevMargin:P,prevChildren:_})}if(y!==g.prevDataKey||x!==g.prevData||O!==g.prevWidth||w!==g.prevHeight||$!==g.prevLayout||k!==g.prevStackOffset||!vs(P,g.prevMargin)){var N=Sk(v),C={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},Q=Z(Z({},wk(g,x,$)),{},{updateId:g.updateId+1}),L=Z(Z(Z({},N),C),Q);return Z(Z(Z({},L),d(Z({props:v},L),g)),{},{prevDataKey:y,prevData:x,prevWidth:O,prevHeight:w,prevLayout:$,prevStackOffset:k,prevMargin:P,prevChildren:_})}if(!ly(_,g.prevChildren)){var I,M,R,B,F=zn(_,Us),X=F&&(I=(M=F.props)===null||M===void 0?void 0:M.startIndex)!==null&&I!==void 0?I:T,G=F&&(R=(B=F.props)===null||B===void 0?void 0:B.endIndex)!==null&&R!==void 0?R:j,ae=X!==T||G!==j,ge=!oe(x),ke=ge&&!ae?g.updateId:g.updateId+1;return Z(Z({updateId:ke},d(Z(Z({props:v},g),{},{updateId:ke,dataStartIndex:X,dataEndIndex:G}),g)),{},{prevChildren:_,dataStartIndex:X,dataEndIndex:G})}return null}),ie(p,"renderActiveDot",function(v,g,y){var x;return D.isValidElement(v)?x=D.cloneElement(v,g):ce(v)?x=v(g):x=E.createElement(rg,g),E.createElement(we,{className:"recharts-active-dot",key:y},x)});var m=D.forwardRef(function(g,y){return E.createElement(p,as({},g,{ref:y}))});return m.displayName=p.displayName,m},Oj=Rse({chartName:"ComposedChart",GraphicalChild:[Tl,It,Cl,hg],axisComponents:[{axisType:"xAxis",AxisComp:Of},{axisType:"yAxis",AxisComp:bf},{axisType:"zAxis",AxisComp:fg}],formatAxisMap:Gre}),S=(t=>(t.Number="Number",t.Percentage="Percentage",t.Currency="Currency",t.String="String",t.Boolean="Boolean",t.Date="Date",t.Duration="Duration",t.Identifier="Identifier",t.LeftBrace="LeftBrace",t.RightBrace="RightBrace",t.LeftBracket="LeftBracket",t.RightBracket="RightBracket",t.LeftParen="LeftParen",t.RightParen="RightParen",t.Colon="Colon",t.Comma="Comma",t.Dot="Dot",t.Arrow="Arrow",t.PlusMinus="PlusMinus",t.Plus="Plus",t.Minus="Minus",t.Star="Star",t.Slash="Slash",t.Caret="Caret",t.Percent="Percent",t.Equal="Equal",t.GreaterThan="GreaterThan",t.LessThan="LessThan",t.GreaterEqual="GreaterEqual",t.LessEqual="LessEqual",t.EqualEqual="EqualEqual",t.NotEqual="NotEqual",t.Scenario="Scenario",t.Variable="Variable",t.Assumption="Assumption",t.Parameter="Parameter",t.Constant="Constant",t.Branch="Branch",t.Impact="Impact",t.Simulate="Simulate",t.Watch="Watch",t.Calibrate="Calibrate",t.Bind="Bind",t.Import="Import",t.Export="Export",t.As="As",t.When="When",t.If="If",t.Else="Else",t.And="And",t.Or="Or",t.Not="Not",t.On="On",t.By="By",t.From="From",t.To="To",t.At="At",t.Between="Between",t.True="True",t.False="False",t.Warn="Warn",t.Error="Error",t.Fork="Fork",t.Normal="Normal",t.Uniform="Uniform",t.Beta="Beta",t.Triangular="Triangular",t.Lognormal="Lognormal",t.Custom="Custom",t.Linear="Linear",t.Logistic="Logistic",t.Exponential="Exponential",t.Sigmoid="Sigmoid",t.Polynomial="Polynomial",t.Yearly="Yearly",t.Monthly="Monthly",t.Weekly="Weekly",t.Daily="Daily",t.Timeframe="Timeframe",t.Resolution="Resolution",t.Confidence="Confidence",t.Author="Author",t.Version="Version",t.Description="Description",t.Tags="Tags",t.DependsOn="DependsOn",t.Model="Model",t.Uncertainty="Uncertainty",t.Unit="Unit",t.Interpolation="Interpolation",t.Value="Value",t.Source="Source",t.Range="Range",t.Probability="Probability",t.Runs="Runs",t.Method="Method",t.Seed="Seed",t.Output="Output",t.Percentiles="Percentiles",t.Convergence="Convergence",t.Timeout="Timeout",t.Refresh="Refresh",t.Field="Field",t.Transform="Transform",t.Fallback="Fallback",t.Historical="Historical",t.Window="Window",t.Prior="Prior",t.UpdateFrequency="UpdateFrequency",t.Recalculate="Recalculate",t.Notify="Notify",t.Suggest="Suggest",t.OnTrigger="OnTrigger",t.DerivesFrom="DerivesFrom",t.Formula="Formula",t.Compose="Compose",t.Label="Label",t.Step="Step",t.Format="Format",t.Control="Control",t.Icon="Icon",t.Color="Color",t.Category="Category",t.Subtitle="Subtitle",t.Difficulty="Difficulty",t.MonteCarlo="MonteCarlo",t.LatinHypercube="LatinHypercube",t.Sobol="Sobol",t.BayesianUpdate="BayesianUpdate",t.MaximumLikelihood="MaximumLikelihood",t.Ensemble="Ensemble",t.Distribution="Distribution",t.Summary="Summary",t.Full="Full",t.EOF="EOF",t.Newline="Newline",t))(S||{});const Dse={scenario:S.Scenario,variable:S.Variable,assumption:S.Assumption,parameter:S.Parameter,constant:S.Constant,branch:S.Branch,impact:S.Impact,simulate:S.Simulate,watch:S.Watch,calibrate:S.Calibrate,bind:S.Bind,import:S.Import,export:S.Export,as:S.As,when:S.When,if:S.If,else:S.Else,and:S.And,or:S.Or,not:S.Not,on:S.On,by:S.By,from:S.From,to:S.To,at:S.At,between:S.Between,true:S.True,false:S.False,warn:S.Warn,error:S.Error,fork:S.Fork,normal:S.Normal,uniform:S.Uniform,beta:S.Beta,triangular:S.Triangular,lognormal:S.Lognormal,custom:S.Custom,linear:S.Linear,logistic:S.Logistic,exponential:S.Exponential,sigmoid:S.Sigmoid,polynomial:S.Polynomial,yearly:S.Yearly,monthly:S.Monthly,weekly:S.Weekly,daily:S.Daily,timeframe:S.Timeframe,resolution:S.Resolution,confidence:S.Confidence,author:S.Author,version:S.Version,description:S.Description,tags:S.Tags,depends_on:S.DependsOn,model:S.Model,uncertainty:S.Uncertainty,unit:S.Unit,interpolation:S.Interpolation,value:S.Value,source:S.Source,range:S.Range,probability:S.Probability,runs:S.Runs,method:S.Method,seed:S.Seed,output:S.Output,percentiles:S.Percentiles,convergence:S.Convergence,timeout:S.Timeout,refresh:S.Refresh,field:S.Field,transform:S.Transform,fallback:S.Fallback,historical:S.Historical,window:S.Window,prior:S.Prior,update_frequency:S.UpdateFrequency,recalculate:S.Recalculate,notify:S.Notify,suggest:S.Suggest,on_trigger:S.OnTrigger,derives_from:S.DerivesFrom,formula:S.Formula,compose:S.Compose,label:S.Label,step:S.Step,format:S.Format,control:S.Control,icon:S.Icon,color:S.Color,category:S.Category,subtitle:S.Subtitle,difficulty:S.Difficulty,monte_carlo:S.MonteCarlo,latin_hypercube:S.LatinHypercube,sobol:S.Sobol,bayesian_update:S.BayesianUpdate,maximum_likelihood:S.MaximumLikelihood,ensemble:S.Ensemble,distribution:S.Distribution,summary:S.Summary,full:S.Full},$k=new Set(["EUR","USD","GBP","CHF","JPY","CNY"]),Nse=new Set(["K","M","B","T"]);class Lse{constructor(e){Tt(this,"source");Tt(this,"pos",0);Tt(this,"line",1);Tt(this,"column",1);Tt(this,"tokens",[]);Tt(this,"diagnostics",[]);this.source=e}tokenize(){for(;!this.isAtEnd()&&(this.skipWhitespaceAndComments(),!this.isAtEnd());){const e=this.readToken();e&&this.tokens.push(e)}return this.tokens.push(this.makeToken(S.EOF,"",this.currentLocation())),{tokens:this.tokens,diagnostics:this.diagnostics}}readToken(){const e=this.currentLocation(),n=this.peek();if(n==='"')return this.readString();if(this.isDigit(n))return this.readNumberOrDate();if(n===""||n==="+"&&this.peekAt(1)==="/"&&this.peekAt(2)==="-")return n===""?(this.advance(),this.makeToken(S.PlusMinus,"",e)):(this.advance(),this.advance(),this.advance(),this.makeToken(S.PlusMinus,"",e));if(n==="-"&&this.peekAt(1)===">")return this.advance(),this.advance(),this.makeToken(S.Arrow,"->",e);if(n===">"&&this.peekAt(1)==="=")return this.advance(),this.advance(),this.makeToken(S.GreaterEqual,">=",e);if(n==="<"&&this.peekAt(1)==="=")return this.advance(),this.advance(),this.makeToken(S.LessEqual,"<=",e);if(n==="="&&this.peekAt(1)==="=")return this.advance(),this.advance(),this.makeToken(S.EqualEqual,"==",e);if(n==="=")return this.advance(),this.makeToken(S.Equal,"=",e);if(n==="!"&&this.peekAt(1)==="=")return this.advance(),this.advance(),this.makeToken(S.NotEqual,"!=",e);switch(n){case"{":return this.advance(),this.makeToken(S.LeftBrace,"{",e);case"}":return this.advance(),this.makeToken(S.RightBrace,"}",e);case"[":return this.advance(),this.makeToken(S.LeftBracket,"[",e);case"]":return this.advance(),this.makeToken(S.RightBracket,"]",e);case"(":return this.advance(),this.makeToken(S.LeftParen,"(",e);case")":return this.advance(),this.makeToken(S.RightParen,")",e);case":":return this.advance(),this.makeToken(S.Colon,":",e);case",":return this.advance(),this.makeToken(S.Comma,",",e);case".":return this.advance(),this.makeToken(S.Dot,".",e);case"+":return this.advance(),this.makeToken(S.Plus,"+",e);case"-":return this.advance(),this.makeToken(S.Minus,"-",e);case"*":return this.advance(),this.makeToken(S.Star,"*",e);case"/":return this.advance(),this.makeToken(S.Slash,"/",e);case"^":return this.advance(),this.makeToken(S.Caret,"^",e);case"%":return this.advance(),this.makeToken(S.Percent,"%",e);case">":return this.advance(),this.makeToken(S.GreaterThan,">",e);case"<":return this.advance(),this.makeToken(S.LessThan,"<",e)}return this.isAlpha(n)?this.readIdentifierOrKeyword():(this.diagnostics.push({code:"SDL-E001",severity:"error",message:`Unexpected character: '${n}'`,span:{start:e,end:this.currentLocation()}}),this.advance(),null)}readString(){const e=this.currentLocation();this.advance();let n="";for(;!this.isAtEnd()&&this.peek()!=='"';){if(this.peek()==="\\"){this.advance();const r=this.peek();switch(r){case'"':n+='"';break;case"\\":n+="\\";break;case"n":n+=`
`;break;case"t":n+="	";break;default:n+=r}}else n+=this.peek();this.advance()}return this.isAtEnd()?this.diagnostics.push({code:"SDL-E001",severity:"error",message:"Unterminated string literal",span:{start:e,end:this.currentLocation()}}):this.advance(),this.makeToken(S.String,n,e)}readNumberOrDate(){const e=this.currentLocation();let n="";for(;!this.isAtEnd()&&this.isDigit(this.peek());)n+=this.peek(),this.advance();if(n.length===4&&this.peek()==="-"&&this.isDigit(this.peekAt(1)))return this.readDate(n,e);if(this.peek()==="."&&this.isDigit(this.peekAt(1)))for(n+=".",this.advance();!this.isAtEnd()&&this.isDigit(this.peek());)n+=this.peek(),this.advance();if(this.peek()==="%")return n+="%",this.advance(),this.makeToken(S.Percentage,n,e);if(Nse.has(this.peek())){const o=this.peek(),s=this.pos;this.advance();const l=this.peek(),c=!this.isAlphaNumeric(l)||l===" "||l==="	"||l===`
`||l==="\r";if(this.skipInlineWhitespace(),this.isAlpha(this.peek())){let u="";for(;!this.isAtEnd()&&this.isAlpha(this.peek());)u+=this.peek(),this.advance();if($k.has(u))return this.makeToken(S.Currency,`${n}${o} ${u}`,e);this.pos=s+1,this.recalculatePosition()}if(c){const u={K:1e3,M:1e6,B:1e9,T:1e12},f=parseFloat(n)*u[o];return this.makeToken(S.Number,String(f),e)}this.pos=s,this.recalculatePosition()}const r=this.pos,i=this.line,a=this.column;if(this.skipInlineWhitespace(),this.isAlpha(this.peek())){let o="";for(;!this.isAtEnd()&&this.isAlpha(this.peek());)o+=this.peek(),this.advance();if($k.has(o))return this.makeToken(S.Currency,`${n} ${o}`,e);this.pos=r,this.line=i,this.column=a}else this.pos=r,this.line=i,this.column=a;if(!this.isAtEnd()&&"ymwds".includes(this.peek())&&!this.isAlpha(this.peekAt(1))){const o=this.peek();return this.advance(),this.makeToken(S.Duration,`${n}${o}`,e)}return this.makeToken(S.Number,n,e)}readDate(e,n){let r=e;for(r+="-",this.advance();!this.isAtEnd()&&this.isDigit(this.peek());)r+=this.peek(),this.advance();if(this.peek()==="-"&&this.isDigit(this.peekAt(1)))for(r+="-",this.advance();!this.isAtEnd()&&this.isDigit(this.peek());)r+=this.peek(),this.advance();return this.makeToken(S.Date,r,n)}readIdentifierOrKeyword(){const e=this.currentLocation();let n="";for(;!this.isAtEnd()&&(this.isAlphaNumeric(this.peek())||this.peek()==="_");)n+=this.peek(),this.advance();if(n==="true")return this.makeToken(S.True,n,e);if(n==="false")return this.makeToken(S.False,n,e);const r=Dse[n];return r?this.makeToken(r,n,e):this.makeToken(S.Identifier,n,e)}skipWhitespaceAndComments(){for(;!this.isAtEnd();){const e=this.peek();if(e===" "||e==="	"||e==="\r"){this.advance();continue}if(e===`
`){this.advance();continue}if(e==="/"&&this.peekAt(1)==="/"){for(;!this.isAtEnd()&&this.peek()!==`
`;)this.advance();continue}if(e==="/"&&this.peekAt(1)==="*"){for(this.advance(),this.advance();!this.isAtEnd()&&!(this.peek()==="*"&&this.peekAt(1)==="/");)this.advance();this.isAtEnd()||(this.advance(),this.advance());continue}break}}skipInlineWhitespace(){for(;!this.isAtEnd()&&(this.peek()===" "||this.peek()==="	");)this.advance()}peek(){return this.isAtEnd()?"\0":this.source[this.pos]}peekAt(e){const n=this.pos+e;return n>=this.source.length?"\0":this.source[n]}advance(){const e=this.source[this.pos];return this.pos++,e===`
`?(this.line++,this.column=1):this.column++,e}isAtEnd(){return this.pos>=this.source.length}isDigit(e){return e>="0"&&e<="9"}isAlpha(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"||e==="_"}isAlphaNumeric(e){return this.isDigit(e)||this.isAlpha(e)}currentLocation(){return{line:this.line,column:this.column,offset:this.pos}}makeToken(e,n,r){return{type:e,value:n,span:{start:r,end:this.currentLocation()}}}recalculatePosition(){this.line=1,this.column=1;for(let e=0;e<this.pos;e++)this.source[e]===`
`?(this.line++,this.column=1):this.column++}}function Bse(t){return new Lse(t).tokenize()}let Zse=class{constructor(e){Tt(this,"tokens");Tt(this,"pos",0);Tt(this,"diagnostics",[]);this.tokens=e}parse(){try{return{ast:this.parseScenario(),diagnostics:this.diagnostics}}catch(e){return e instanceof Kt&&this.diagnostics.push(e.diagnostic),{ast:null,diagnostics:this.diagnostics}}}parseScenario(){const e=[];for(;this.check(S.Import);)e.push(this.parseImport());const n=this.current().span.start;this.expect(S.Scenario);const r=this.expectString();this.expect(S.LeftBrace);const i={},a=[...e];for(;!this.check(S.RightBrace)&&!this.check(S.EOF);)if(this.isMetadataKey())this.parseMetadata(i);else{const o=this.parseDeclaration();o&&a.push(o)}return this.expect(S.RightBrace),{type:"Scenario",name:r,metadata:i,declarations:a,span:this.spanFrom(n)}}isMetadataKey(){const e=this.current().type;return[S.Timeframe,S.Resolution,S.Confidence,S.Author,S.Version,S.Description,S.Tags,S.Subtitle,S.Category,S.Icon,S.Color,S.Difficulty].includes(e)}parseMetadata(e){switch(this.current().type){case S.Timeframe:{this.advance(),this.expect(S.Colon);const r=this.parseDate();this.expect(S.Arrow);const i=this.parseDate();e.timeframe={start:r,end:i};break}case S.Resolution:{this.advance(),this.expect(S.Colon),e.resolution=this.parseResolution();break}case S.Confidence:{this.advance(),this.expect(S.Colon),e.confidence=this.expectNumber();break}case S.Author:{this.advance(),this.expect(S.Colon),e.author=this.expectString();break}case S.Version:{this.advance(),this.expect(S.Colon),e.version=this.expectString();break}case S.Description:{this.advance(),this.expect(S.Colon),e.description=this.expectString();break}case S.Tags:{this.advance(),this.expect(S.Colon),e.tags=this.parseStringArray();break}case S.Subtitle:{this.advance(),this.expect(S.Colon),e.subtitle=this.expectString();break}case S.Category:{this.advance(),this.expect(S.Colon),e.category=this.check(S.String)?this.expectString():this.expectIdentifier();break}case S.Icon:{this.advance(),this.expect(S.Colon),e.icon=this.expectString();break}case S.Color:{this.advance(),this.expect(S.Colon),e.color=this.expectString();break}case S.Difficulty:{this.advance(),this.expect(S.Colon),e.difficulty=this.check(S.String)?this.expectString():this.expectIdentifier();break}}}parseDeclaration(){switch(this.current().type){case S.Variable:return this.parseVariable();case S.Assumption:return this.parseAssumption();case S.Parameter:return this.parseParameter();case S.Branch:return this.parseBranch();case S.Impact:return this.parseImpact();case S.Simulate:return this.parseSimulate();case S.Watch:return this.parseWatch();case S.Calibrate:return this.parseCalibrate();case S.Import:return this.parseImport();default:return this.diagnostics.push({code:"SDL-E001",severity:"error",message:`Unexpected token: ${this.current().value}`,span:this.current().span}),this.advance(),null}}parseVariable(){const e=this.current().span.start;this.expect(S.Variable);const n=this.expectIdentifier();this.expect(S.LeftBrace);const r={type:"Variable",name:n,timeseries:[],span:{start:e,end:e}};for(;!this.check(S.RightBrace)&&!this.check(S.EOF);)if(this.check(S.Description))this.advance(),this.expect(S.Colon),r.description=this.expectString();else if(this.check(S.Unit))this.advance(),this.expect(S.Colon),r.unit=this.expectString();else if(this.check(S.Label))this.advance(),this.expect(S.Colon),r.label=this.expectString();else if(this.check(S.Icon))this.advance(),this.expect(S.Colon),r.icon=this.expectString();else if(this.check(S.Color))this.advance(),this.expect(S.Colon),r.color=this.expectString();else if(this.check(S.DependsOn))this.advance(),this.expect(S.Colon),r.dependsOn=this.parseIdentifierList();else if(this.check(S.Model))this.advance(),this.expect(S.Colon),r.model=this.parseModelExpression();else if(this.check(S.Uncertainty))this.advance(),this.expect(S.Colon),r.uncertainty=this.parseDistributionExpression();else if(this.check(S.Interpolation))this.advance(),this.expect(S.Colon),r.interpolation=this.parseInterpolation();else if(this.check(S.Number)||this.check(S.Date)){const i=this.parseTimeseriesEntry();r.timeseries.push(i)}else this.diagnostics.push({code:"SDL-E001",severity:"error",message:`Unexpected token in variable block: ${this.current().value}`,span:this.current().span}),this.advance();return this.expect(S.RightBrace),r.span=this.spanFrom(e),r}parseTimeseriesEntry(){const e=this.parseDate();if(this.expect(S.Colon),this.check(S.LeftBrace)){const r=this.parseRecordExpression();return{date:e,value:r}}const n=this.parseExpression();return{date:e,value:n}}parseAssumption(){const e=this.current().span.start;this.expect(S.Assumption);const n=this.expectIdentifier();this.expect(S.LeftBrace);const r={type:"Assumption",name:n,span:{start:e,end:e}};for(;!this.check(S.RightBrace)&&!this.check(S.EOF);)this.check(S.Value)?(this.advance(),this.expect(S.Colon),r.value=this.parseExpression(),this.check(S.By)&&(this.advance(),r.byDate=this.parseDate())):this.check(S.Source)?(this.advance(),this.expect(S.Colon),r.source=this.expectString()):this.check(S.Confidence)?(this.advance(),this.expect(S.Colon),r.confidence=this.expectNumber()):this.check(S.Uncertainty)?(this.advance(),this.expect(S.Colon),r.uncertainty=this.parseDistributionExpression()):this.check(S.Bind)?r.bind=this.parseBindBlock():this.check(S.Watch)?r.watch=this.parseWatchBlock():this.advance();return this.expect(S.RightBrace),r.span=this.spanFrom(e),r}parseParameter(){const e=this.current().span.start;this.expect(S.Parameter);const n=this.expectIdentifier();this.expect(S.LeftBrace);const r={type:"Parameter",name:n,span:{start:e,end:e}};for(;!this.check(S.RightBrace)&&!this.check(S.EOF);)if(this.check(S.Value))this.advance(),this.expect(S.Colon),r.value=this.parseExpression();else if(this.check(S.Range)){this.advance(),this.expect(S.Colon),this.expect(S.LeftBracket);const i=this.parseExpression();this.expect(S.Comma);const a=this.parseExpression();this.expect(S.RightBracket),r.range={min:i,max:a}}else this.check(S.Description)?(this.advance(),this.expect(S.Colon),r.description=this.expectString()):this.check(S.Label)?(this.advance(),this.expect(S.Colon),r.label=this.expectString()):this.check(S.Unit)?(this.advance(),this.expect(S.Colon),r.unit=this.expectString()):this.check(S.Step)?(this.advance(),this.expect(S.Colon),r.step=this.parseExpression()):this.check(S.Source)?(this.advance(),this.expect(S.Colon),r.source=this.expectString()):this.check(S.Format)?(this.advance(),this.expect(S.Colon),r.format=this.expectString()):this.check(S.Control)?(this.advance(),this.expect(S.Colon),r.control=this.check(S.String)?this.expectString():this.expectIdentifier()):this.check(S.Icon)?(this.advance(),this.expect(S.Colon),r.icon=this.expectString()):this.check(S.Color)?(this.advance(),this.expect(S.Colon),r.color=this.expectString()):this.advance();return this.expect(S.RightBrace),r.span=this.spanFrom(e),r}parseBranch(){const e=this.current().span.start;this.expect(S.Branch);const n=this.expectString();this.expect(S.When);const r=this.parseExpression();this.expect(S.LeftBrace);const i={type:"Branch",name:n,condition:r,declarations:[],span:{start:e,end:e}};for(;!this.check(S.RightBrace)&&!this.check(S.EOF);)if(this.check(S.Probability))this.advance(),this.expect(S.Colon),i.probability=this.expectNumber();else if(this.check(S.Fork))this.advance(),this.expect(S.Colon),this.expect(S.Scenario),i.fork=this.expectString();else{const a=this.parseDeclaration();a&&i.declarations.push(a)}return this.expect(S.RightBrace),i.span=this.spanFrom(e),i}parseImpact(){const e=this.current().span.start;if(this.expect(S.Impact),this.check(S.On)){this.advance(),this.expect(S.Colon),this.expect(S.LeftBracket);const i=this.parseIdentifierList();return this.expect(S.RightBracket),{type:"Impact",name:"_list",derivesFrom:i,span:this.spanFrom(e)}}const n=this.expectIdentifier();this.expect(S.LeftBrace);const r={type:"Impact",name:n,span:{start:e,end:e}};for(;!this.check(S.RightBrace)&&!this.check(S.EOF);)this.check(S.Description)?(this.advance(),this.expect(S.Colon),r.description=this.expectString()):this.check(S.Unit)?(this.advance(),this.expect(S.Colon),r.unit=this.expectString()):this.check(S.Label)?(this.advance(),this.expect(S.Colon),r.label=this.expectString()):this.check(S.Icon)?(this.advance(),this.expect(S.Colon),r.icon=this.expectString()):this.check(S.Color)?(this.advance(),this.expect(S.Colon),r.color=this.expectString()):this.check(S.DerivesFrom)?(this.advance(),this.expect(S.Colon),r.derivesFrom=this.parseIdentifierList()):this.check(S.Formula)?(this.advance(),this.expect(S.Colon),r.formula=this.parseExpression()):this.advance();return this.expect(S.RightBrace),r.span=this.spanFrom(e),r}parseSimulate(){const e=this.current().span.start;this.expect(S.Simulate),this.expect(S.LeftBrace);const n={type:"Simulate",span:{start:e,end:e}};for(;!this.check(S.RightBrace)&&!this.check(S.EOF);)this.check(S.Runs)?(this.advance(),this.expect(S.Colon),n.runs=this.expectNumber()):this.check(S.Method)?(this.advance(),this.expect(S.Colon),n.method=this.parseSimulationMethod()):this.check(S.Seed)?(this.advance(),this.expect(S.Colon),n.seed=this.expectNumber()):this.check(S.Output)?(this.advance(),this.expect(S.Colon),n.output=this.parseOutputType()):this.check(S.Percentiles)?(this.advance(),this.expect(S.Colon),n.percentiles=this.parseNumberArray()):this.check(S.Convergence)?(this.advance(),this.expect(S.Colon),n.convergence=this.expectNumber()):this.check(S.Timeout)?(this.advance(),this.expect(S.Colon),n.timeout=this.parseDuration()):this.advance();return this.expect(S.RightBrace),n.span=this.spanFrom(e),n}parseWatch(){const e=this.current().span.start;this.expect(S.Watch);const n=this.expectIdentifier();return this.expect(S.LeftBrace),this.parseWatchBody(n,e)}parseWatchBlock(){const e=this.current().span.start;return this.expect(S.Watch),this.expect(S.LeftBrace),this.parseWatchBody(void 0,e)}parseWatchBody(e,n){const r=[];let i;for(;!this.check(S.RightBrace)&&!this.check(S.EOF);)if(this.check(S.Warn)||this.check(S.Error)){const a=this.current().type===S.Warn?"warn":"error";this.advance(),this.expect(S.When),this.expect(S.Colon);const o=this.parseExpression();r.push({severity:a,condition:o})}else if(this.check(S.OnTrigger)){for(this.advance(),this.expect(S.LeftBrace),i={};!this.check(S.RightBrace)&&!this.check(S.EOF);)this.check(S.Recalculate)?(this.advance(),this.expect(S.Colon),i.recalculate=this.expectBoolean()):this.check(S.Notify)?(this.advance(),this.expect(S.Colon),i.notify=this.parseStringArray()):this.check(S.Suggest)?(this.advance(),this.expect(S.Colon),i.suggest=this.expectString()):this.advance();this.expect(S.RightBrace)}else this.advance();return this.expect(S.RightBrace),{type:"Watch",target:e,rules:r,onTrigger:i,span:this.spanFrom(n)}}parseCalibrate(){const e=this.current().span.start;this.expect(S.Calibrate);const n=this.expectIdentifier();this.expect(S.LeftBrace);const r={type:"Calibrate",target:n,span:{start:e,end:e}};for(;!this.check(S.RightBrace)&&!this.check(S.EOF);)this.check(S.Historical)?(this.advance(),this.expect(S.Colon),r.historical=this.expectString()):this.check(S.Method)?(this.advance(),this.expect(S.Colon),r.method=this.parseCalibrationMethod()):this.check(S.Window)?(this.advance(),this.expect(S.Colon),r.window=this.parseDuration()):this.check(S.Prior)?(this.advance(),this.expect(S.Colon),r.prior=this.parseDistributionExpression()):this.check(S.UpdateFrequency)?(this.advance(),this.expect(S.Colon),r.updateFrequency=this.parseRefreshRate()):this.advance();return this.expect(S.RightBrace),r.span=this.spanFrom(e),r}parseBindBlock(){const e=this.current().span.start;this.expect(S.Bind),this.expect(S.LeftBrace);const n={type:"Bind",span:{start:e,end:e}};for(;!this.check(S.RightBrace)&&!this.check(S.EOF);)this.check(S.Source)?(this.advance(),this.expect(S.Colon),n.source=this.expectString()):this.check(S.Refresh)?(this.advance(),this.expect(S.Colon),n.refresh=this.parseRefreshRate()):this.check(S.Field)?(this.advance(),this.expect(S.Colon),n.field=this.expectString()):this.check(S.Transform)?(this.advance(),this.expect(S.Colon),n.transform=this.parseExpression()):this.check(S.Fallback)?(this.advance(),this.expect(S.Colon),n.fallback=this.parseExpression()):this.advance();return this.expect(S.RightBrace),n.span=this.spanFrom(e),n}parseImport(){const e=this.current().span.start;this.expect(S.Import);const n=this.expectString();this.expect(S.As);const r=this.expectIdentifier();return{type:"Import",path:n,alias:r,span:this.spanFrom(e)}}parseExpression(){return this.parseOr()}parseOr(){let e=this.parseAnd();for(;this.check(S.Or);){const n=e.span.start;this.advance();const r=this.parseAnd();e={type:"BinaryExpression",operator:"or",left:e,right:r,span:this.spanFrom(n)}}return e}parseAnd(){let e=this.parseComparison();for(;this.check(S.And);){const n=e.span.start;this.advance();const r=this.parseComparison();e={type:"BinaryExpression",operator:"and",left:e,right:r,span:this.spanFrom(n)}}return e}parseComparison(){let e=this.parseAddition();if(this.check(S.GreaterThan)||this.check(S.LessThan)||this.check(S.GreaterEqual)||this.check(S.LessEqual)||this.check(S.EqualEqual)||this.check(S.NotEqual)){const n=e.span.start,r=this.current().value;this.advance();const i=this.parseAddition();e={type:"BinaryExpression",operator:r,left:e,right:i,span:this.spanFrom(n)}}return e}parseAddition(){let e=this.parseMultiplication();for(;this.check(S.Plus)||this.check(S.Minus);){const n=e.span.start,r=this.current().value;this.advance();const i=this.parseMultiplication();e={type:"BinaryExpression",operator:r,left:e,right:i,span:this.spanFrom(n)}}return e}parseMultiplication(){let e=this.parsePower();for(;this.check(S.Star)||this.check(S.Slash)||this.check(S.Percent);){const n=e.span.start,r=this.current().value;this.advance();const i=this.parsePower();e={type:"BinaryExpression",operator:r,left:e,right:i,span:this.spanFrom(n)}}return e}parsePower(){let e=this.parseUnary();for(;this.check(S.Caret);){const n=e.span.start;this.advance();const r=this.parseUnary();e={type:"BinaryExpression",operator:"^",left:e,right:r,span:this.spanFrom(n)}}return e}parseUnary(){if(this.check(S.Minus)){const e=this.current().span.start;return this.advance(),{type:"UnaryExpression",operator:"-",operand:this.parsePrimary(),span:this.spanFrom(e)}}if(this.check(S.Not)){const e=this.current().span.start;return this.advance(),{type:"UnaryExpression",operator:"not",operand:this.parsePrimary(),span:this.spanFrom(e)}}return this.check(S.PlusMinus)?this.parseDistributionExpression():this.parsePrimary()}parsePrimary(){const e=this.current();switch(e.type){case S.Number:return this.advance(),{type:"NumberLiteral",value:parseFloat(e.value),span:e.span};case S.Percentage:return this.advance(),{type:"PercentageLiteral",value:parseFloat(e.value.replace("%","")),span:e.span};case S.Currency:{this.advance();const n=e.value.split(" ");let r=n[0];const i=n[n.length-1];let a;const o=r[r.length-1];"KMBT".includes(o)&&(a=o,r=r.slice(0,-1));let s=parseFloat(r);return a&&(s*={K:1e3,M:1e6,B:1e9,T:1e12}[a]),{type:"CurrencyLiteral",value:s,currency:i,magnitude:a,span:e.span}}case S.String:return this.advance(),{type:"StringLiteral",value:e.value,span:e.span};case S.True:case S.False:return this.advance(),{type:"BooleanLiteral",value:e.type===S.True,span:e.span};case S.LeftParen:{this.advance();const n=this.parseExpression();return this.expect(S.RightParen),n}case S.LeftBrace:return this.parseRecordExpression();case S.LeftBracket:return this.parseArrayExpression();case S.Normal:case S.Uniform:case S.Beta:case S.Triangular:case S.Lognormal:case S.Custom:return this.parseDistributionExpression();case S.Identifier:return this.parseIdentifierOrCall();default:throw new Kt({code:"SDL-E001",severity:"error",message:`Unexpected token: ${e.value} (${e.type})`,span:e.span})}}parseIdentifierOrCall(){const e=this.current().span.start,n=this.expectIdentifier();if(this.check(S.LeftParen)){this.advance();const r=[];if(!this.check(S.RightParen))for(r.push(this.parseExpression());this.check(S.Comma);)this.advance(),r.push(this.parseExpression());return this.expect(S.RightParen),{type:"FunctionCall",name:n,arguments:r,span:this.spanFrom(e)}}if(this.check(S.Dot)){const r=[n];for(;this.check(S.Dot);)this.advance(),r.push(this.expectIdentifier());return{type:"QualifiedIdentifier",parts:r,span:this.spanFrom(e)}}return{type:"Identifier",name:n,span:this.spanFrom(e)}}parseDistributionExpression(){var s,l;const e=this.current().span.start;if(this.check(S.PlusMinus))return this.advance(),{type:"DistributionExpression",distribution:"normal",params:[this.parseExpression()],span:this.spanFrom(e)};const n=this.current(),i={[S.Normal]:"normal",[S.Uniform]:"uniform",[S.Beta]:"beta",[S.Triangular]:"triangular",[S.Lognormal]:"lognormal",[S.Custom]:"custom"}[n.type];if(!i)throw new Kt({code:"SDL-E001",severity:"error",message:`Expected distribution type, got: ${n.value}`,span:n.span});this.advance(),this.expect(S.LeftParen);const a=[],o=[];if(!this.check(S.RightParen))if(this.check(S.PlusMinus))this.advance(),a.push(this.parseExpression());else if(this.check(S.Identifier)&&(((s=this.peekNext())==null?void 0:s.type)===S.Equal||((l=this.peekNext())==null?void 0:l.type)===S.EqualEqual))for(;!this.check(S.RightParen)&&!this.check(S.EOF);){const c=this.expectIdentifier();this.advance();const u=this.parseExpression();o.push({name:c,value:u}),this.check(S.Comma)&&this.advance()}else for(a.push(this.parseExpression());this.check(S.Comma);)this.advance(),a.push(this.parseExpression());return this.expect(S.RightParen),{type:"DistributionExpression",distribution:i,params:a,namedParams:o.length>0?o:void 0,span:this.spanFrom(e)}}parseModelExpression(){const e=this.current().span.start,n=this.current(),i={[S.Linear]:"linear",[S.Logistic]:"logistic",[S.Exponential]:"exponential",[S.Sigmoid]:"sigmoid",[S.Polynomial]:"polynomial"}[n.type];if(!i)throw new Kt({code:"SDL-E001",severity:"error",message:`Expected model type, got: ${n.value}`,span:n.span});this.advance(),this.expect(S.LeftParen);const a=[];if(!this.check(S.RightParen))do{const o=this.expectIdentifier();this.check(S.Equal)||this.check(S.EqualEqual)?this.advance():this.expect(S.Equal);const s=this.parseExpression();a.push({name:o,value:s})}while(this.check(S.Comma)&&(this.advance(),!0));return this.expect(S.RightParen),{type:"ModelExpression",model:i,params:a,span:this.spanFrom(e)}}parseRecordExpression(){const e=this.current().span.start;this.expect(S.LeftBrace);const n=[];for(;!this.check(S.RightBrace)&&!this.check(S.EOF);){const r=this.expectIdentifier();this.expect(S.Colon);const i=this.parseExpression();n.push({key:r,value:i}),this.check(S.Comma)&&this.advance()}return this.expect(S.RightBrace),{type:"RecordExpression",fields:n,span:this.spanFrom(e)}}parseArrayExpression(){const e=this.current().span.start;this.expect(S.LeftBracket);const n=[];for(;!this.check(S.RightBracket)&&!this.check(S.EOF);)n.push(this.parseExpression()),this.check(S.Comma)&&this.advance();return this.expect(S.RightBracket),{type:"ArrayExpression",elements:n,span:this.spanFrom(e)}}parseDate(){const e=this.current();if(e.type===S.Date){this.advance();const n=e.value.split("-").map(Number);return{year:n[0],month:n[1],day:n[2]}}if(e.type===S.Number)return this.advance(),{year:parseInt(e.value,10)};throw new Kt({code:"SDL-E001",severity:"error",message:`Expected date, got: ${e.value}`,span:e.span})}parseDuration(){const e=this.current();if(e.type===S.Duration){this.advance();const i=e.value[e.value.length-1];return{amount:parseFloat(e.value.slice(0,-1)),unit:i}}const n=this.expectNumber(),r=this.current();return r.type===S.Identifier&&"ymwds".includes(r.value)?(this.advance(),{amount:n,unit:r.value}):{amount:n,unit:"s"}}parseResolution(){const e=this.current(),r={[S.Yearly]:"yearly",[S.Monthly]:"monthly",[S.Weekly]:"weekly",[S.Daily]:"daily"}[e.type];if(r)return this.advance(),r;throw new Kt({code:"SDL-E001",severity:"error",message:`Expected resolution (yearly/monthly/weekly/daily), got: ${e.value}`,span:e.span})}parseSimulationMethod(){const e=this.current(),r={[S.MonteCarlo]:"monte_carlo",[S.LatinHypercube]:"latin_hypercube",[S.Sobol]:"sobol"}[e.type];if(r)return this.advance(),r;throw new Kt({code:"SDL-E001",severity:"error",message:`Expected simulation method, got: ${e.value}`,span:e.span})}parseOutputType(){const e=this.current(),r={[S.Distribution]:"distribution",[S.Percentiles]:"percentiles",[S.Summary]:"summary",[S.Full]:"full"}[e.type];if(r)return this.advance(),r;throw new Kt({code:"SDL-E001",severity:"error",message:`Expected output type, got: ${e.value}`,span:e.span})}parseCalibrationMethod(){const e=this.current(),r={[S.BayesianUpdate]:"bayesian_update",[S.MaximumLikelihood]:"maximum_likelihood",[S.Ensemble]:"ensemble"}[e.type];if(r)return this.advance(),r;throw new Kt({code:"SDL-E001",severity:"error",message:`Expected calibration method, got: ${e.value}`,span:e.span})}parseRefreshRate(){const e=this.current(),n=["realtime","hourly","daily","weekly","monthly"];if(e.type===S.Identifier&&n.includes(e.value))return this.advance(),e.value;const i={[S.Daily]:"daily",[S.Weekly]:"weekly",[S.Monthly]:"monthly",[S.Yearly]:"yearly"}[e.type];if(i)return this.advance(),i;throw new Kt({code:"SDL-E001",severity:"error",message:`Expected refresh rate, got: ${e.value}`,span:e.span})}parseInterpolation(){const e=this.current(),n=["linear","step","spline"];if(e.type===S.Identifier&&n.includes(e.value))return this.advance(),e.value;if(e.type===S.Linear)return this.advance(),"linear";throw new Kt({code:"SDL-E001",severity:"error",message:`Expected interpolation method (linear/step/spline), got: ${e.value}`,span:e.span})}parseIdentifierList(){const e=[];for(e.push(this.parseQualifiedName());this.check(S.Comma);)this.advance(),e.push(this.parseQualifiedName());return e}parseQualifiedName(){let e=this.expectIdentifier();for(;this.check(S.Dot);)this.advance(),e+="."+this.expectIdentifier();return e}parseStringArray(){this.expect(S.LeftBracket);const e=[];if(!this.check(S.RightBracket))for(e.push(this.expectString());this.check(S.Comma);)this.advance(),this.check(S.RightBracket)||e.push(this.expectString());return this.expect(S.RightBracket),e}parseNumberArray(){this.expect(S.LeftBracket);const e=[];if(!this.check(S.RightBracket))for(e.push(this.expectNumber());this.check(S.Comma);)this.advance(),this.check(S.RightBracket)||e.push(this.expectNumber());return this.expect(S.RightBracket),e}current(){return this.tokens[this.pos]||this.tokens[this.tokens.length-1]}peekNext(){return this.tokens[this.pos+1]||null}check(e){return this.current().type===e}advance(){const e=this.current();return this.pos<this.tokens.length-1&&this.pos++,e}expect(e){if(this.check(e))return this.advance();throw new Kt({code:"SDL-E001",severity:"error",message:`Expected ${e}, got ${this.current().type} ("${this.current().value}")`,span:this.current().span})}expectString(){return this.expect(S.String).value}expectNumber(){const e=this.current();if(e.type===S.Number)return this.advance(),parseFloat(e.value);if(e.type===S.Percentage)return this.advance(),parseFloat(e.value.replace("%",""));throw new Kt({code:"SDL-E001",severity:"error",message:`Expected number, got ${e.type} ("${e.value}")`,span:e.span})}expectBoolean(){if(this.check(S.True))return this.advance(),!0;if(this.check(S.False))return this.advance(),!1;throw new Kt({code:"SDL-E001",severity:"error",message:`Expected boolean, got ${this.current().type}`,span:this.current().span})}expectIdentifier(){const e=this.current();if(e.type===S.Identifier)return this.advance(),e.value;if(this.isContextualIdentifier(e.type))return this.advance(),e.value;throw new Kt({code:"SDL-E001",severity:"error",message:`Expected identifier, got ${e.type} ("${e.value}")`,span:e.span})}isContextualIdentifier(e){return[S.Value,S.Source,S.Field,S.Output,S.Method,S.Seed,S.Label,S.Step,S.Format,S.Control,S.Icon,S.Color,S.Category,S.Subtitle,S.Difficulty].includes(e)}spanFrom(e){const n=this.tokens[Math.max(0,this.pos-1)];return{start:e,end:n?n.span.end:e}}};class Kt extends globalThis.Error{constructor(n){super(n.message);Tt(this,"diagnostic");this.diagnostic=n}}function bj(t){const{tokens:e,diagnostics:n}=Bse(t),i=new Zse(e).parse();return i.diagnostics=[...n,...i.diagnostics],i}function xj(t){return new Wse(t).validate()}class Wse{constructor(e){Tt(this,"scenario");Tt(this,"diagnostics",[]);Tt(this,"symbols",new Map);Tt(this,"causalNodes",[]);Tt(this,"causalEdges",[]);this.scenario=e}validate(){this.collectSymbols(),this.validateMetadata(),this.validateDeclarations(),this.buildCausalGraph();const e=this.detectCycles(),n={nodes:this.causalNodes,edges:this.causalEdges,topologicalOrder:e||[]};return{valid:this.diagnostics.filter(r=>r.severity==="error").length===0,diagnostics:this.diagnostics,causalGraph:n}}collectSymbols(){for(const e of this.scenario.declarations){if(!("name"in e))continue;const n=e.name;n!=="_list"&&(this.symbols.has(n)?this.diagnostics.push({code:"SDL-E006",severity:"error",message:`Duplicate declaration: "${n}"`,span:e.span,hint:"Each variable, assumption, and parameter must have a unique name within a scenario."}):this.symbols.set(n,e))}}validateMetadata(){const e=this.scenario.metadata;if(!e.timeframe)this.diagnostics.push({code:"SDL-W001",severity:"warning",message:"Scenario has no timeframe defined. Defaults will be used.",span:this.scenario.span,hint:'Add "timeframe: 2025 -> 2050" to specify the simulation period.'});else{const{start:n,end:r}=e.timeframe;n.year>=r.year&&this.diagnostics.push({code:"SDL-E008",severity:"error",message:`Timeframe start (${n.year}) must be before end (${r.year})`,span:this.scenario.span})}e.confidence!==void 0&&(e.confidence<0||e.confidence>1)&&this.diagnostics.push({code:"SDL-E003",severity:"error",message:`Confidence must be between 0 and 1, got: ${e.confidence}`,span:this.scenario.span})}validateDeclarations(){for(const e of this.scenario.declarations)switch(e.type){case"Variable":this.validateVariable(e);break;case"Assumption":this.validateAssumption(e);break;case"Parameter":this.validateParameter(e);break;case"Branch":this.validateBranch(e);break;case"Impact":this.validateImpact(e);break;case"Simulate":this.validateSimulate(e);break}}validateVariable(e){if(e.dependsOn)for(const n of e.dependsOn){const r=n.split(".")[0];this.symbols.has(r)||this.diagnostics.push({code:"SDL-E005",severity:"error",message:`Variable "${e.name}" depends on undefined symbol: "${n}"`,span:e.span,hint:`Make sure "${r}" is declared as a variable, assumption, or parameter.`})}e.uncertainty||this.diagnostics.push({code:"SDL-W002",severity:"warning",message:`Variable "${e.name}" has no uncertainty defined. It will be treated as deterministic.`,span:e.span,hint:'Add "uncertainty: normal(10%)" to enable Monte Carlo sampling.'}),e.timeseries.length>0&&this.validateTimeseriesOrder(e),e.uncertainty&&this.validateDistribution(e.uncertainty,e.name)}validateTimeseriesOrder(e){for(let n=1;n<e.timeseries.length;n++){const r=e.timeseries[n-1].date,i=e.timeseries[n].date;if(this.dateToNumber(i)<=this.dateToNumber(r)){this.diagnostics.push({code:"SDL-E008",severity:"error",message:`Timeseries entries in "${e.name}" must be in chronological order`,span:e.span});break}}}validateAssumption(e){e.source||this.diagnostics.push({code:"SDL-W001",severity:"warning",message:`Assumption "${e.name}" has no source. Consider adding a reference.`,span:e.span,hint:'Add source: "URL or citation" for traceability.'}),e.confidence!==void 0&&(e.confidence<0||e.confidence>1)&&this.diagnostics.push({code:"SDL-E003",severity:"error",message:`Confidence for "${e.name}" must be between 0 and 1`,span:e.span})}validateParameter(e){if(e.range){const n=this.tryEvalConstant(e.range.min),r=this.tryEvalConstant(e.range.max);n!==null&&r!==null&&n>=r&&this.diagnostics.push({code:"SDL-E003",severity:"error",message:`Parameter "${e.name}" range min (${n}) must be less than max (${r})`,span:e.span})}}validateBranch(e){e.probability!==void 0&&(e.probability<0||e.probability>1)&&this.diagnostics.push({code:"SDL-E003",severity:"error",message:`Branch "${e.name}" probability must be between 0 and 1, got: ${e.probability}`,span:e.span}),this.validateExpressionReferences(e.condition,`branch "${e.name}" condition`)}validateImpact(e){if(e.derivesFrom)for(const n of e.derivesFrom){const r=n.split(".")[0];this.symbols.has(r)||this.diagnostics.push({code:"SDL-E005",severity:"error",message:`Impact "${e.name}" references undefined symbol: "${n}"`,span:e.span})}}validateSimulate(e){if(e.runs!==void 0&&e.runs<1&&this.diagnostics.push({code:"SDL-E003",severity:"error",message:`Simulation runs must be at least 1, got: ${e.runs}`,span:e.span}),e.convergence!==void 0&&((e.convergence<=0||e.convergence>=1)&&this.diagnostics.push({code:"SDL-E003",severity:"error",message:"Convergence threshold must be between 0 and 1 (exclusive)",span:e.span}),e.convergence>.1&&this.diagnostics.push({code:"SDL-W003",severity:"warning",message:`High convergence threshold (${e.convergence}). Results may be imprecise.`,span:e.span,hint:"Consider a threshold of 0.01-0.05 for reliable results."})),e.percentiles)for(const n of e.percentiles)(n<0||n>100)&&this.diagnostics.push({code:"SDL-E003",severity:"error",message:`Percentile values must be between 0 and 100, got: ${n}`,span:e.span})}validateDistribution(e,n){switch(e.distribution){case"beta":{if(e.params.length>=2){const r=this.tryEvalConstant(e.params[0]),i=this.tryEvalConstant(e.params[1]);r!==null&&r<=0&&this.diagnostics.push({code:"SDL-E007",severity:"error",message:`Beta distribution alpha must be > 0 in "${n}"`,span:e.span}),i!==null&&i<=0&&this.diagnostics.push({code:"SDL-E007",severity:"error",message:`Beta distribution beta must be > 0 in "${n}"`,span:e.span})}break}case"uniform":{if(e.params.length>=2){const r=this.tryEvalConstant(e.params[0]),i=this.tryEvalConstant(e.params[1]);r!==null&&i!==null&&r>=i&&this.diagnostics.push({code:"SDL-E007",severity:"error",message:`Uniform distribution min must be < max in "${n}"`,span:e.span})}break}case"triangular":{if(e.params.length>=3){const r=this.tryEvalConstant(e.params[0]),i=this.tryEvalConstant(e.params[1]),a=this.tryEvalConstant(e.params[2]);r!==null&&i!==null&&a!==null&&(r>i||i>a)&&this.diagnostics.push({code:"SDL-E007",severity:"error",message:`Triangular distribution requires min  mode  max in "${n}"`,span:e.span})}break}}}buildCausalGraph(){for(const e of this.scenario.declarations)switch(e.type){case"Variable":{if(this.causalNodes.push({id:e.name,type:"variable"}),e.dependsOn)for(const n of e.dependsOn){const r=n.split(".")[0];this.causalEdges.push({from:r,to:e.name})}break}case"Assumption":{this.causalNodes.push({id:e.name,type:"assumption"});break}case"Parameter":{this.causalNodes.push({id:e.name,type:"parameter"});break}case"Impact":{if(e.name!=="_list"&&(this.causalNodes.push({id:e.name,type:"impact"}),e.derivesFrom))for(const n of e.derivesFrom){const r=n.split(".")[0];this.causalEdges.push({from:r,to:e.name})}break}}}detectCycles(){const e=new Map,n=new Map;for(const a of this.causalNodes)e.set(a.id,[]),n.set(a.id,0);for(const a of this.causalEdges)e.has(a.from)&&(e.get(a.from).push(a.to),n.set(a.to,(n.get(a.to)||0)+1));const r=[];for(const[a,o]of n)o===0&&r.push(a);const i=[];for(;r.length>0;){const a=r.shift();i.push(a);for(const o of e.get(a)||[]){const s=(n.get(o)||0)-1;n.set(o,s),s===0&&r.push(o)}}if(i.length!==this.causalNodes.length){const a=this.causalNodes.filter(o=>!i.includes(o.id)).map(o=>o.id);return this.diagnostics.push({code:"SDL-E004",severity:"error",message:`Cyclic dependency detected involving: ${a.join(", ")}`,span:this.scenario.span,hint:"Variables cannot depend on each other in a circular chain. Review the depends_on declarations."}),null}return i}validateExpressionReferences(e,n){switch(e.type){case"Identifier":{this.symbols.has(e.name)||this.diagnostics.push({code:"SDL-E005",severity:"error",message:`Undefined reference "${e.name}" in ${n}`,span:e.span});break}case"QualifiedIdentifier":{const r=e.parts[0];this.symbols.has(r)||this.diagnostics.push({code:"SDL-E005",severity:"error",message:`Undefined reference "${e.parts.join(".")}" in ${n}`,span:e.span});break}case"BinaryExpression":{this.validateExpressionReferences(e.left,n),this.validateExpressionReferences(e.right,n);break}case"UnaryExpression":{this.validateExpressionReferences(e.operand,n);break}case"FunctionCall":{for(const r of e.arguments)this.validateExpressionReferences(r,n);break}}}tryEvalConstant(e){switch(e.type){case"NumberLiteral":return e.value;case"PercentageLiteral":return e.value;case"CurrencyLiteral":return e.value;default:return null}}dateToNumber(e){return e.year*1e4+(e.month||0)*100+(e.day||0)}}class Xse{constructor(e){Tt(this,"state");this.state=e}next(){return this.state^=this.state<<13,this.state^=this.state>>17,this.state^=this.state<<5,(this.state>>>0)/4294967296}normalSample(e,n){const r=this.next(),i=this.next(),a=Math.sqrt(-2*Math.log(r))*Math.cos(2*Math.PI*i);return e+n*a}uniformSample(e,n){return e+this.next()*(n-e)}betaSample(e,n){const r=this.gammaSample(e,1),i=this.gammaSample(n,1);return r/(r+i)}gammaSample(e,n){if(e<1)return this.gammaSample(e+1,n)*Math.pow(this.next(),1/e);const r=e-1/3,i=1/Math.sqrt(9*r);for(;;){let a,o;do a=this.normalSample(0,1),o=1+i*a;while(o<=0);o=o*o*o;const s=this.next();if(s<1-.0331*a*a*a*a||Math.log(s)<.5*a*a+r*(1-o+Math.log(o)))return r*o*n}}triangularSample(e,n,r){const i=this.next(),a=(n-e)/(r-e);return i<a?e+Math.sqrt(i*(r-e)*(n-e)):r-Math.sqrt((1-i)*(r-e)*(r-n))}lognormalSample(e,n){return Math.exp(this.normalSample(e,n))}}function kk(t,e,n){switch(t.distribution){case"normal":{if(t.params.length===1){const r=t.params[0],i=at(r)/100;return n.normalSample(e,e*i)}if(t.params.length>=2){const r=at(t.params[0]),i=at(t.params[1]);return n.normalSample(r,i)}return e}case"uniform":{if(t.params.length>=2){const r=at(t.params[0]),i=at(t.params[1]);return n.uniformSample(r*e,i*e)}return e}case"beta":{if(t.params.length>=2){const r=at(t.params[0]),i=at(t.params[1]);return n.betaSample(r,i)}return e}case"triangular":{if(t.params.length>=3){const r=at(t.params[0]),i=at(t.params[1]),a=at(t.params[2]);return n.triangularSample(r,i,a)}return e}case"lognormal":{if(t.params.length>=2){const r=at(t.params[0]),i=at(t.params[1]);return n.lognormalSample(r,i)}return e}default:return e}}function at(t){switch(t.type){case"NumberLiteral":return t.value;case"PercentageLiteral":return t.value;case"CurrencyLiteral":return t.value;case"UnaryExpression":return t.operator==="-"?-at(t.operand):at(t.operand);default:return 0}}function Fse(t,e,n){const r=new Map(t.params.map(a=>[a.name,at(a.value)])),i=e-n;switch(t.model){case"linear":{const a=r.get("slope")??0;return(r.get("intercept")??0)+a*i}case"logistic":{const a=r.get("k")??.1,o=r.get("midpoint")??n+10;return(r.get("max")??1)/(1+Math.exp(-a*(e-o)))}case"exponential":{const a=r.get("rate")??.05;return(r.get("base")??1)*Math.exp(a*i)}case"sigmoid":{const a=r.get("k")??.5,o=r.get("midpoint")??n+10;return 1/(1+Math.exp(-a*(e-o)))}case"polynomial":{const a=[];for(let s=0;r.has(`c${s}`);s++)a.push(r.get(`c${s}`));let o=0;for(let s=0;s<a.length;s++)o+=a[s]*Math.pow(i,s);return o}default:return 0}}function Vse(t,e,n="linear"){if(t.length===0)return null;if(t.length===1||e<=t[0].year)return t[0].value;if(e>=t[t.length-1].year)return t[t.length-1].value;for(let r=0;r<t.length-1;r++){const i=t[r],a=t[r+1];if(e>=i.year&&e<=a.year)switch(n){case"step":return i.value;case"linear":{const o=(e-i.year)/(a.year-i.year);return i.value+o*(a.value-i.value)}case"spline":return Use(t,r,e)}}return null}function Use(t,e,n){const r=t[Math.max(0,e-1)],i=t[e],a=t[e+1],o=t[Math.min(t.length-1,e+2)],s=(n-i.year)/(a.year-i.year),l=s*s,c=l*s;return .5*(2*i.value+(-r.value+a.value)*s+(2*r.value-5*i.value+4*a.value-o.value)*l+(-r.value+3*i.value-3*a.value+o.value)*c)}const qse={runs:1e3,method:"monte_carlo",seed:Date.now(),percentiles:[5,25,50,75,95],convergence:.01,timeoutMs:6e4};function wj(t,e){var T,j,A,N;const n={...qse,...e},r=t.declarations.find(C=>C.type==="Simulate");r&&(r.runs&&(n.runs=r.runs),r.method&&(n.method=r.method),r.seed&&(n.seed=r.seed),r.percentiles&&(n.percentiles=r.percentiles),r.convergence&&(n.convergence=r.convergence));const i=xj(t);if(!i.valid)throw new Error(`Scenario validation failed:
${i.diagnostics.filter(C=>C.severity==="error").map(C=>`  [${C.code}] ${C.message}`).join(`
`)}`);const a=i.causalGraph,o=Date.now(),s=t.metadata.timeframe||{start:{year:2025},end:{year:2050}},l=t.metadata.resolution||"yearly",c=Yse(s.start,s.end,l),u=new Map,f=new Map,h=new Map,d=[],p=new Map;for(const C of t.declarations)switch(C.type){case"Variable":u.set(C.name,C);break;case"Assumption":f.set(C.name,C);break;case"Parameter":h.set(C.name,C);break;case"Branch":d.push(C);break;case"Impact":C.name!=="_list"&&p.set(C.name,C);break}const m=new Map,v=new Map,g=new Map;for(const[C]of u){m.set(C,new Map);for(const Q of c)m.get(C).set(Q.getFullYear(),[])}for(const[C]of p){v.set(C,new Map);for(const Q of c)v.get(C).set(Q.getFullYear(),[])}for(const C of d)g.set(C.name,0);const y=new Map;for(const[C,Q]of u){const L=[];for(const I of Q.timeseries){const M=at(I.value);L.push({year:I.date.year,value:M})}L.sort((I,M)=>I.year-M.year),y.set(C,L)}const x=new Xse(n.seed);let _=!1;for(let C=0;C<n.runs&&!(Date.now()-o>n.timeoutMs);C++){const Q=new Map;for(const[I,M]of f){const R=M.value?at(M.value):0,B=M.uncertainty?kk(M.uncertainty,R,x):R;Q.set(I,new Map);for(const F of c)Q.get(I).set(F.getFullYear(),B)}for(const[I,M]of h){let B=M.value?at(M.value):0;if(M.range){const F=at(M.range.min),X=at(M.range.max);B=x.uniformSample(F,X)}Q.set(I,new Map);for(const F of c)Q.get(I).set(F.getFullYear(),B)}const L=s.start.year;for(const I of a.topologicalOrder){if(!u.has(I))continue;const M=u.get(I),R=y.get(I)||[];Q.set(I,new Map);for(const B of c){const F=B.getFullYear();let X;if(R.length>0?X=Vse(R,F,M.interpolation||"linear")??0:M.model?X=Fse(M.model,F,L):X=0,M.dependsOn&&M.model){let ae=1;for(const ge of M.dependsOn){const ke=ge.split(".")[0],St=Q.get(ke);if(St){const Zt=St.get(F)??0;ae*=1+Zt*.01}}X*=ae}let G=X;M.uncertainty&&(G=kk(M.uncertainty,X,x)),Q.get(I).set(F,G)}}for(const I of d)for(const M of c){const R=M.getFullYear();if(Gse(I.condition,Q,R)&&x.next()<(I.probability??.5)){g.set(I.name,(g.get(I.name)||0)+1);break}}for(const[I]of u){const M=Q.get(I);if(M)for(const R of c){const B=R.getFullYear();m.get(I).get(B).push(M.get(B)??0)}}for(const[I,M]of p)for(const R of c){const B=R.getFullYear();let F=0;if(M.formula)F=os(M.formula,Q,B);else if(M.derivesFrom)for(const X of M.derivesFrom){const G=X.split(".")[0],ae=Q.get(G);ae&&(F+=ae.get(B)??0)}v.get(I).get(B).push(F)}if(C>0&&C%100===0&&n.convergence>0&&Kse(m,n.convergence)){_=!0,(T=n.onProgress)==null||T.call(n,{completedRuns:C+1,totalRuns:n.runs,elapsedMs:Date.now()-o,convergenceMetric:n.convergence});break}C%100===0&&((j=n.onProgress)==null||j.call(n,{completedRuns:C+1,totalRuns:n.runs,elapsedMs:Date.now()-o,convergenceMetric:null}))}const O=Date.now()-o,w=new Map;for(const[C,Q]of m){const L=u.get(C),I=[];for(const M of c){const R=M.getFullYear(),B=Q.get(R)||[];I.push({date:M,distribution:Pk(B,n.percentiles)})}w.set(C,{name:C,unit:L.unit,timeseries:I})}const $=new Map;for(const[C,Q]of v){const L=p.get(C),I=[];for(const M of c){const R=M.getFullYear(),B=Q.get(R)||[];I.push({date:M,distribution:Pk(B,n.percentiles)})}$.set(C,{name:C,unit:L.unit,timeseries:I,sensitivity:new Map})}const k=new Map;for(const C of d){const Q=g.get(C.name)||0;k.set(C.name,{name:C.name,activationRate:Q/n.runs,variables:new Map})}const P=((N=(A=m.values().next().value)==null?void 0:A.values().next().value)==null?void 0:N.length)??0;return{scenario:t.name,config:t.declarations.find(C=>C.type==="Simulate")||{type:"Simulate",span:t.span},runs:P,timesteps:c,variables:w,impacts:$,branches:k,convergenceReached:_,elapsedMs:O,seed:n.seed}}function Yse(t,e,n){const r=[];switch(n){case"yearly":{for(let i=t.year;i<=e.year;i++)r.push(new Date(i,0,1));break}case"monthly":{for(let i=t.year;i<=e.year;i++){const a=i===t.year?(t.month||1)-1:0,o=i===e.year?(e.month||12)-1:11;for(let s=a;s<=o;s++)r.push(new Date(i,s,1))}break}case"weekly":{const i=new Date(t.year,(t.month||1)-1,t.day||1),a=new Date(e.year,(e.month||12)-1,e.day||28),o=new Date(i);for(;o<=a;)r.push(new Date(o)),o.setDate(o.getDate()+7);break}case"daily":{const i=new Date(t.year,(t.month||1)-1,t.day||1),a=new Date(e.year,(e.month||12)-1,e.day||28),o=new Date(i);for(;o<=a;)r.push(new Date(o)),o.setDate(o.getDate()+1);break}}return r}function Gse(t,e,n){return os(t,e,n)!==0}function os(t,e,n){switch(t.type){case"NumberLiteral":return t.value;case"PercentageLiteral":return t.value/100;case"CurrencyLiteral":return t.value;case"BooleanLiteral":return t.value?1:0;case"Identifier":{const r=e.get(t.name);return r?r.get(n)??0:0}case"QualifiedIdentifier":{const r=t.parts[0],i=e.get(r);return i?i.get(n)??0:0}case"BinaryExpression":{const r=os(t.left,e,n),i=os(t.right,e,n);switch(t.operator){case"+":return r+i;case"-":return r-i;case"*":return r*i;case"/":return i!==0?r/i:0;case"^":return Math.pow(r,i);case"%":return i!==0?r%i:0;case">":return r>i?1:0;case"<":return r<i?1:0;case">=":return r>=i?1:0;case"<=":return r<=i?1:0;case"==":return r===i?1:0;case"!=":return r!==i?1:0;case"and":return r!==0&&i!==0?1:0;case"or":return r!==0||i!==0?1:0;default:return 0}}case"UnaryExpression":{const r=os(t.operand,e,n);switch(t.operator){case"-":return-r;case"not":return r===0?1:0;default:return r}}case"FunctionCall":{const r=t.arguments.map(i=>os(i,e,n));return Hse(t.name,r)}default:return 0}}function Hse(t,e){switch(t){case"min":return Math.min(...e);case"max":return Math.max(...e);case"abs":return Math.abs(e[0]??0);case"sqrt":return Math.sqrt(e[0]??0);case"log":return Math.log(e[0]??1);case"pow":return Math.pow(e[0]??0,e[1]??1);case"round":{const n=e[1]??0,r=Math.pow(10,n);return Math.round((e[0]??0)*r)/r}case"clamp":return Math.min(Math.max(e[0]??0,e[1]??0),e[2]??1);case"lerp":return(e[0]??0)+(e[2]??0)*((e[1]??0)-(e[0]??0));case"sum":return e.reduce((n,r)=>n+r,0);case"avg":return e.length>0?e.reduce((n,r)=>n+r,0)/e.length:0;default:return 0}}function Pk(t,e){if(t.length===0)return{mean:0,median:0,std:0,min:0,max:0,percentiles:new Map};const n=[...t].sort((l,c)=>l-c),r=n.length,i=n.reduce((l,c)=>l+c,0)/r,a=n.reduce((l,c)=>l+(c-i)**2,0)/r,o=Math.sqrt(a),s=new Map;for(const l of e){const c=Math.ceil(l/100*r)-1;s.set(l,n[Math.max(0,Math.min(c,r-1))])}return{mean:i,median:n[Math.floor(r/2)],std:o,min:n[0],max:n[r-1],percentiles:s}}function Kse(t,e){for(const[,n]of t)for(const[,r]of n){if(r.length<200)return!1;const i=Math.floor(r.length/2),a=r.slice(0,i),o=r.slice(i),s=a.reduce((u,f)=>u+f,0)/a.length,l=o.reduce((u,f)=>u+f,0)/o.length;if(s===0&&l===0)continue;if(Math.abs(s-l)/Math.max(Math.abs(s),Math.abs(l),1e-10)>e)return!1}return!0}const Sj={tecnologia:"Tecnologia",economia:"Economia",ambiente:"Ambiente",societa:"Societ",politica:"Politica"},QO={tecnologia:"#3b82f6",economia:"#f59e0b",ambiente:"#10b981",societa:"#8b5cf6",politica:"#ef4444"},_j=[{id:"ai_adoption_rate",label:"Velocit di adozione AI",description:"Percentuale annua di aziende italiane che adottano sistemi AI nei processi produttivi",unit:"%",min:3,max:35,step:1,default:14,source:"ISTAT Imprese e ICT, 2024; OECD AI adoption estimates",format:t=>`${t}%`},{id:"training_investment",label:"Investimento in riqualificazione",description:"Spesa pubblica + privata annua per formazione digitale e riconversione professionale",unit:"miliardi ",min:1,max:25,step:.5,default:5,source:"PNRR Componente M1C1 Digitalizzazione; Fondi europei FSE+",format:t=>`${t} mld `},{id:"regulation_level",label:"Livello di regolamentazione AI",description:"Intensit della regolamentazione: 0 = nessuna, 100 = restrizioni massime (stile EU AI Act pieno)",unit:"%",min:0,max:100,step:5,default:50,source:"EU AI Act (Reg. 2024/1689); AgID linee guida AI nella PA",format:t=>`${t}%`},{id:"tech_progress",label:"Velocit progresso AI",description:"Quanto velocemente migliorano le capacit AI (crescita potenza di calcolo e modelli)",unit:"fattore",min:5,max:50,step:1,default:22,source:"Epoch AI compute tracking; Our World in Data AI index",format:t=>`${(t/100).toFixed(2)}x/anno`}],uh=[2025,2027,2029,2031,2033,2035],Jse=[{name:"posti_lavoro_a_rischio",baseValues:[.8,1.6,2.8,4,4.8,5.5],sensitivities:{ai_adoption_rate:.7,training_investment:-.15,regulation_level:-.35,tech_progress:.55}},{name:"nuovi_posti_digitali",baseValues:[.2,.6,1.2,2,2.8,3.6],sensitivities:{ai_adoption_rate:.4,training_investment:.65,regulation_level:-.1,tech_progress:.3}},{name:"indice_competenze_digitali",baseValues:[36,40,47,54,61,68],sensitivities:{ai_adoption_rate:.1,training_investment:.6,regulation_level:.05,tech_progress:.15}},{name:"impatto_pil",baseValues:[5,18,40,68,100,135],sensitivities:{ai_adoption_rate:.55,training_investment:.25,regulation_level:-.15,tech_progress:.45}}];function ele(t,e){const n={};for(const r of _j)n[r.id]=r.default;return t.baseValues.map((r,i)=>{const a=.3+.7*(i/(t.baseValues.length-1));let o=0;for(const[s,l]of Object.entries(t.sensitivities)){const c=n[s];c!==0&&(o+=l*((e[s]??c)-c)/c*a)}return Math.max(0,Math.round(r*(1+o)*100)/100)})}const pt=t=>Number.isInteger(t)?t.toString():t.toFixed(2);function tle(t){const e={};for(const o of Jse)e[o.name]=ele(o,t);const n=t.ai_adoption_rate??14,r=t.training_investment??5,i=t.regulation_level??50,a=t.tech_progress??22;return`
scenario "AI e Lavoro in Italia 2025-2035" {
  timeframe: 2025 -> 2035
  resolution: yearly
  confidence: 0.45
  author: "Relatronica  Citizen Lab"
  version: "1.0"
  description: "Simulazione dell'impatto dell'AI sul mercato del lavoro italiano"
  tags: ["italia", "ai", "lavoro", "automazione", "formazione"]
  subtitle: "Automazione, occupazione e competenze 2025-2035"
  category: "tecnologia"
  icon: ""
  color: "#3b82f6"
  difficulty: "base"

  parameter ai_adoption_rate {
    label: "Velocit di adozione AI"
    value: ${n}
    range: [3, 35]
    step: 1
    unit: "%"
    source: "ISTAT Imprese e ICT, 2024; OECD AI adoption estimates"
    format: "{value}%"
    control: slider
    description: "Percentuale annua di aziende italiane che adottano sistemi AI nei processi produttivi"
  }
  parameter training_investment {
    label: "Investimento in riqualificazione"
    value: ${r*1e9}
    range: [1, 25]
    step: 0.5
    unit: "miliardi "
    source: "PNRR Componente M1C1 Digitalizzazione; Fondi europei FSE+"
    format: "{value} mld "
    control: slider
    description: "Spesa pubblica + privata annua per formazione digitale e riconversione professionale"
  }
  parameter regulation_level {
    label: "Livello di regolamentazione AI"
    value: ${(i/100).toFixed(2)}
    range: [0, 100]
    step: 5
    unit: "%"
    source: "EU AI Act (Reg. 2024/1689); AgID linee guida AI nella PA"
    format: "{value}%"
    control: slider
    description: "Intensit della regolamentazione: 0 = nessuna, 100 = restrizioni massime (stile EU AI Act pieno)"
  }
  parameter tech_progress {
    label: "Velocit progresso AI"
    value: ${(a/100).toFixed(2)}
    range: [5, 50]
    step: 1
    unit: "fattore"
    source: "Epoch AI compute tracking; Our World in Data AI index"
    format: "{value}"
    control: slider
    description: "Quanto velocemente migliorano le capacit AI (crescita potenza di calcolo e modelli)"
  }

  variable posti_lavoro_a_rischio {
    label: "Posti di lavoro a rischio"
    description: "Posti di lavoro a rischio automazione"
    unit: "milioni"
    icon: ""
    color: "#ef4444"
    ${uh.map((o,s)=>`${o}: ${pt(e.posti_lavoro_a_rischio[s])}`).join(`
    `)}
    depends_on: ai_adoption_rate, tech_progress, regulation_level
    uncertainty: normal(18%)
    interpolation: spline
  }

  variable nuovi_posti_digitali {
    label: "Nuovi posti digitali"
    description: "Nuovi posti di lavoro digitali"
    unit: "milioni"
    icon: ""
    color: "#10b981"
    ${uh.map((o,s)=>`${o}: ${pt(e.nuovi_posti_digitali[s])}`).join(`
    `)}
    depends_on: training_investment, ai_adoption_rate
    uncertainty: normal(20%)
    interpolation: spline
  }

  variable indice_competenze_digitali {
    label: "Competenze digitali"
    description: "Indice competenze digitali DESI (0-100)"
    unit: "indice"
    icon: ""
    color: "#8b5cf6"
    ${uh.map((o,s)=>`${o}: ${pt(e.indice_competenze_digitali[s])}`).join(`
    `)}
    depends_on: training_investment
    uncertainty: normal(10%)
    interpolation: spline
  }

  variable impatto_pil {
    label: "Impatto sul PIL"
    description: "Contributo AI al PIL italiano"
    unit: "miliardi EUR"
    icon: ""
    color: "#f59e0b"
    ${uh.map((o,s)=>`${o}: ${pt(e.impatto_pil[s])}`).join(`
    `)}
    depends_on: ai_adoption_rate, nuovi_posti_digitali, indice_competenze_digitali
    uncertainty: normal(22%)
    interpolation: spline
  }

  impact bilancio_netto_occupazione {
    label: "Bilancio netto occupazione"
    description: "Bilancio netto: nuovi posti meno posti a rischio"
    unit: "milioni"
    icon: ""
    color: "#3b82f6"
    derives_from: nuovi_posti_digitali, posti_lavoro_a_rischio
    formula: nuovi_posti_digitali - posti_lavoro_a_rischio
  }

  branch "Regolamentazione forte" when regulation_level > 0.7 {
    probability: 0.40
    variable posti_lavoro_a_rischio { 2031: ${pt(e.posti_lavoro_a_rischio[3]*.7)}  2033: ${pt(e.posti_lavoro_a_rischio[4]*.65)}  2035: ${pt(e.posti_lavoro_a_rischio[5]*.6)}  uncertainty: normal(12%) }
  }

  branch "Boom formazione" when training_investment > 15000000000 {
    probability: 0.35
    variable nuovi_posti_digitali { 2031: ${pt(e.nuovi_posti_digitali[3]*1.4)}  2033: ${pt(e.nuovi_posti_digitali[4]*1.5)}  2035: ${pt(e.nuovi_posti_digitali[5]*1.6)}  uncertainty: normal(18%) }
    variable indice_competenze_digitali { 2031: ${pt(Math.min(100,e.indice_competenze_digitali[3]*1.2))}  2033: ${pt(Math.min(100,e.indice_competenze_digitali[4]*1.25))}  2035: ${pt(Math.min(100,e.indice_competenze_digitali[5]*1.3))}  uncertainty: normal(8%) }
  }

  branch "Accelerazione tecnologica" when tech_progress > 0.4 {
    probability: 0.15
    variable posti_lavoro_a_rischio { 2031: ${pt(e.posti_lavoro_a_rischio[3]*1.3)}  2033: ${pt(e.posti_lavoro_a_rischio[4]*1.5)}  2035: ${pt(e.posti_lavoro_a_rischio[5]*1.7)}  uncertainty: normal(30%) }
    variable impatto_pil { 2031: ${pt(e.impatto_pil[3]*1.3)}  2033: ${pt(e.impatto_pil[4]*1.5)}  2035: ${pt(e.impatto_pil[5]*1.7)}  uncertainty: normal(25%) }
  }

  simulate { runs: 2000  method: monte_carlo  seed: 42  output: distribution  percentiles: [5, 25, 50, 75, 95]  convergence: 0.01 }
}`}const nle={meta:{id:"ai-lavoro",title:"AI e Lavoro in Italia",subtitle:"Automazione, occupazione e competenze 2025-2035",description:"Come cambier il mercato del lavoro italiano con l'intelligenza artificiale? Esplora l'impatto su occupazione, nuovi posti digitali, competenze e PIL.",category:"tecnologia",tags:["ai","lavoro","automazione","PNRR","competenze"],icon:"",color:"#3b82f6",period:"2025  2035",difficulty:"base"},sliders:_j,variables:[{id:"posti_lavoro_a_rischio",label:"Posti di lavoro a rischio",description:"Milioni di posti esposti all'automazione da sistemi AI",unit:"milioni",color:"#ef4444",type:"variable",icon:""},{id:"nuovi_posti_digitali",label:"Nuovi posti digitali",description:"Nuovi posti di lavoro nei settori digitali, AI e tech",unit:"milioni",color:"#10b981",type:"variable",icon:""},{id:"bilancio_netto_occupazione",label:"Bilancio netto occupazione",description:"Differenza tra posti creati e posti a rischio",unit:"milioni",color:"#3b82f6",type:"impact",icon:""},{id:"indice_competenze_digitali",label:"Competenze digitali",description:"Indice DESI delle competenze digitali (0-100)",unit:"indice",color:"#8b5cf6",type:"variable",icon:""},{id:"impatto_pil",label:"Impatto sul PIL",description:"Contributo dell'AI al PIL italiano in miliardi di euro",unit:"mld ",color:"#f59e0b",type:"variable",icon:""}],generateSDL:tle},$j=[{id:"compute_growth",label:"Crescita domanda AI compute",description:"Fattore annuo di crescita della domanda di calcolo per training e inferenza AI",unit:"fattore",min:1.5,max:6,step:.1,default:3.5,source:"Epoch AI compute trends 2025; IEA World Energy Outlook",format:t=>`${t.toFixed(1)}x/anno`},{id:"chip_efficiency",label:"Efficienza chip (miglioramento annuo)",description:"Percentuale annua di miglioramento dell'efficienza energetica dei chip AI (GPU/TPU)",unit:"%",min:5,max:50,step:1,default:25,source:"NVIDIA/AMD roadmap; Epoch AI hardware analysis",format:t=>`${t}%/anno`},{id:"renewable_share_dc",label:"Quota rinnovabili data center",description:"Percentuale di energia da fonti rinnovabili usata dai data center globali",unit:"%",min:20,max:100,step:5,default:40,source:"RE100 tracker; IEA Data Centres & Networks Report 2025",format:t=>`${t}%`},{id:"carbon_price",label:"Prezzo carbonio (su AI compute)",description:"Eventuale tassa carbonio applicata al consumo energetico dei data center (/MWh)",unit:"/MWh",min:0,max:60,step:5,default:0,source:"Ipotesi di policy  attualmente non esiste",format:t=>t===0?"Nessuna":`${t} /MWh`}],ec=[2025,2028,2031,2034,2037,2040],rle=[{name:"consumo_elettrico_ai",baseValues:[120,250,480,750,1050,1400],sensitivities:{compute_growth:.55,chip_efficiency:-.35,renewable_share_dc:0,carbon_price:-.15}},{name:"emissioni_co2_ai",baseValues:[50,85,135,180,210,240],sensitivities:{compute_growth:.45,chip_efficiency:-.2,renewable_share_dc:-.5,carbon_price:-.2}},{name:"quota_elettricita_globale",baseValues:[.4,.8,1.4,2.2,3,4],sensitivities:{compute_growth:.6,chip_efficiency:-.35,renewable_share_dc:0,carbon_price:-.1}},{name:"consumo_acqua_dc",baseValues:[26,48,80,120,160,210],sensitivities:{compute_growth:.5,chip_efficiency:-.15,renewable_share_dc:0,carbon_price:-.1}},{name:"costo_per_query",baseValues:[.4,.28,.18,.12,.08,.05],sensitivities:{compute_growth:-.1,chip_efficiency:-.55,renewable_share_dc:.05,carbon_price:.3}}];function ile(t,e){const n={};for(const r of $j)n[r.id]=r.default;return t.baseValues.map((r,i)=>{const a=.3+.7*(i/(t.baseValues.length-1));let o=0;for(const[s,l]of Object.entries(t.sensitivities)){const c=n[s];c!==0&&(o+=l*((e[s]??c)-c)/c*a)}return Math.max(0,Math.round(r*(1+o)*1e3)/1e3)})}const rt=t=>Number.isInteger(t)?t.toString():t<1?t.toFixed(3):t.toFixed(2);function ale(t){const e={};for(const o of rle)e[o.name]=ile(o,t);const n=t.compute_growth??3.5,r=t.chip_efficiency??25,i=t.renewable_share_dc??40,a=t.carbon_price??0;return`
scenario "AI e Consumo Energetico 2025-2040" {
  timeframe: 2025 -> 2040
  resolution: yearly
  confidence: 0.40
  author: "Relatronica  Citizen Lab"
  version: "1.0"
  description: "Impatto energetico dell'AI: consumo elettrico, emissioni, acqua e costo per query"
  tags: ["ai", "energia", "clima", "data-center", "sostenibilita"]

  assumption compute_growth { value: ${n}  source: "Epoch AI 2025"  confidence: 0.5  uncertainty: lognormal(1.2, 0.3) }
  assumption chip_efficiency { value: ${(r/100).toFixed(2)}  source: "NVIDIA/AMD roadmap"  confidence: 0.5  uncertainty: normal(30%) }
  assumption renewable_share_dc { value: ${(i/100).toFixed(2)}  source: "RE100, IEA"  confidence: 0.5  uncertainty: beta(5, 3) }
  assumption carbon_price { value: ${a}  source: "Ipotesi policy"  confidence: 0.3  uncertainty: normal(50%) }

  variable consumo_elettrico_ai {
    description: "Consumo elettrico globale dell'AI"
    unit: "TWh"
    ${ec.map((o,s)=>`${o}: ${rt(e.consumo_elettrico_ai[s])}`).join(`
    `)}
    depends_on: compute_growth, chip_efficiency
    uncertainty: lognormal(4.8, 0.3)
    interpolation: spline
  }

  variable emissioni_co2_ai {
    description: "Emissioni CO2 annue del settore AI globale"
    unit: "MtCO2"
    ${ec.map((o,s)=>`${o}: ${rt(e.emissioni_co2_ai[s])}`).join(`
    `)}
    depends_on: consumo_elettrico_ai, renewable_share_dc
    uncertainty: normal(20%)
    interpolation: spline
  }

  variable quota_elettricita_globale {
    description: "Quota AI sul consumo elettrico mondiale"
    unit: "percentuale"
    ${ec.map((o,s)=>`${o}: ${rt(e.quota_elettricita_globale[s])}`).join(`
    `)}
    depends_on: consumo_elettrico_ai
    uncertainty: normal(18%)
    interpolation: spline
  }

  variable consumo_acqua_dc {
    description: "Consumo idrico globale dei data center"
    unit: "miliardi di litri"
    ${ec.map((o,s)=>`${o}: ${rt(e.consumo_acqua_dc[s])}`).join(`
    `)}
    depends_on: consumo_elettrico_ai
    uncertainty: normal(22%)
    interpolation: spline
  }

  variable costo_per_query {
    description: "Costo energetico medio per query AI"
    unit: "centesimi USD"
    ${ec.map((o,s)=>`${o}: ${rt(e.costo_per_query[s])}`).join(`
    `)}
    depends_on: chip_efficiency, consumo_elettrico_ai
    uncertainty: normal(20%)
    interpolation: spline
  }

  impact gap_net_zero {
    description: "Gap tra obiettivo 100% rinnovabili e quota attuale AI"
    unit: "punti percentuali"
    derives_from: renewable_share_dc
    formula: 100 - renewable_share_dc * 100
  }

  branch "Svolta efficienza chip" when chip_efficiency > 0.4 {
    probability: 0.20
    variable consumo_elettrico_ai { 2034: ${rt(e.consumo_elettrico_ai[3]*.65)}  2037: ${rt(e.consumo_elettrico_ai[4]*.55)}  2040: ${rt(e.consumo_elettrico_ai[5]*.5)}  uncertainty: normal(18%) }
    variable costo_per_query { 2034: ${rt(e.costo_per_query[3]*.5)}  2037: ${rt(e.costo_per_query[4]*.35)}  2040: ${rt(e.costo_per_query[5]*.25)}  uncertainty: normal(25%) }
  }

  branch "Esplosione compute" when compute_growth > 5 {
    probability: 0.18
    variable consumo_elettrico_ai { 2034: ${rt(e.consumo_elettrico_ai[3]*1.6)}  2037: ${rt(e.consumo_elettrico_ai[4]*2)}  2040: ${rt(e.consumo_elettrico_ai[5]*2.5)}  uncertainty: lognormal(7, 0.4) }
    variable quota_elettricita_globale { 2034: ${rt(e.quota_elettricita_globale[3]*1.8)}  2037: ${rt(e.quota_elettricita_globale[4]*2.2)}  2040: ${rt(e.quota_elettricita_globale[5]*2.5)}  uncertainty: normal(25%) }
  }

  branch "Carbon tax su AI" when carbon_price > 30 {
    probability: 0.15
    variable emissioni_co2_ai { 2034: ${rt(e.emissioni_co2_ai[3]*.7)}  2037: ${rt(e.emissioni_co2_ai[4]*.55)}  2040: ${rt(e.emissioni_co2_ai[5]*.45)}  uncertainty: normal(20%) }
  }

  simulate { runs: 2000  method: monte_carlo  seed: 42  output: distribution  percentiles: [5, 25, 50, 75, 95]  convergence: 0.01 }
}`}const ole={meta:{id:"ai-energia",title:"AI e Consumo Energetico",subtitle:"Data center, emissioni e tensione climatica 2025-2040",description:"L'AI consuma gia' piu' di molte nazioni. Come crescera' il fabbisogno energetico dei data center? E quale sara' l'impatto su clima, acqua e costi? Esplora gli scenari.",category:"tecnologia",tags:["ai","energia","data center","CO","acqua"],icon:"",color:"#f59e0b",period:"2025  2040",difficulty:"intermedio"},sliders:$j,variables:[{id:"consumo_elettrico_ai",label:"Consumo elettrico AI",description:"Consumo totale di elettricita' per workload AI nel mondo",unit:"TWh",color:"#f59e0b",type:"variable",icon:""},{id:"emissioni_co2_ai",label:"Emissioni CO",description:"Emissioni annue di CO2 del settore AI globale",unit:"MtCO",color:"#ef4444",type:"variable",icon:""},{id:"gap_net_zero",label:"Gap net-zero",description:"Distanza dall'obiettivo 100% rinnovabili nei data center",unit:"pp",color:"#10b981",type:"impact",icon:""},{id:"consumo_acqua_dc",label:"Consumo acqua",description:"Miliardi di litri d'acqua consumati dai data center",unit:"mld litri",color:"#3b82f6",type:"variable",icon:""},{id:"costo_per_query",label:"Costo per query",description:"Costo energetico medio per singola query AI",unit:"cent $",color:"#8b5cf6",type:"variable",icon:""}],generateSDL:ale},kj=[{id:"ai_biomedical_capability",label:"Capacita' AI biomedica",description:"Livello di maturita' dei modelli AI per biologia e chimica (0=base, 100=superintelligenza biomedica)",unit:"indice",min:20,max:95,step:5,default:55,source:"AlphaFold/BioNeMo benchmarks; Nature Biotech reviews 2025",format:t=>`${t}/100`},{id:"pharma_rd_spend",label:"Investimento R&D pharma",description:"Spesa globale annua in ricerca e sviluppo farmaceutico",unit:"miliardi $",min:150,max:450,step:10,default:260,source:"EFPIA/PhRMA Global R&D Spending Report 2025",format:t=>`${t} mld $`},{id:"regulatory_readiness",label:"Prontezza regolatoria (FDA/EMA)",description:"Quanto velocemente le agenzie regolatorie adattano i processi all'AI (0=lento, 100=rapido)",unit:"indice",min:10,max:90,step:5,default:40,source:"FDA AI/ML Action Plan; EMA AI Reflection Paper 2025",format:t=>`${t}/100`},{id:"open_science",label:"Apertura dati biomedici",description:"Grado di condivisione aperta dei dati e modelli nel settore (0=chiuso, 100=completamente aperto)",unit:"indice",min:10,max:80,step:5,default:35,source:"UK Biobank, All of Us, Open Targets; Nature Open Science tracker",format:t=>`${t}/100`}],tc=[2025,2028,2031,2034,2037,2040,2042],sle=[{name:"approvazioni_ai",baseValues:[8,18,38,62,88,110,125],sensitivities:{ai_biomedical_capability:.5,pharma_rd_spend:.2,regulatory_readiness:.35,open_science:.15}},{name:"tempo_approvazione",baseValues:[10.5,9.2,8,6.8,5.8,5,4.5],sensitivities:{ai_biomedical_capability:-.3,pharma_rd_spend:-.05,regulatory_readiness:-.35,open_science:-.1}},{name:"costo_sviluppo",baseValues:[2.3,2,1.7,1.4,1.1,.9,.8],sensitivities:{ai_biomedical_capability:-.35,pharma_rd_spend:0,regulatory_readiness:-.15,open_science:-.2}},{name:"tasso_successo_clinico",baseValues:[12,15,21,27,34,39,42],sensitivities:{ai_biomedical_capability:.45,pharma_rd_spend:.05,regulatory_readiness:.1,open_science:.25}},{name:"candidati_malattie_rare",baseValues:[120,260,550,950,1500,2100,2600],sensitivities:{ai_biomedical_capability:.5,pharma_rd_spend:.15,regulatory_readiness:.05,open_science:.4}}];function lle(t,e){const n={};for(const r of kj)n[r.id]=r.default;return t.baseValues.map((r,i)=>{const a=.3+.7*(i/(t.baseValues.length-1));let o=0;for(const[s,l]of Object.entries(t.sensitivities)){const c=n[s];c!==0&&(o+=l*((e[s]??c)-c)/c*a)}return Math.max(0,Math.round(r*(1+o)*100)/100)})}const Xe=t=>Number.isInteger(t)?t.toString():t.toFixed(2);function cle(t){const e={};for(const o of sle)e[o.name]=lle(o,t);const n=t.ai_biomedical_capability??55,r=t.pharma_rd_spend??260,i=t.regulatory_readiness??40,a=t.open_science??35;return`
scenario "AI e Scoperta Farmaci 2025-2042" {
  timeframe: 2025 -> 2042
  resolution: yearly
  confidence: 0.30
  author: "Relatronica  Citizen Lab"
  version: "1.0"
  description: "Impatto dell'AI sulla scoperta farmaci: tempi, costi, successo clinico e malattie rare"
  tags: ["ai", "salute", "farmaci", "pharma", "diagnostica"]
  subtitle: "Pharma, diagnostica e malattie rare 2025-2042"
  category: "tecnologia"
  icon: ""
  color: "#10b981"
  difficulty: "intermedio"

  parameter ai_biomedical_capability {
    label: "Capacit AI biomedica"
    value: ${(n/100).toFixed(2)}
    range: [20, 95]
    step: 5
    unit: "indice"
    source: "AlphaFold/BioNeMo benchmarks; Nature Biotech reviews 2025"
    format: "{value}/100"
    control: slider
    description: "Livello di maturit dei modelli AI per biologia e chimica (0=base, 100=superintelligenza biomedica)"
  }
  parameter pharma_rd_spend {
    label: "Investimento R&D pharma"
    value: ${r}
    range: [150, 450]
    step: 10
    unit: "miliardi $"
    source: "EFPIA/PhRMA Global R&D Spending Report 2025"
    format: "{value} mld $"
    control: slider
    description: "Spesa globale annua in ricerca e sviluppo farmaceutico"
  }
  parameter regulatory_readiness {
    label: "Prontezza regolatoria (FDA/EMA)"
    value: ${(i/100).toFixed(2)}
    range: [10, 90]
    step: 5
    unit: "indice"
    source: "FDA AI/ML Action Plan; EMA AI Reflection Paper 2025"
    format: "{value}/100"
    control: slider
    description: "Quanto velocemente le agenzie regolatorie adattano i processi all'AI (0=lento, 100=rapido)"
  }
  parameter open_science {
    label: "Apertura dati biomedici"
    value: ${(a/100).toFixed(2)}
    range: [10, 80]
    step: 5
    unit: "indice"
    source: "UK Biobank, All of Us, Open Targets; Nature Open Science tracker"
    format: "{value}/100"
    control: slider
    description: "Grado di condivisione aperta dei dati e modelli nel settore (0=chiuso, 100=completamente aperto)"
  }

  variable approvazioni_ai {
    description: "Farmaci approvati con ruolo sostanziale dell'AI (FDA+EMA/anno)"
    unit: "farmaci"
    ${tc.map((o,s)=>`${o}: ${Xe(e.approvazioni_ai[s])}`).join(`
    `)}
    depends_on: ai_biomedical_capability, regulatory_readiness, pharma_rd_spend
    uncertainty: lognormal(3, 0.4)
    interpolation: spline
  }

  variable tempo_approvazione {
    description: "Tempo medio da candidato preclinico ad approvazione"
    unit: "anni"
    ${tc.map((o,s)=>`${o}: ${Xe(e.tempo_approvazione[s])}`).join(`
    `)}
    depends_on: ai_biomedical_capability, regulatory_readiness
    uncertainty: normal(15%)
    interpolation: spline
  }

  variable costo_sviluppo {
    description: "Costo medio di sviluppo di un nuovo farmaco"
    unit: "miliardi USD"
    ${tc.map((o,s)=>`${o}: ${Xe(e.costo_sviluppo[s])}`).join(`
    `)}
    depends_on: ai_biomedical_capability, tempo_approvazione
    uncertainty: lognormal(0.2, 0.3)
    interpolation: spline
  }

  variable tasso_successo_clinico {
    description: "Tasso di successo Fase I -> approvazione per farmaci AI-assistiti"
    unit: "percentuale"
    ${tc.map((o,s)=>`${o}: ${Xe(e.tasso_successo_clinico[s])}`).join(`
    `)}
    depends_on: ai_biomedical_capability, open_science
    uncertainty: beta(4, 10)
    interpolation: spline
  }

  variable candidati_malattie_rare {
    description: "Candidati farmaci AI per malattie rare (cumulativo)"
    unit: "candidati"
    ${tc.map((o,s)=>`${o}: ${Xe(e.candidati_malattie_rare[s])}`).join(`
    `)}
    depends_on: ai_biomedical_capability, open_science
    uncertainty: lognormal(5.5, 0.4)
    interpolation: spline
  }

  impact anni_risparmiati {
    label: "Anni risparmiati"
    description: "Anni risparmiati per farmaco rispetto al baseline 2025"
    unit: "anni"
    icon: ""
    color: "#06b6d4"
    derives_from: tempo_approvazione
    formula: 10.5 - tempo_approvazione
  }

  impact indice_malattie_rare {
    description: "Percentuale delle 7000 malattie rare con candidati AI"
    unit: "percentuale"
    derives_from: candidati_malattie_rare
    formula: candidati_malattie_rare / 7000 * 100
  }

  branch "Momento AlphaFold" when ai_biomedical_capability > 0.8 {
    probability: 0.15
    variable tempo_approvazione { 2034: ${Xe(e.tempo_approvazione[3]*.65)}  2037: ${Xe(e.tempo_approvazione[4]*.5)}  2040: ${Xe(e.tempo_approvazione[5]*.4)}  uncertainty: normal(20%) }
    variable costo_sviluppo { 2034: ${Xe(e.costo_sviluppo[3]*.6)}  2037: ${Xe(e.costo_sviluppo[4]*.45)}  2040: ${Xe(e.costo_sviluppo[5]*.35)}  uncertainty: lognormal(-0.5, 0.3) }
  }

  branch "Muro regolatorio" when regulatory_readiness < 0.25 {
    probability: 0.22
    variable approvazioni_ai { 2034: ${Xe(e.approvazioni_ai[3]*.6)}  2037: ${Xe(e.approvazioni_ai[4]*.55)}  2040: ${Xe(e.approvazioni_ai[5]*.55)}  uncertainty: normal(20%) }
    variable tempo_approvazione { 2034: ${Xe(e.tempo_approvazione[3]*1.15)}  2037: ${Xe(e.tempo_approvazione[4]*1.2)}  2040: ${Xe(e.tempo_approvazione[5]*1.25)}  uncertainty: normal(12%) }
  }

  branch "Open Science accelera" when open_science > 0.6 {
    probability: 0.20
    variable tasso_successo_clinico { 2034: ${Xe(e.tasso_successo_clinico[3]*1.3)}  2037: ${Xe(e.tasso_successo_clinico[4]*1.4)}  2040: ${Xe(Math.min(55,e.tasso_successo_clinico[5]*1.5))}  uncertainty: beta(6, 8) }
    variable candidati_malattie_rare { 2034: ${Xe(e.candidati_malattie_rare[3]*1.4)}  2037: ${Xe(e.candidati_malattie_rare[4]*1.6)}  2040: ${Xe(e.candidati_malattie_rare[5]*1.8)}  uncertainty: lognormal(6.5, 0.4) }
  }

  simulate { runs: 2000  method: monte_carlo  seed: 42  output: distribution  percentiles: [5, 25, 50, 75, 95]  convergence: 0.01 }
}`}const ule={meta:{id:"ai-farmaci",title:"AI e Scoperta Farmaci",subtitle:"Pharma, diagnostica e malattie rare 2025-2042",description:"Sviluppare un farmaco costa 2.3 miliardi e richiede 10 anni. L'AI puo' dimezzare tempi e costi? Esplora l'impatto su approvazioni, trial clinici e malattie rare.",category:"tecnologia",tags:["ai","farmaci","pharma","malattie rare","diagnostica"],icon:"",color:"#10b981",period:"2025  2042",difficulty:"intermedio"},sliders:kj,variables:[{id:"approvazioni_ai",label:"Farmaci AI approvati",description:"Farmaci approvati annualmente con ruolo sostanziale dell'AI",unit:"farmaci/anno",color:"#10b981",type:"variable",icon:""},{id:"tempo_approvazione",label:"Tempo di sviluppo",description:"Anni medi dalla scoperta all'approvazione regolatoria",unit:"anni",color:"#3b82f6",type:"variable",icon:""},{id:"anni_risparmiati",label:"Anni risparmiati",description:"Anni risparmiati per farmaco rispetto al baseline 2025",unit:"anni",color:"#06b6d4",type:"impact",icon:""},{id:"costo_sviluppo",label:"Costo per farmaco",description:"Costo medio di sviluppo dalla scoperta al mercato",unit:"mld $",color:"#f59e0b",type:"variable",icon:""},{id:"tasso_successo_clinico",label:"Successo clinico",description:"Tasso di successo dalla Fase I all'approvazione",unit:"%",color:"#8b5cf6",type:"variable",icon:""},{id:"candidati_malattie_rare",label:"Candidati malattie rare",description:"Candidati farmaci AI per le 7000 malattie rare conosciute",unit:"candidati",color:"#ef4444",type:"variable",icon:""}],generateSDL:cle},Pj=[{id:"tech_readiness",label:"Maturita' tecnologica AV",description:"Livello di maturita' della tecnologia autonoma L4/L5 (0=sperimentale, 100=affidabile)",unit:"indice",min:20,max:95,step:5,default:55,source:"SAE/RAND AV Readiness Assessment 2025; Waymo/Cruise safety reports",format:t=>`${t}/100`},{id:"regulatory_openness",label:"Apertura regolatoria",description:"Quanto velocemente i governi OCSE approvano framework per veicoli autonomi",unit:"indice",min:10,max:90,step:5,default:30,source:"UNECE WP.29; NHTSA AV rulemaking; EU Connected Driving strategy",format:t=>`${t}/100`},{id:"public_trust",label:"Fiducia pubblica",description:"Percentuale della popolazione disposta a usare un veicolo senza conducente",unit:"%",min:15,max:85,step:5,default:42,source:"AAA Foundation Trust Survey 2025; Eurobarometro mobilita'",format:t=>`${t}%`},{id:"sensor_cost_reduction",label:"Riduzione costo sensori",description:"Riduzione percentuale annua del costo dei sensori LiDAR e suite AV",unit:"%/anno",min:5,max:40,step:1,default:20,source:"Velodyne/Luminar pricing trends; McKinsey Mobility Report 2025",format:t=>`${t}%/anno`}],No=[2025,2029,2033,2037,2041,2045],fle=[{name:"flotta_av",baseValues:[25,220,1200,4500,11e3,19e3],sensitivities:{tech_readiness:.45,regulatory_openness:.35,public_trust:.2,sensor_cost_reduction:.25}},{name:"ride_hailing_av",baseValues:[1,7,24,48,66,76],sensitivities:{tech_readiness:.3,regulatory_openness:.3,public_trust:.35,sensor_cost_reduction:.15}},{name:"morti_stradali_ocse",baseValues:[95,87,72,52,36,25],sensitivities:{tech_readiness:-.3,regulatory_openness:-.15,public_trust:-.1,sensor_cost_reduction:-.05}},{name:"domanda_parcheggi",baseValues:[100,94,80,62,48,39],sensitivities:{tech_readiness:-.15,regulatory_openness:-.1,public_trust:-.2,sensor_cost_reduction:-.05}},{name:"merci_autonome",baseValues:[.5,4,15,34,52,63],sensitivities:{tech_readiness:.4,regulatory_openness:.35,public_trust:.05,sensor_cost_reduction:.2}},{name:"autisti_occupati",baseValues:[6.5,6,4.9,3.5,2.5,2],sensitivities:{tech_readiness:-.2,regulatory_openness:-.15,public_trust:-.05,sensor_cost_reduction:-.1}}];function hle(t,e){const n={};for(const r of Pj)n[r.id]=r.default;return t.baseValues.map((r,i)=>{const a=.3+.7*(i/(t.baseValues.length-1));let o=0;for(const[s,l]of Object.entries(t.sensitivities)){const c=n[s];c!==0&&(o+=l*((e[s]??c)-c)/c*a)}return Math.max(0,Math.round(r*(1+o)*100)/100)})}const Le=t=>Number.isInteger(t)?t.toString():t.toFixed(2);function dle(t){const e={};for(const o of fle)e[o.name]=hle(o,t);const n=t.tech_readiness??55,r=t.regulatory_openness??30,i=t.public_trust??42,a=t.sensor_cost_reduction??20;return`
scenario "Mobilita Autonoma 2025-2045" {
  timeframe: 2025 -> 2045
  resolution: yearly
  confidence: 0.35
  author: "Relatronica  Citizen Lab"
  version: "1.0"
  description: "Adozione dei veicoli autonomi L4/L5 e impatti su sicurezza, citta, logistica e lavoro"
  tags: ["ai", "mobilita", "veicoli-autonomi", "citta", "logistica", "sicurezza"]
  subtitle: "Veicoli senza conducente, citt e logistica 2025-2045"
  category: "tecnologia"
  icon: ""
  color: "#06b6d4"
  difficulty: "base"

  parameter tech_readiness {
    label: "Maturit tecnologica AV"
    value: ${(n/100).toFixed(2)}
    range: [20, 95]
    step: 5
    unit: "indice"
    source: "SAE/RAND 2025"
    format: "{value}/100"
    control: slider
    description: "Livello di maturit della tecnologia autonoma L4/L5 (0=sperimentale, 100=affidabile)"
  }
  parameter regulatory_openness {
    label: "Apertura regolatoria"
    value: ${(r/100).toFixed(2)}
    range: [10, 90]
    step: 5
    unit: "indice"
    source: "UNECE WP.29"
    format: "{value}/100"
    control: slider
    description: "Quanto velocemente i governi OCSE approvano framework per veicoli autonomi"
  }
  parameter public_trust {
    label: "Fiducia pubblica"
    value: ${(i/100).toFixed(2)}
    range: [15, 85]
    step: 5
    unit: "%"
    source: "AAA/Eurobarometro 2025"
    format: "{value}%"
    control: slider
    description: "Percentuale della popolazione disposta a usare un veicolo senza conducente"
  }
  parameter sensor_cost_reduction {
    label: "Riduzione costo sensori"
    value: ${(a/100).toFixed(2)}
    range: [5, 40]
    step: 1
    unit: "%/anno"
    source: "Velodyne/Luminar"
    format: "{value}%/anno"
    control: slider
    description: "Riduzione percentuale annua del costo dei sensori LiDAR e suite AV"
  }

  variable flotta_av {
    description: "Veicoli autonomi L4/L5 in circolazione (OCSE)"
    unit: "migliaia"
    label: "Flotta AV"
    icon: ""
    color: "#06b6d4"
    ${No.map((o,s)=>`${o}: ${Le(e.flotta_av[s])}`).join(`
    `)}
    depends_on: tech_readiness, regulatory_openness, sensor_cost_reduction
    uncertainty: lognormal(7, 0.5)
    interpolation: spline
  }

  variable ride_hailing_av {
    description: "Quota veicoli autonomi sul ride-hailing totale"
    unit: "percentuale"
    label: "Ride-hailing AV"
    icon: ""
    color: "#8b5cf6"
    ${No.map((o,s)=>`${o}: ${Le(e.ride_hailing_av[s])}`).join(`
    `)}
    depends_on: flotta_av, public_trust, regulatory_openness
    uncertainty: normal(20%)
    interpolation: spline
  }

  variable morti_stradali_ocse {
    description: "Morti in incidenti stradali OCSE all'anno"
    unit: "migliaia"
    label: "Morti stradali"
    icon: ""
    color: "#ef4444"
    ${No.map((o,s)=>`${o}: ${Le(e.morti_stradali_ocse[s])}`).join(`
    `)}
    depends_on: flotta_av, tech_readiness
    uncertainty: normal(12%)
    interpolation: spline
  }

  variable domanda_parcheggi {
    description: "Domanda parcheggi urbani (2025=100)"
    unit: "indice"
    ${No.map((o,s)=>`${o}: ${Le(e.domanda_parcheggi[s])}`).join(`
    `)}
    depends_on: flotta_av, ride_hailing_av
    uncertainty: normal(15%)
    interpolation: spline
  }

  variable merci_autonome {
    description: "Quota merci long-haul trasportate da camion autonomi"
    unit: "percentuale"
    label: "Merci autonome"
    icon: ""
    color: "#f59e0b"
    ${No.map((o,s)=>`${o}: ${Le(e.merci_autonome[s])}`).join(`
    `)}
    depends_on: tech_readiness, regulatory_openness
    uncertainty: normal(22%)
    interpolation: spline
  }

  variable autisti_occupati {
    description: "Autisti di camion long-haul occupati (OCSE)"
    unit: "milioni"
    ${No.map((o,s)=>`${o}: ${Le(e.autisti_occupati[s])}`).join(`
    `)}
    depends_on: merci_autonome
    uncertainty: normal(12%)
    interpolation: linear
  }

  impact vite_salvate {
    description: "Vite salvate annualmente rispetto al 2025"
    unit: "migliaia"
    label: "Vite salvate"
    icon: ""
    color: "#10b981"
    derives_from: morti_stradali_ocse
    formula: 95 - morti_stradali_ocse
  }

  impact spazio_urbano_liberato {
    description: "Spazio urbano liberato dai parcheggi (0-100)"
    unit: "indice"
    label: "Spazio urbano liberato"
    icon: ""
    color: "#3b82f6"
    derives_from: domanda_parcheggi
    formula: 100 - domanda_parcheggi
  }

  impact autisti_spostati {
    description: "Autisti spostati rispetto al 2025"
    unit: "milioni"
    label: "Autisti spostati"
    icon: ""
    color: "#ef4444"
    derives_from: autisti_occupati
    formula: 6.5 - autisti_occupati
  }

  branch "Via libera regolatorio" when regulatory_openness > 0.6 {
    probability: 0.22
    variable flotta_av { 2033: ${Le(e.flotta_av[2]*1.8)}  2037: ${Le(e.flotta_av[3]*1.6)}  2041: ${Le(e.flotta_av[4]*1.4)}  uncertainty: lognormal(8, 0.4) }
    variable merci_autonome { 2033: ${Le(e.merci_autonome[2]*1.5)}  2037: ${Le(e.merci_autonome[3]*1.4)}  2041: ${Le(Math.min(80,e.merci_autonome[4]*1.3))}  uncertainty: normal(18%) }
  }

  branch "Incidente fatale e backlash" when morti_stradali_ocse > 80 {
    probability: 0.18
    variable flotta_av { 2033: ${Le(e.flotta_av[2]*.45)}  2037: ${Le(e.flotta_av[3]*.5)}  2041: ${Le(e.flotta_av[4]*.6)}  uncertainty: lognormal(6.5, 0.5) }
    variable ride_hailing_av { 2033: ${Le(e.ride_hailing_av[2]*.5)}  2037: ${Le(e.ride_hailing_av[3]*.55)}  2041: ${Le(e.ride_hailing_av[4]*.65)}  uncertainty: normal(20%) }
  }

  branch "Logistica first" when merci_autonome > 20 {
    probability: 0.20
    variable merci_autonome { 2037: ${Le(e.merci_autonome[3]*1.35)}  2041: ${Le(Math.min(80,e.merci_autonome[4]*1.3))}  2045: ${Le(Math.min(85,e.merci_autonome[5]*1.25))}  uncertainty: normal(15%) }
    variable autisti_occupati { 2037: ${Le(e.autisti_occupati[3]*.7)}  2041: ${Le(e.autisti_occupati[4]*.6)}  2045: ${Le(e.autisti_occupati[5]*.55)}  uncertainty: normal(15%) }
  }

  simulate { runs: 2000  method: monte_carlo  seed: 42  output: distribution  percentiles: [5, 25, 50, 75, 95]  convergence: 0.01 }
}`}const ple={meta:{id:"mobilita-autonoma",title:"Mobilita' Autonoma",subtitle:"Veicoli senza conducente, citta' e logistica 2025-2045",description:"Quando guideremo senza mani? I veicoli autonomi promettono 90% di incidenti in meno, citta' senza parcheggi e logistica rivoluzionata. Ma i tempi e rischi sono enormi. Esplora gli scenari.",category:"tecnologia",tags:["ai","guida autonoma","citta'","logistica","sicurezza"],icon:"",color:"#06b6d4",period:"2025  2045",difficulty:"base"},sliders:Pj,variables:[{id:"flotta_av",label:"Flotta AV",description:"Migliaia di veicoli L4/L5 in circolazione nei paesi OCSE",unit:"migliaia",color:"#06b6d4",type:"variable",icon:""},{id:"morti_stradali_ocse",label:"Morti stradali",description:"Migliaia di vittime della strada nei paesi OCSE",unit:"migliaia",color:"#ef4444",type:"variable",icon:""},{id:"vite_salvate",label:"Vite salvate",description:"Vite salvate rispetto al livello 2025 (95K)",unit:"migliaia",color:"#10b981",type:"impact",icon:""},{id:"ride_hailing_av",label:"Ride-hailing AV",description:"Quota dei viaggi ride-hailing effettuati da veicoli autonomi",unit:"%",color:"#8b5cf6",type:"variable",icon:""},{id:"merci_autonome",label:"Merci autonome",description:"Quota merci long-haul trasportate da camion senza conducente",unit:"%",color:"#f59e0b",type:"variable",icon:""},{id:"autisti_spostati",label:"Autisti spostati",description:"Milioni di autisti di camion spostati dal lavoro",unit:"milioni",color:"#ef4444",type:"impact",icon:""},{id:"spazio_urbano_liberato",label:"Spazio urbano liberato",description:"Spazio urbano recuperato dalla riduzione dei parcheggi",unit:"indice",color:"#3b82f6",type:"impact",icon:""}],generateSDL:dle},Aj=[{id:"renewable_investment",label:"Investimento in rinnovabili",description:"Investimento annuo totale in fonti rinnovabili (solare, eolico, biomasse, idroelettrico)",unit:"miliardi ",min:5,max:60,step:1,default:20,source:"GSE Rapporto Statistico 2024; PNIEC 2024",format:t=>`${t} mld `},{id:"carbon_tax",label:"Prezzo carbonio (ETS)",description:"Prezzo per tonnellata di CO nel sistema europeo di scambio emissioni",unit:"/tCO",min:30,max:200,step:5,default:80,source:"EU ETS prezzo medio 2024; proiezioni IEA",format:t=>`${t} /t`},{id:"efficiency_rate",label:"Efficienza energetica edifici",description:"Percentuale di edifici residenziali riqualificati energeticamente per anno",unit:"%",min:1,max:8,step:.5,default:3,source:"ENEA Rapporto Efficienza Energetica 2024; Superbonus dati",format:t=>`${t}%/anno`},{id:"gas_dependency",label:"Dipendenza dal gas naturale",description:"Quota del gas naturale nel mix energetico nazionale. Oggi circa 40%",unit:"%",min:10,max:50,step:1,default:38,source:"MASE Piano Energetico; Terna dati rete 2024",format:t=>`${t}%`}],fh=[2025,2028,2031,2034,2037,2040],mle=[{name:"quota_rinnovabili",baseValues:[22,30,40,52,62,72],sensitivities:{renewable_investment:.5,carbon_tax:.2,efficiency_rate:.1,gas_dependency:-.3}},{name:"emissioni_co2",baseValues:[320,280,235,190,150,115],sensitivities:{renewable_investment:-.3,carbon_tax:-.25,efficiency_rate:-.2,gas_dependency:.4}},{name:"costo_energia_famiglia",baseValues:[2200,2100,1950,1800,1680,1550],sensitivities:{renewable_investment:-.15,carbon_tax:.2,efficiency_rate:-.3,gas_dependency:.25}},{name:"posti_lavoro_verdi",baseValues:[.5,.8,1.2,1.7,2.2,2.8],sensitivities:{renewable_investment:.6,carbon_tax:.1,efficiency_rate:.35,gas_dependency:-.1}}];function gle(t,e){const n={};for(const r of Aj)n[r.id]=r.default;return t.baseValues.map((r,i)=>{const a=.3+.7*(i/(t.baseValues.length-1));let o=0;for(const[s,l]of Object.entries(t.sensitivities)){const c=n[s];c!==0&&(o+=l*((e[s]??c)-c)/c*a)}return Math.max(0,Math.round(r*(1+o)*100)/100)})}const kn=t=>Number.isInteger(t)?t.toString():t.toFixed(2);function vle(t){const e={};for(const n of mle)e[n.name]=gle(n,t);return`
scenario "Transizione Energetica Italia 2025-2040" {
  timeframe: 2025 -> 2040
  resolution: yearly
  confidence: 0.40
  author: "Relatronica  Citizen Lab"
  description: "Percorso dell'Italia verso la decarbonizzazione: rinnovabili, emissioni, costi e lavoro verde"
  tags: ["italia", "energia", "clima", "rinnovabili", "co2"]
  subtitle: "Rinnovabili, emissioni e costi 2025-2040"
  category: "ambiente"
  icon: ""
  color: "#10b981"
  difficulty: "base"

  parameter renewable_investment {
    label: "Investimento in rinnovabili"
    value: ${t.renewable_investment??20}
    range: [5, 60]
    step: 1
    unit: "miliardi "
    source: "GSE Rapporto Statistico 2024; PNIEC 2024"
    format: "{value} mld "
    control: slider
    description: "Investimento annuo totale in fonti rinnovabili (solare, eolico, biomasse, idroelettrico)"
  }
  parameter carbon_tax {
    label: "Prezzo carbonio (ETS)"
    value: ${t.carbon_tax??80}
    range: [30, 200]
    step: 5
    unit: "/tCO"
    source: "EU ETS prezzo medio 2024; proiezioni IEA"
    format: "{value} /t"
    control: slider
    description: "Prezzo per tonnellata di CO nel sistema europeo di scambio emissioni"
  }
  parameter efficiency_rate {
    label: "Efficienza energetica edifici"
    value: ${(t.efficiency_rate??3)/100}
    range: [1, 8]
    step: 0.5
    unit: "%"
    source: "ENEA Rapporto Efficienza Energetica 2024; Superbonus dati"
    format: "{value}%/anno"
    control: slider
    description: "Percentuale di edifici residenziali riqualificati energeticamente per anno"
  }
  parameter gas_dependency {
    label: "Dipendenza dal gas naturale"
    value: ${(t.gas_dependency??38)/100}
    range: [10, 50]
    step: 1
    unit: "%"
    source: "MASE Piano Energetico; Terna dati rete 2024"
    format: "{value}%"
    control: slider
    description: "Quota del gas naturale nel mix energetico nazionale. Oggi circa 40%"
  }

  variable quota_rinnovabili {
    label: "Quota rinnovabili"
    description: "Quota rinnovabili nel mix elettrico nazionale"
    unit: "percentuale"
    icon: ""
    color: "#10b981"
    ${fh.map((n,r)=>`${n}: ${kn(e.quota_rinnovabili[r])}`).join(`
    `)}
    depends_on: renewable_investment, carbon_tax, gas_dependency
    uncertainty: normal(15%)
    interpolation: spline
  }

  variable emissioni_co2 {
    label: "Emissioni CO"
    description: "Emissioni annue di CO2 dell'Italia"
    unit: "MtCO2"
    icon: ""
    color: "#ef4444"
    ${fh.map((n,r)=>`${n}: ${kn(e.emissioni_co2[r])}`).join(`
    `)}
    depends_on: renewable_investment, carbon_tax, efficiency_rate, gas_dependency
    uncertainty: normal(18%)
    interpolation: spline
  }

  variable costo_energia_famiglia {
    label: "Costo energia famiglia"
    description: "Costo medio annuo energia per famiglia"
    unit: "EUR/anno"
    icon: ""
    color: "#f59e0b"
    ${fh.map((n,r)=>`${n}: ${kn(e.costo_energia_famiglia[r])}`).join(`
    `)}
    depends_on: renewable_investment, carbon_tax, efficiency_rate
    uncertainty: normal(20%)
    interpolation: spline
  }

  variable posti_lavoro_verdi {
    label: "Lavoro verde"
    description: "Occupazione nei settori green"
    unit: "milioni"
    icon: ""
    color: "#8b5cf6"
    ${fh.map((n,r)=>`${n}: ${kn(e.posti_lavoro_verdi[r])}`).join(`
    `)}
    depends_on: renewable_investment, efficiency_rate
    uncertainty: normal(22%)
    interpolation: spline
  }

  impact riduzione_emissioni {
    label: "Riduzione emissioni"
    description: "Riduzione cumulata emissioni rispetto al 2025"
    unit: "MtCO2"
    icon: ""
    color: "#06b6d4"
    derives_from: emissioni_co2
    formula: 320 - emissioni_co2
  }

  branch "Boom solare" when renewable_investment > 40 {
    probability: 0.30
    variable quota_rinnovabili { 2034: ${kn(e.quota_rinnovabili[3]*1.15)}  2037: ${kn(e.quota_rinnovabili[4]*1.2)}  2040: ${kn(Math.min(95,e.quota_rinnovabili[5]*1.25))}  uncertainty: normal(12%) }
  }

  branch "Carbon tax aggressiva" when carbon_tax > 150 {
    probability: 0.25
    variable emissioni_co2 { 2034: ${kn(e.emissioni_co2[3]*.8)}  2037: ${kn(e.emissioni_co2[4]*.7)}  2040: ${kn(e.emissioni_co2[5]*.6)}  uncertainty: normal(20%) }
    variable costo_energia_famiglia { 2034: ${kn(e.costo_energia_famiglia[3]*1.15)}  2037: ${kn(e.costo_energia_famiglia[4]*1.1)}  2040: ${kn(e.costo_energia_famiglia[5]*1.05)}  uncertainty: normal(15%) }
  }

  simulate { runs: 2000  method: monte_carlo  seed: 42  output: distribution  percentiles: [5, 25, 50, 75, 95]  convergence: 0.01 }
}`}const yle={meta:{id:"energia",title:"Transizione Energetica",subtitle:"Rinnovabili, emissioni e costi 2025-2040",description:"L'Italia raggiunger gli obiettivi climatici? Esplora l'impatto degli investimenti in rinnovabili, del prezzo del carbonio e dell'efficienza energetica su emissioni, costi e lavoro verde.",category:"ambiente",tags:["energia","clima","rinnovabili","CO","green jobs"],icon:"",color:"#10b981",period:"2025  2040",difficulty:"base"},sliders:Aj,variables:[{id:"quota_rinnovabili",label:"Quota rinnovabili",description:"Percentuale di energia elettrica da fonti rinnovabili",unit:"%",color:"#10b981",type:"variable",icon:""},{id:"emissioni_co2",label:"Emissioni CO",description:"Emissioni annue di anidride carbonica in milioni di tonnellate",unit:"MtCO",color:"#ef4444",type:"variable",icon:""},{id:"riduzione_emissioni",label:"Riduzione emissioni",description:"Riduzione cumulata delle emissioni rispetto ai livelli 2025",unit:"MtCO",color:"#06b6d4",type:"impact",icon:""},{id:"costo_energia_famiglia",label:"Costo energia famiglia",description:"Spesa media annua per energia di una famiglia italiana",unit:"/anno",color:"#f59e0b",type:"variable",icon:""},{id:"posti_lavoro_verdi",label:"Lavoro verde",description:"Milioni di occupati nei settori dell'economia verde",unit:"milioni",color:"#8b5cf6",type:"variable",icon:""}],generateSDL:vle},Cj=[{id:"fertility_rate",label:"Tasso di fecondit",description:"Numero medio di figli per donna. L'Italia  a 1.24, tra i pi bassi al mondo. Servono 2.1 per il ricambio generazionale",unit:"figli/donna",min:.9,max:2.2,step:.05,default:1.24,source:"ISTAT Indicatori demografici 2024; Eurostat",format:t=>`${t.toFixed(2)}`},{id:"immigration_net",label:"Immigrazione netta annua",description:"Differenza tra ingressi e uscite di residenti stranieri per anno",unit:"migliaia",min:50,max:500,step:10,default:230,source:"ISTAT Bilancio demografico 2024; Ministero Interno",format:t=>`${t}K/anno`},{id:"retirement_age",label:"Et pensionabile media",description:"Et media effettiva di pensionamento, considerando tutte le forme previdenziali",unit:"anni",min:62,max:72,step:.5,default:64,source:"INPS Rapporto Annuale 2024; Ragioneria dello Stato",format:t=>`${t} anni`},{id:"health_spending",label:"Spesa sanitaria pubblica",description:"Spesa sanitaria pubblica in rapporto al PIL. Italia: 6.8% vs media OECD: 7.5%",unit:"% PIL",min:5,max:10,step:.1,default:6.8,source:"OECD Health at a Glance 2024; MEF DEF 2024",format:t=>`${t.toFixed(1)}% PIL`}],hh=[2025,2030,2035,2040,2045,2050],Ole=[{name:"popolazione_totale",baseValues:[59,58.2,57,55.5,53.8,52],sensitivities:{fertility_rate:.15,immigration_net:.25,retirement_age:0,health_spending:.05}},{name:"indice_dipendenza",baseValues:[37,42,48,55,62,68],sensitivities:{fertility_rate:-.2,immigration_net:-.15,retirement_age:-.35,health_spending:0}},{name:"spesa_pensioni_pil",baseValues:[16,16.8,17.5,18.5,19.2,20],sensitivities:{fertility_rate:-.1,immigration_net:-.12,retirement_age:-.45,health_spending:0}},{name:"aspettativa_vita",baseValues:[83.6,84.2,84.8,85.3,85.8,86.2],sensitivities:{fertility_rate:0,immigration_net:0,retirement_age:0,health_spending:.15}}];function ble(t,e){const n={};for(const r of Cj)n[r.id]=r.default;return t.baseValues.map((r,i)=>{const a=.3+.7*(i/(t.baseValues.length-1));let o=0;for(const[s,l]of Object.entries(t.sensitivities)){const c=n[s];c!==0&&(o+=l*((e[s]??c)-c)/c*a)}return Math.max(0,Math.round(r*(1+o)*100)/100)})}const zr=t=>Number.isInteger(t)?t.toString():t.toFixed(2);function xle(t){const e={};for(const n of Ole)e[n.name]=ble(n,t);return`
scenario "Demografia e Pensioni Italia 2025-2050" {
  timeframe: 2025 -> 2050
  resolution: yearly
  confidence: 0.50
  author: "Relatronica  Citizen Lab"
  description: "Proiezioni demografiche e sostenibilit del sistema pensionistico italiano"
  tags: ["italia", "demografia", "pensioni", "invecchiamento", "immigrazione"]
  subtitle: "Popolazione, invecchiamento e welfare 2025-2050"
  category: "societa"
  icon: ""
  color: "#8b5cf6"
  difficulty: "intermedio"

  parameter fertility_rate {
    label: "Tasso di fecondit"
    value: ${t.fertility_rate??1.24}
    range: [0.9, 2.2]
    step: 0.05
    unit: "figli/donna"
    source: "ISTAT 2024"
    format: "{value}"
    control: slider
    description: "Numero medio di figli per donna"
  }
  parameter immigration_net {
    label: "Immigrazione netta annua"
    value: ${t.immigration_net??230}
    range: [50, 500]
    step: 10
    unit: "migliaia"
    source: "ISTAT Bilancio demografico"
    format: "{value}K/anno"
    control: slider
    description: "Differenza tra ingressi e uscite di residenti stranieri per anno"
  }
  parameter retirement_age {
    label: "Et pensionabile media"
    value: ${t.retirement_age??64}
    range: [62, 72]
    step: 0.5
    unit: "anni"
    source: "INPS 2024"
    format: "{value} anni"
    control: slider
    description: "Et media effettiva di pensionamento"
  }
  parameter health_spending {
    label: "Spesa sanitaria pubblica"
    value: ${t.health_spending??6.8}
    range: [5, 10]
    step: 0.1
    unit: "% PIL"
    source: "OECD Health 2024"
    format: "{value}% PIL"
    control: slider
    description: "Spesa sanitaria pubblica in rapporto al PIL"
  }

  variable popolazione_totale {
    description: "Popolazione residente in Italia"
    unit: "milioni"
    label: "Popolazione"
    icon: ""
    color: "#3b82f6"
    ${hh.map((n,r)=>`${n}: ${zr(e.popolazione_totale[r])}`).join(`
    `)}
    depends_on: fertility_rate, immigration_net
    uncertainty: normal(5%)
    interpolation: spline
  }

  variable indice_dipendenza {
    description: "Rapporto anziani (65+) su popolazione attiva (15-64)"
    unit: "percentuale"
    label: "Indice di dipendenza"
    icon: ""
    color: "#ef4444"
    ${hh.map((n,r)=>`${n}: ${zr(e.indice_dipendenza[r])}`).join(`
    `)}
    depends_on: fertility_rate, immigration_net, retirement_age
    uncertainty: normal(10%)
    interpolation: spline
  }

  variable spesa_pensioni_pil {
    description: "Spesa pensionistica in rapporto al PIL"
    unit: "percentuale PIL"
    label: "Spesa pensioni / PIL"
    icon: ""
    color: "#f59e0b"
    ${hh.map((n,r)=>`${n}: ${zr(e.spesa_pensioni_pil[r])}`).join(`
    `)}
    depends_on: fertility_rate, immigration_net, retirement_age
    uncertainty: normal(12%)
    interpolation: spline
  }

  variable aspettativa_vita {
    description: "Aspettativa di vita alla nascita"
    unit: "anni"
    label: "Aspettativa di vita"
    icon: ""
    color: "#10b981"
    ${hh.map((n,r)=>`${n}: ${zr(e.aspettativa_vita[r])}`).join(`
    `)}
    depends_on: health_spending
    uncertainty: normal(3%)
    interpolation: spline
  }

  impact pressione_fiscale_previdenza {
    description: "Differenza di spesa pensionistica rispetto al 2025"
    unit: "punti % PIL"
    label: "Pressione aggiuntiva"
    icon: ""
    color: "#ef4444"
    derives_from: spesa_pensioni_pil
    formula: spesa_pensioni_pil - 16
  }

  branch "Baby boom" when fertility_rate > 1.8 {
    probability: 0.10
    variable popolazione_totale { 2040: ${zr(e.popolazione_totale[3]*1.05)}  2045: ${zr(e.popolazione_totale[4]*1.08)}  2050: ${zr(e.popolazione_totale[5]*1.12)}  uncertainty: normal(5%) }
  }

  branch "Riforma pensioni forte" when retirement_age > 68 {
    probability: 0.30
    variable spesa_pensioni_pil { 2040: ${zr(e.spesa_pensioni_pil[3]*.88)}  2045: ${zr(e.spesa_pensioni_pil[4]*.85)}  2050: ${zr(e.spesa_pensioni_pil[5]*.82)}  uncertainty: normal(10%) }
  }

  simulate { runs: 2000  method: monte_carlo  seed: 42  output: distribution  percentiles: [5, 25, 50, 75, 95]  convergence: 0.01 }
}`}const wle={meta:{id:"demografia",title:"Demografia e Pensioni",subtitle:"Popolazione, invecchiamento e welfare 2025-2050",description:"L'Italia invecchia: nel 2050 gli ultra-65enni saranno il 35% della popolazione. Come influiranno natalit, immigrazione e riforme pensionistiche sulla sostenibilit del welfare?",category:"societa",tags:["demografia","pensioni","natalit","immigrazione","welfare"],icon:"",color:"#8b5cf6",period:"2025  2050",difficulty:"intermedio"},sliders:Cj,variables:[{id:"popolazione_totale",label:"Popolazione",description:"Popolazione residente in Italia in milioni",unit:"milioni",color:"#3b82f6",type:"variable",icon:""},{id:"indice_dipendenza",label:"Indice di dipendenza",description:"Rapporto percentuale tra over-65 e popolazione in et lavorativa",unit:"%",color:"#ef4444",type:"variable",icon:""},{id:"spesa_pensioni_pil",label:"Spesa pensioni / PIL",description:"Quota del PIL destinata alla spesa pensionistica",unit:"% PIL",color:"#f59e0b",type:"variable",icon:""},{id:"pressione_fiscale_previdenza",label:"Pressione aggiuntiva",description:"Punti % di PIL aggiuntivi per le pensioni rispetto al 2025",unit:"pp PIL",color:"#ef4444",type:"impact",icon:""},{id:"aspettativa_vita",label:"Aspettativa di vita",description:"Aspettativa di vita alla nascita in anni",unit:"anni",color:"#10b981",type:"variable",icon:""}],generateSDL:xle},Ej=[{id:"eu_cloud_investment",label:"Investimento in cloud EU",description:"Investimento annuo in infrastruttura cloud e data center europei (IPCEI, Gaia-X, fondi nazionali)",unit:"miliardi ",min:2,max:40,step:1,default:10,source:"Commissione UE Digital Decade 2030; IPCEI Cloud",format:t=>`${t} mld `},{id:"data_localization",label:"Localizzazione dati",description:"Percentuale di dati europei processati su infrastrutture europee. Oggi circa 20%",unit:"%",min:10,max:90,step:5,default:20,source:"ENISA Data Flow Report 2024; Eurostat Digital Economy",format:t=>`${t}%`},{id:"open_source_adoption",label:"Adozione open source nella PA",description:"Percentuale di PA europee che usano software open source per sistemi critici",unit:"%",min:5,max:80,step:5,default:25,source:"OSOR EU Observatory 2024; AgID Piano Triennale IT",format:t=>`${t}%`},{id:"digital_regulation_strength",label:"Forza regolamentazione digitale",description:"Intensit dell'applicazione di DSA, DMA, AI Act, Data Act (0=debole, 100=massima)",unit:"indice",min:10,max:100,step:5,default:55,source:"DG CONNECT enforcement reports; DSA Transparency DB",format:t=>`${t}/100`}],dh=[2025,2027,2029,2031,2033,2035],Sle=[{name:"indice_sovranita_digitale",baseValues:[22,28,35,43,52,60],sensitivities:{eu_cloud_investment:.35,data_localization:.3,open_source_adoption:.2,digital_regulation_strength:.15}},{name:"dipendenza_big_tech",baseValues:[78,72,65,57,50,42],sensitivities:{eu_cloud_investment:-.2,data_localization:-.3,open_source_adoption:-.25,digital_regulation_strength:-.15}},{name:"mercato_cloud_eu",baseValues:[12,18,28,42,58,78],sensitivities:{eu_cloud_investment:.55,data_localization:.25,open_source_adoption:.15,digital_regulation_strength:.1}},{name:"posti_lavoro_tech_eu",baseValues:[1.2,1.5,1.9,2.4,3,3.6],sensitivities:{eu_cloud_investment:.45,data_localization:.15,open_source_adoption:.2,digital_regulation_strength:-.05}}];function _le(t,e){const n={};for(const r of Ej)n[r.id]=r.default;return t.baseValues.map((r,i)=>{const a=.3+.7*(i/(t.baseValues.length-1));let o=0;for(const[s,l]of Object.entries(t.sensitivities)){const c=n[s];c!==0&&(o+=l*((e[s]??c)-c)/c*a)}return Math.max(0,Math.round(r*(1+o)*100)/100)})}const Pn=t=>Number.isInteger(t)?t.toString():t.toFixed(2);function $le(t){const e={};for(const n of Sle)e[n.name]=_le(n,t);return`
scenario "Sovranita Digitale Europea 2025-2035" {
  timeframe: 2025 -> 2035
  resolution: yearly
  confidence: 0.35
  author: "Relatronica  Citizen Lab"
  description: "L'Europa puo' costruire una propria autonomia tecnologica? Cloud, dati, open source e regolamentazione"
  tags: ["europa", "sovranita", "cloud", "dati", "open-source", "regolamentazione"]
  subtitle: "Cloud, dati e autonomia tecnologica 2025-2035"
  category: "politica"
  icon: ""
  color: "#ef4444"
  difficulty: "avanzato"

  parameter eu_cloud_investment {
    label: "Investimento in cloud EU"
    value: ${t.eu_cloud_investment??10}
    range: [2, 40]
    step: 1
    unit: "miliardi "
    source: "IPCEI Cloud, Gaia-X"
    format: "{value} mld "
    control: slider
    description: "Investimento annuo in infrastruttura cloud e data center europei"
  }
  parameter data_localization {
    label: "Localizzazione dati"
    value: ${((t.data_localization??20)/100).toFixed(2)}
    range: [10, 90]
    step: 5
    unit: "%"
    source: "ENISA 2024"
    format: "{value}%"
    control: slider
    description: "Percentuale di dati europei processati su infrastrutture europee"
  }
  parameter open_source_adoption {
    label: "Adozione open source nella PA"
    value: ${((t.open_source_adoption??25)/100).toFixed(2)}
    range: [5, 80]
    step: 5
    unit: "%"
    source: "OSOR EU 2024"
    format: "{value}%"
    control: slider
    description: "Percentuale di PA europee che usano software open source per sistemi critici"
  }
  parameter digital_regulation_strength {
    label: "Forza regolamentazione digitale"
    value: ${((t.digital_regulation_strength??55)/100).toFixed(2)}
    range: [10, 100]
    step: 5
    unit: "indice"
    source: "DG CONNECT"
    format: "{value}/100"
    control: slider
    description: "Intensit dell'applicazione di DSA, DMA, AI Act, Data Act"
  }

  variable indice_sovranita_digitale {
    description: "Indice composito di sovranita digitale EU (0-100)"
    unit: "indice"
    label: "Sovranit digitale"
    icon: ""
    color: "#3b82f6"
    ${dh.map((n,r)=>`${n}: ${Pn(e.indice_sovranita_digitale[r])}`).join(`
    `)}
    depends_on: eu_cloud_investment, data_localization, open_source_adoption, digital_regulation_strength
    uncertainty: normal(18%)
    interpolation: spline
  }

  variable dipendenza_big_tech {
    description: "Dipendenza da Big Tech extra-UE per servizi digitali critici"
    unit: "percentuale"
    label: "Dipendenza Big Tech"
    icon: ""
    color: "#ef4444"
    ${dh.map((n,r)=>`${n}: ${Pn(e.dipendenza_big_tech[r])}`).join(`
    `)}
    depends_on: eu_cloud_investment, data_localization, open_source_adoption
    uncertainty: normal(15%)
    interpolation: spline
  }

  variable mercato_cloud_eu {
    description: "Fatturato annuo dei provider cloud europei"
    unit: "miliardi EUR"
    label: "Cloud EU"
    icon: ""
    color: "#f59e0b"
    ${dh.map((n,r)=>`${n}: ${Pn(e.mercato_cloud_eu[r])}`).join(`
    `)}
    depends_on: eu_cloud_investment, data_localization
    uncertainty: normal(22%)
    interpolation: spline
  }

  variable posti_lavoro_tech_eu {
    description: "Occupati nel settore tech europeo (non Big Tech)"
    unit: "milioni"
    label: "Lavoro tech EU"
    icon: ""
    color: "#8b5cf6"
    ${dh.map((n,r)=>`${n}: ${Pn(e.posti_lavoro_tech_eu[r])}`).join(`
    `)}
    depends_on: eu_cloud_investment, open_source_adoption
    uncertainty: normal(20%)
    interpolation: spline
  }

  impact guadagno_sovranita {
    description: "Guadagno di sovranita digitale rispetto al 2025"
    unit: "punti indice"
    label: "Guadagno sovranit"
    icon: ""
    color: "#10b981"
    derives_from: indice_sovranita_digitale
    formula: indice_sovranita_digitale - 22
  }

  branch "Gaia-X decolla" when eu_cloud_investment > 25 {
    probability: 0.25
    variable mercato_cloud_eu { 2031: ${Pn(e.mercato_cloud_eu[3]*1.3)}  2033: ${Pn(e.mercato_cloud_eu[4]*1.4)}  2035: ${Pn(e.mercato_cloud_eu[5]*1.5)}  uncertainty: normal(20%) }
    variable dipendenza_big_tech { 2031: ${Pn(e.dipendenza_big_tech[3]*.85)}  2033: ${Pn(e.dipendenza_big_tech[4]*.8)}  2035: ${Pn(e.dipendenza_big_tech[5]*.75)}  uncertainty: normal(15%) }
  }

  branch "Digital sovereignty push" when digital_regulation_strength > 0.8 {
    probability: 0.20
    variable indice_sovranita_digitale { 2031: ${Pn(e.indice_sovranita_digitale[3]*1.15)}  2033: ${Pn(e.indice_sovranita_digitale[4]*1.2)}  2035: ${Pn(Math.min(95,e.indice_sovranita_digitale[5]*1.25))}  uncertainty: normal(15%) }
  }

  simulate { runs: 2000  method: monte_carlo  seed: 42  output: distribution  percentiles: [5, 25, 50, 75, 95]  convergence: 0.01 }
}`}const kle={meta:{id:"sovranita-digitale",title:"Sovranit Digitale Europea",subtitle:"Cloud, dati e autonomia tecnologica 2025-2035",description:"L'80% dei dati europei  processato su infrastrutture americane. L'Europa pu costruire una propria autonomia digitale? Esplora l'impatto di investimenti, regolamentazione e open source.",category:"politica",tags:["sovranit","cloud","Gaia-X","open source","GDPR"],icon:"",color:"#ef4444",period:"2025  2035",difficulty:"avanzato"},sliders:Ej,variables:[{id:"indice_sovranita_digitale",label:"Sovranit digitale",description:"Indice composito di autonomia digitale europea (0-100)",unit:"indice",color:"#3b82f6",type:"variable",icon:""},{id:"dipendenza_big_tech",label:"Dipendenza Big Tech",description:"Percentuale di servizi digitali critici dipendenti da Big Tech extra-UE",unit:"%",color:"#ef4444",type:"variable",icon:""},{id:"guadagno_sovranita",label:"Guadagno sovranit",description:"Punti guadagnati nell'indice di sovranit digitale rispetto al 2025",unit:"punti",color:"#10b981",type:"impact",icon:""},{id:"mercato_cloud_eu",label:"Cloud EU",description:"Fatturato dei provider cloud europei in miliardi di euro",unit:"mld ",color:"#f59e0b",type:"variable",icon:""},{id:"posti_lavoro_tech_eu",label:"Lavoro tech EU",description:"Milioni di occupati nel settore tech europeo (non Big Tech)",unit:"milioni",color:"#8b5cf6",type:"variable",icon:""}],generateSDL:$le},Tj=[{id:"ecb_commitment",label:"Impegno BCE",description:"Probabilit e decisione della BCE di lanciare l'Euro Digitale (0=annullamento, 100=lancio pieno)",unit:"%",min:20,max:100,step:5,default:85,source:"ECB Digital Euro project, fase di preparazione 2025",format:t=>`${t}%`},{id:"privacy_level",label:"Tutela privacy",description:"Livello di privacy garantito nelle transazioni (0=trasparenza totale, 100=anonimato simil-contante)",unit:"%",min:10,max:100,step:5,default:70,source:"EU Digital Euro Regulation proposal, 2024",format:t=>`${t}%`},{id:"holding_limit",label:"Limite di detenzione",description:"Importo massimo detenibile in Euro Digitale per persona, in euro",unit:"",min:500,max:1e4,step:500,default:3e3,source:"ECB proposta di limite individuale, 2025",format:t=>`${t.toLocaleString("it")} `},{id:"offline_capability",label:"Capacit offline",description:"Livello di supporto per pagamenti offline senza connessione internet",unit:"%",min:10,max:100,step:5,default:60,source:"Requisiti tecnici BCE per offline payments",format:t=>`${t}%`}],nc=[2025,2026,2027,2028,2029,2030,2031,2032],Ple=[{name:"wallet_adoption",baseValues:[0,2,8,18,32,45,55,62],sensitivities:{ecb_commitment:.6,privacy_level:.35,holding_limit:.1,offline_capability:.25}},{name:"daily_transactions",baseValues:[0,.5,3,12,35,70,110,150],sensitivities:{ecb_commitment:.5,privacy_level:.2,holding_limit:.15,offline_capability:.3}},{name:"bank_branch_count",baseValues:[125,122,118,112,105,97,90,84],sensitivities:{ecb_commitment:-.15,privacy_level:.05,holding_limit:-.1,offline_capability:-.05}},{name:"bank_deposits_shift",baseValues:[0,.3,1.2,2.8,4.5,6,7.2,8],sensitivities:{ecb_commitment:.4,privacy_level:.1,holding_limit:.5,offline_capability:.1}},{name:"financial_inclusion",baseValues:[62,63,66,70,74,78,81,84],sensitivities:{ecb_commitment:.3,privacy_level:.1,holding_limit:.05,offline_capability:.45}}];function Ale(t,e){const n={};for(const r of Tj)n[r.id]=r.default;return t.baseValues.map((r,i)=>{const a=.3+.7*(i/(t.baseValues.length-1));let o=0;for(const[s,l]of Object.entries(t.sensitivities)){const c=n[s];c!==0&&(o+=l*((e[s]??c)-c)/c*a)}return Math.max(0,Math.round(r*(1+o)*100)/100)})}const Ir=t=>Number.isInteger(t)?t.toString():t.toFixed(2);function Cle(t){const e={};for(const o of Ple)e[o.name]=Ale(o,t);const n=t.ecb_commitment??85,r=t.privacy_level??70,i=t.holding_limit??3e3,a=t.offline_capability??60;return`
scenario "Euro Digitale  Adozione CBDC 2025-2032" {
  timeframe: 2025 -> 2032
  resolution: yearly
  confidence: 0.50
  author: "Relatronica  Citizen Lab"
  description: "Simulazione dell'adozione dell'Euro Digitale e impatto su banche, inclusione e depositi"
  tags: ["finanza", "cbdc", "eurozona", "banche", "inclusione"]
  subtitle: "Adozione CBDC, banche e inclusione 2025-2032"
  category: economia
  icon: ""
  color: "#f59e0b"
  difficulty: base

  parameter ecb_commitment {
    label: "Impegno BCE"
    value: ${(n/100).toFixed(2)}
    range: [0.20, 1.0]
    step: 0.05
    unit: "%"
    source: "ECB Digital Euro project, fase di preparazione 2025"
    format: "{value}%"
    control: slider
    description: "Probabilit e decisione della BCE di lanciare l'Euro Digitale"
  }

  parameter privacy_level {
    label: "Tutela privacy"
    value: ${(r/100).toFixed(2)}
    range: [0.10, 1.0]
    step: 0.05
    unit: "%"
    source: "EU Digital Euro Regulation proposal, 2024"
    format: "{value}%"
    control: slider
    description: "Livello di privacy garantito nelle transazioni"
  }

  parameter holding_limit {
    label: "Limite di detenzione"
    value: ${i}
    range: [500, 10000]
    step: 500
    unit: ""
    source: "ECB proposta di limite individuale, 2025"
    format: "{value} "
    control: slider
    description: "Importo massimo detenibile in Euro Digitale per persona"
  }

  parameter offline_capability {
    label: "Capacit offline"
    value: ${(a/100).toFixed(2)}
    range: [0.10, 1.0]
    step: 0.05
    unit: "%"
    source: "Requisiti tecnici BCE per offline payments"
    format: "{value}%"
    control: slider
    description: "Livello di supporto per pagamenti offline senza connessione internet"
  }

  variable wallet_adoption {
    label: "Adozione wallet"
    description: "Percentuale adulti eurozona con wallet Euro Digitale"
    unit: "percentuale"
    icon: ""
    color: "#3b82f6"
    ${nc.map((o,s)=>`${o}: ${Ir(e.wallet_adoption[s])}`).join(`
    `)}
    depends_on: ecb_commitment, privacy_level, offline_capability
    uncertainty: normal(20%)
    interpolation: spline
  }

  variable daily_transactions {
    label: "Transazioni giornaliere"
    description: "Transazioni giornaliere medie in milioni"
    unit: "milioni"
    icon: ""
    color: "#10b981"
    ${nc.map((o,s)=>`${o}: ${Ir(e.daily_transactions[s])}`).join(`
    `)}
    depends_on: wallet_adoption
    uncertainty: normal(25%)
    interpolation: spline
  }

  variable bank_branch_count {
    label: "Filiali bancarie"
    description: "Filiali bancarie nell'eurozona (migliaia)"
    unit: "migliaia"
    icon: ""
    color: "#ef4444"
    ${nc.map((o,s)=>`${o}: ${Ir(e.bank_branch_count[s])}`).join(`
    `)}
    depends_on: wallet_adoption
    uncertainty: normal(8%)
    interpolation: linear
  }

  variable bank_deposits_shift {
    label: "Shift depositi"
    description: "Depositi retail migrati da banche a CBDC (%)"
    unit: "percentuale"
    icon: ""
    color: "#f59e0b"
    ${nc.map((o,s)=>`${o}: ${Ir(e.bank_deposits_shift[s])}`).join(`
    `)}
    depends_on: wallet_adoption, holding_limit
    uncertainty: normal(15%)
    interpolation: linear
  }

  variable financial_inclusion {
    label: "Inclusione finanziaria"
    description: "Indice inclusione finanziaria (0-100)"
    unit: "indice"
    icon: ""
    color: "#8b5cf6"
    ${nc.map((o,s)=>`${o}: ${Ir(e.financial_inclusion[s])}`).join(`
    `)}
    depends_on: wallet_adoption, offline_capability
    uncertainty: normal(10%)
    interpolation: spline
  }

  impact disruption_bancaria {
    label: "Disruption bancaria"
    description: "Indice di disruption del settore bancario"
    unit: "indice"
    icon: ""
    color: "#ef4444"
    derives_from: bank_deposits_shift, bank_branch_count
    formula: (bank_deposits_shift * 10) + ((125 - bank_branch_count) / 125 * 100)
  }

  impact guadagno_inclusione {
    label: "Guadagno inclusione"
    description: "Guadagno netto in inclusione finanziaria"
    unit: "punti"
    icon: ""
    color: "#10b981"
    derives_from: financial_inclusion
    formula: financial_inclusion - 62
  }

  branch "Adozione massiva" when wallet_adoption > 50 and daily_transactions > 100 {
    probability: 0.25
    variable bank_deposits_shift { 2031: ${Ir(e.bank_deposits_shift[6]*1.4)}  2032: ${Ir(e.bank_deposits_shift[7]*1.75)}  uncertainty: normal(20%) }
  }

  branch "Rivolta privacy" when privacy_level < 0.4 {
    probability: 0.15
    variable wallet_adoption { 2030: ${Ir(e.wallet_adoption[5]*.5)}  2031: ${Ir(e.wallet_adoption[6]*.45)}  2032: ${Ir(e.wallet_adoption[7]*.45)}  uncertainty: normal(15%) }
  }

  simulate { runs: 2000  method: monte_carlo  seed: 2026  output: distribution  percentiles: [5, 25, 50, 75, 95]  convergence: 0.02 }
}`}const Ele={meta:{id:"euro-digitale",title:"Euro Digitale",subtitle:"Adozione CBDC, banche e inclusione 2025-2032",description:"La BCE sta preparando l'Euro Digitale. Come cambier il sistema bancario? Quali effetti su depositi, filiali, inclusione finanziaria e privacy dei cittadini?",category:"economia",tags:["finanza","CBDC","banche","privacy","inclusione"],icon:"",color:"#f59e0b",period:"2025  2032",difficulty:"base"},sliders:Tj,variables:[{id:"wallet_adoption",label:"Adozione wallet",description:"Percentuale di adulti con wallet Euro Digitale",unit:"%",color:"#3b82f6",type:"variable",icon:""},{id:"daily_transactions",label:"Transazioni giornaliere",description:"Milioni di transazioni al giorno in Euro Digitale",unit:"milioni",color:"#10b981",type:"variable",icon:""},{id:"bank_branch_count",label:"Filiali bancarie",description:"Numero di filiali bancarie rimaste nell'eurozona (migliaia)",unit:"migliaia",color:"#ef4444",type:"variable",icon:""},{id:"bank_deposits_shift",label:"Shift depositi",description:"Percentuale di depositi retail migrati verso CBDC",unit:"%",color:"#f59e0b",type:"variable",icon:""},{id:"disruption_bancaria",label:"Disruption bancaria",description:"Indice composito di disruption del settore bancario",unit:"indice",color:"#ef4444",type:"impact",icon:""},{id:"financial_inclusion",label:"Inclusione finanziaria",description:"Indice di inclusione finanziaria per la popolazione underbanked",unit:"indice",color:"#8b5cf6",type:"variable",icon:""}],generateSDL:Cle},Mj=[{id:"fertility_rate",label:"Tasso di fecondit EU",description:"Tasso di fecondit medio EU-27. Attualmente 1.46, servirebbero 2.1 per il ricambio generazionale",unit:"figli/donna",min:1,max:2.2,step:.05,default:1.46,source:"Eurostat, EU-27 Total Fertility Rate 2024",format:t=>`${t.toFixed(2)}`},{id:"net_migration",label:"Immigrazione netta annua",description:"Saldo migratorio netto annuo nell'UE-27 in migliaia di persone",unit:"migliaia",min:200,max:4e3,step:100,default:1500,source:"Eurostat migration statistics 2024",format:t=>`${t}K/anno`},{id:"retirement_age",label:"Et pensionabile media",description:"Et media effettiva di pensionamento nell'UE",unit:"anni",min:62,max:72,step:.5,default:65,source:"European Commission Ageing Report 2024",format:t=>`${t} anni`},{id:"productivity_growth",label:"Crescita produttivit",description:"Tasso annuo di crescita della produttivit del lavoro in percentuale",unit:"%",min:.2,max:3,step:.1,default:1.2,source:"European Commission Ageing Report 2024; OECD Productivity",format:t=>`${t.toFixed(1)}%`}],Lo=[2025,2030,2035,2040,2045,2050,2055,2060],Tle=[{name:"total_population",baseValues:[448,446,442,436,428,418,407,395],sensitivities:{fertility_rate:.12,net_migration:.2,retirement_age:0,productivity_growth:.02}},{name:"working_age_pop",baseValues:[290,280,268,255,242,228,216,205],sensitivities:{fertility_rate:.15,net_migration:.3,retirement_age:.15,productivity_growth:0}},{name:"dependency_ratio",baseValues:[33,37,43,48,53,57,59,60],sensitivities:{fertility_rate:-.18,net_migration:-.15,retirement_age:-.3,productivity_growth:0}},{name:"pension_expenditure",baseValues:[12.5,13.2,14.1,15,15.8,16.4,16.8,17],sensitivities:{fertility_rate:-.08,net_migration:-.1,retirement_age:-.4,productivity_growth:-.12}},{name:"gdp_growth",baseValues:[1.4,1.1,.8,.5,.3,.1,-.1,-.3],sensitivities:{fertility_rate:.1,net_migration:.2,retirement_age:.05,productivity_growth:.6}},{name:"labor_shortage",baseValues:[100,115,135,155,172,185,192,198],sensitivities:{fertility_rate:-.1,net_migration:-.35,retirement_age:-.1,productivity_growth:-.15}}];function Mle(t,e){const n={};for(const r of Mj)n[r.id]=r.default;return t.baseValues.map((r,i)=>{const a=.3+.7*(i/(t.baseValues.length-1));let o=0;for(const[s,l]of Object.entries(t.sensitivities)){const c=n[s];c!==0&&(o+=l*((e[s]??c)-c)/c*a)}return Math.round(r*(1+o)*100)/100})}const Un=t=>Number.isInteger(t)?t.toString():t.toFixed(2);function jle(t){const e={};for(const n of Tle)e[n.name]=Mle(n,t);return`
scenario "Inverno Demografico Europeo 2025-2060" {
  timeframe: 2025 -> 2060
  resolution: yearly
  confidence: 0.45
  author: "Relatronica  Citizen Lab"
  description: "Proiezioni demografiche EU-27: popolazione, forza lavoro, pensioni e crescita economica"
  tags: ["europa", "demografia", "pensioni", "migrazione", "fiscale"]

  assumption fertility_rate { value: ${t.fertility_rate??1.46}  source: "Eurostat 2024"  confidence: 0.7  uncertainty: normal(8%) }
  assumption net_migration { value: ${(t.net_migration??1500)*1e3}  source: "Eurostat migration 2024"  confidence: 0.4  uncertainty: triangular(500000, 1500000, 3500000) }
  assumption retirement_age { value: ${t.retirement_age??65}  source: "EC Ageing Report 2024"  confidence: 0.8  uncertainty: uniform(64, 70) }
  assumption productivity_growth { value: ${((t.productivity_growth??1.2)/100).toFixed(3)}  source: "EC Ageing Report 2024"  confidence: 0.5  uncertainty: normal(30%) }

  variable total_population {
    description: "Popolazione totale EU-27"
    unit: "milioni"
    ${Lo.map((n,r)=>`${n}: ${Un(e.total_population[r])}`).join(`
    `)}
    depends_on: fertility_rate, net_migration
    uncertainty: normal(3%)
    interpolation: spline
  }

  variable working_age_pop {
    description: "Popolazione in et lavorativa (15-64)"
    unit: "milioni"
    ${Lo.map((n,r)=>`${n}: ${Un(e.working_age_pop[r])}`).join(`
    `)}
    depends_on: fertility_rate, net_migration, retirement_age
    uncertainty: normal(5%)
    interpolation: spline
  }

  variable dependency_ratio {
    description: "Rapporto di dipendenza anziani (65+ / 15-64)"
    unit: "percentuale"
    label: "Indice dipendenza"
    icon: ""
    color: "#ef4444"
    ${Lo.map((n,r)=>`${n}: ${Un(e.dependency_ratio[r])}`).join(`
    `)}
    depends_on: working_age_pop
    uncertainty: normal(8%)
    interpolation: spline
  }

  variable pension_expenditure {
    description: "Spesa pensionistica pubblica (% PIL)"
    unit: "percentuale PIL"
    label: "Spesa pensioni / PIL"
    icon: ""
    color: "#f59e0b"
    ${Lo.map((n,r)=>`${n}: ${Un(e.pension_expenditure[r])}`).join(`
    `)}
    depends_on: dependency_ratio, productivity_growth
    uncertainty: normal(12%)
    interpolation: spline
  }

  variable gdp_growth {
    description: "Tasso di crescita reale PIL EU-27"
    unit: "percentuale"
    label: "Crescita PIL"
    icon: ""
    color: "#10b981"
    ${Lo.map((n,r)=>`${n}: ${Un(e.gdp_growth[r])}`).join(`
    `)}
    depends_on: working_age_pop, productivity_growth
    uncertainty: normal(25%)
    interpolation: spline
  }

  variable labor_shortage {
    description: "Indice carenza manodopera (2025=100)"
    unit: "indice"
    label: "Carenza manodopera"
    icon: ""
    color: "#8b5cf6"
    ${Lo.map((n,r)=>`${n}: ${Un(e.labor_shortage[r])}`).join(`
    `)}
    depends_on: working_age_pop, net_migration
    uncertainty: normal(15%)
    interpolation: spline
  }

  impact pressione_fiscale {
    description: "Aumento spesa pensionistica rispetto al 2025"
    unit: "punti % PIL"
    label: "Pressione aggiuntiva"
    icon: ""
    color: "#ef4444"
    derives_from: pension_expenditure
    formula: pension_expenditure - 12.5
  }

  impact declino_forza_lavoro {
    description: "Calo cumulativo della popolazione in et lavorativa"
    unit: "milioni"
    derives_from: working_age_pop
    formula: 290 - working_age_pop
  }

  branch "Apertura migratoria" when net_migration > 2500000 {
    probability: 0.20
    variable working_age_pop { 2035: ${Un(e.working_age_pop[2]*1.04)}  2040: ${Un(e.working_age_pop[3]*1.06)}  2050: ${Un(e.working_age_pop[5]*1.12)}  uncertainty: normal(6%) }
  }

  branch "Stagnazione secolare" when gdp_growth < 0.3 and dependency_ratio > 50 {
    probability: 0.30
    variable pension_expenditure { 2045: ${Un(e.pension_expenditure[4]*1.1)}  2050: ${Un(e.pension_expenditure[5]*1.15)}  2060: ${Un(e.pension_expenditure[7]*1.25)}  uncertainty: normal(15%) }
  }

  simulate { runs: 2000  method: monte_carlo  seed: 2050  output: distribution  percentiles: [5, 25, 50, 75, 95]  convergence: 0.01 }
}`}const Qle={meta:{id:"inverno-demografico-eu",title:"Inverno Demografico Europeo",subtitle:"Popolazione, pensioni e forza lavoro EU 2025-2060",description:"L'Europa perde 85 milioni di abitanti in et lavorativa entro il 2060. Come reagire? Migrazione, natalit, riforma pensioni e automazione: esplora i futuri possibili.",category:"societa",tags:["demografia","pensioni","migrazione","EU","invecchiamento"],icon:"",color:"#8b5cf6",period:"2025  2060",difficulty:"intermedio"},sliders:Mj,variables:[{id:"total_population",label:"Popolazione EU",description:"Popolazione totale EU-27 in milioni",unit:"milioni",color:"#3b82f6",type:"variable",icon:""},{id:"working_age_pop",label:"Forza lavoro",description:"Popolazione 15-64 anni in milioni",unit:"milioni",color:"#10b981",type:"variable",icon:""},{id:"dependency_ratio",label:"Indice dipendenza",description:"Rapporto anziani 65+ su popolazione attiva",unit:"%",color:"#ef4444",type:"variable",icon:""},{id:"pension_expenditure",label:"Spesa pensioni / PIL",description:"Spesa pensionistica pubblica come percentuale del PIL",unit:"% PIL",color:"#f59e0b",type:"variable",icon:""},{id:"pressione_fiscale",label:"Pressione aggiuntiva",description:"Punti % di PIL aggiuntivi per le pensioni rispetto al 2025",unit:"pp PIL",color:"#ef4444",type:"impact",icon:""},{id:"gdp_growth",label:"Crescita PIL",description:"Tasso di crescita reale annuo del PIL EU",unit:"%",color:"#10b981",type:"variable",icon:""},{id:"labor_shortage",label:"Carenza manodopera",description:"Indice di severit della carenza di manodopera",unit:"indice",color:"#8b5cf6",type:"variable",icon:""}],generateSDL:jle},jj=[{id:"rainfall_index",label:"Indice precipitazioni",description:"Indice precipitazioni annuali nel Mediterraneo (100 = media 2020-2024). Valori bassi indicano siccit",unit:"indice",min:50,max:120,step:5,default:100,source:"Copernicus ERA5 Mediterranean precipitation baseline, 2020-2024",format:t=>`${t}`},{id:"temperature_anomaly",label:"Anomalia termica",description:"Anomalia di temperatura media rispetto al periodo pre-industriale in gradi Celsius",unit:"C",min:.8,max:3,step:.1,default:1.3,source:"IPCC AR6 Mediterranean hotspot",format:t=>`+${t.toFixed(1)}C`},{id:"infra_investment",label:"Investimenti infrastruttura",description:"Investimento annuo EU + nazionale in infrastruttura idrica in miliardi di euro",unit:"miliardi ",min:2,max:30,step:1,default:8,source:"EU Water Framework Directive budget allocation",format:t=>`${t} mld `},{id:"irrigation_efficiency",label:"Efficienza irrigazione",description:"Target di efficienza irrigua per l'agricoltura mediterranea (% acqua effettivamente utilizzata)",unit:"%",min:40,max:95,step:5,default:75,source:"FAO AQUASTAT irrigation efficiency data",format:t=>`${t}%`}],rc=[2025,2028,2030,2035,2040,2045],zle=[{name:"water_stress",baseValues:[42,47,52,63,72,78],sensitivities:{rainfall_index:-.55,temperature_anomaly:.4,infra_investment:-.15,irrigation_efficiency:-.2}},{name:"desalination_capacity",baseValues:[12,15,19,30,42,55],sensitivities:{rainfall_index:-.1,temperature_anomaly:.1,infra_investment:.6,irrigation_efficiency:0}},{name:"agricultural_output",baseValues:[100,97,93,84,76,70],sensitivities:{rainfall_index:.4,temperature_anomaly:-.35,infra_investment:.1,irrigation_efficiency:.35}},{name:"population_at_risk",baseValues:[80,95,110,142,165,180],sensitivities:{rainfall_index:-.4,temperature_anomaly:.35,infra_investment:-.15,irrigation_efficiency:-.1}},{name:"conflict_risk",baseValues:[22,28,35,48,58,65],sensitivities:{rainfall_index:-.45,temperature_anomaly:.3,infra_investment:-.2,irrigation_efficiency:-.1}}];function Ile(t,e){const n={};for(const r of jj)n[r.id]=r.default;return t.baseValues.map((r,i)=>{const a=.3+.7*(i/(t.baseValues.length-1));let o=0;for(const[s,l]of Object.entries(t.sensitivities)){const c=n[s];c!==0&&(o+=l*((e[s]??c)-c)/c*a)}return Math.max(0,Math.round(r*(1+o)*100)/100)})}const An=t=>Number.isInteger(t)?t.toString():t.toFixed(2);function Rle(t){const e={};for(const o of zle)e[o.name]=Ile(o,t);const n=t.rainfall_index??100,r=t.temperature_anomaly??1.3,i=t.infra_investment??8,a=t.irrigation_efficiency??75;return`
scenario "Crisi Idrica Mediterraneo 2025-2045" {
  timeframe: 2025 -> 2045
  resolution: yearly
  confidence: 0.40
  author: "Relatronica  Citizen Lab"
  description: "Modelli della crisi idrica mediterranea: precipitazioni, agricoltura, desalinizzazione e conflitti"
  tags: ["acqua", "clima", "agricoltura", "mediterraneo", "infrastrutture"]
  subtitle: "Acqua, agricoltura e conflitti 2025-2045"
  category: "ambiente"
  icon: ""
  color: "#10b981"
  difficulty: "avanzato"

  parameter rainfall_index {
    label: "Indice precipitazioni"
    value: ${n}
    range: [50, 120]
    step: 5
    unit: "indice"
    source: "Copernicus ERA5"
    format: "{value}"
    control: slider
    description: "Indice precipitazioni annuali nel Mediterraneo (100 = media 2020-2024)"
  }
  parameter temperature_anomaly {
    label: "Anomalia termica"
    value: ${r}
    range: [0.8, 3.0]
    step: 0.1
    unit: "C"
    source: "IPCC AR6"
    format: "+{value}C"
    control: slider
    description: "Anomalia di temperatura media rispetto al periodo pre-industriale"
  }
  parameter infra_investment {
    label: "Investimenti infrastruttura"
    value: ${i*1e9}
    range: [2, 30]
    step: 1
    unit: "miliardi "
    source: "EU Water Framework Directive"
    format: "{value} mld "
    control: slider
    description: "Investimento annuo EU + nazionale in infrastruttura idrica in miliardi di euro"
  }
  parameter irrigation_efficiency {
    label: "Efficienza irrigazione"
    value: ${(a/100).toFixed(2)}
    range: [40, 95]
    step: 5
    unit: "%"
    source: "FAO AQUASTAT"
    format: "{value}%"
    control: slider
    description: "Target di efficienza irrigua per l'agricoltura mediterranea"
  }

  variable water_stress {
    description: "Indice stress idrico Mediterraneo (0=abbondante, 100=scarsit estrema)"
    unit: "indice"
    ${rc.map((o,s)=>`${o}: ${An(e.water_stress[s])}`).join(`
    `)}
    depends_on: rainfall_index, temperature_anomaly
    uncertainty: normal(15%)
    interpolation: spline
  }

  variable desalination_capacity {
    description: "Capacit desalinizzazione installata"
    unit: "milioni m/giorno"
    ${rc.map((o,s)=>`${o}: ${An(e.desalination_capacity[s])}`).join(`
    `)}
    depends_on: infra_investment
    uncertainty: normal(18%)
    interpolation: spline
  }

  variable agricultural_output {
    description: "Produzione agricola mediterranea (2025=100)"
    unit: "indice"
    label: "Produzione agricola"
    icon: ""
    color: "#10b981"
    ${rc.map((o,s)=>`${o}: ${An(e.agricultural_output[s])}`).join(`
    `)}
    depends_on: water_stress, irrigation_efficiency
    uncertainty: normal(15%)
    interpolation: spline
  }

  variable population_at_risk {
    description: "Popolazione sotto stress idrico elevato"
    unit: "milioni"
    ${rc.map((o,s)=>`${o}: ${An(e.population_at_risk[s])}`).join(`
    `)}
    depends_on: water_stress, desalination_capacity
    uncertainty: normal(12%)
    interpolation: linear
  }

  variable conflict_risk {
    description: "Rischio conflitto idrico transfrontaliero (0-100)"
    unit: "indice"
    label: "Rischio conflitto"
    icon: ""
    color: "#8b5cf6"
    ${rc.map((o,s)=>`${o}: ${An(e.conflict_risk[s])}`).join(`
    `)}
    depends_on: water_stress
    uncertainty: beta(4, 4)
    interpolation: spline
  }

  impact rischio_alimentare {
    description: "Rischio sicurezza alimentare"
    unit: "indice"
    label: "Rischio alimentare"
    icon: ""
    color: "#ef4444"
    derives_from: agricultural_output
    formula: 100 - agricultural_output
  }

  impact gap_infrastrutturale {
    description: "Gap tra capacit desalinizzazione e fabbisogno"
    unit: "milioni m/giorno"
    derives_from: desalination_capacity, population_at_risk
    formula: (population_at_risk * 0.15) - desalination_capacity
  }

  branch "Siccit estrema" when rainfall_index < 70 and temperature_anomaly > 2.0 {
    probability: 0.18
    variable water_stress { 2030: ${An(Math.min(95,e.water_stress[2]*1.25))}  2035: ${An(Math.min(95,e.water_stress[3]*1.27))}  2040: ${An(Math.min(95,e.water_stress[4]*1.25))}  uncertainty: normal(10%) }
    variable agricultural_output { 2035: ${An(e.agricultural_output[3]*.77)}  2040: ${An(e.agricultural_output[4]*.66)}  uncertainty: normal(20%) }
  }

  branch "Piano Marshall idrico" when infra_investment > 15000000000 {
    probability: 0.15
    variable desalination_capacity { 2035: ${An(e.desalination_capacity[3]*1.5)}  2040: ${An(e.desalination_capacity[4]*1.67)}  2045: ${An(e.desalination_capacity[5]*1.73)}  uncertainty: normal(15%) }
  }

  simulate { runs: 2000  method: monte_carlo  seed: 2040  output: distribution  percentiles: [5, 25, 50, 75, 95]  convergence: 0.01 }
}`}const Dle={meta:{id:"crisi-idrica",title:"Crisi Idrica Mediterraneo",subtitle:"Acqua, agricoltura e conflitti 2025-2045",description:"Il Mediterraneo  un hotspot climatico: le precipitazioni calano, le temperature salgono, le falde si svuotano. Quanto investire in desalinizzazione? Baster l'efficienza irrigua? Esplora gli scenari.",category:"ambiente",tags:["acqua","clima","siccit","agricoltura","Mediterraneo"],icon:"",color:"#10b981",period:"2025  2045",difficulty:"avanzato"},sliders:jj,variables:[{id:"water_stress",label:"Stress idrico",description:"Indice di stress idrico (0=abbondante, 100=scarsit estrema)",unit:"indice",color:"#ef4444",type:"variable",icon:""},{id:"desalination_capacity",label:"Desalinizzazione",description:"Capacit installata in milioni m/giorno",unit:"Mm/g",color:"#3b82f6",type:"variable",icon:""},{id:"agricultural_output",label:"Produzione agricola",description:"Indice di produzione agricola mediterranea",unit:"indice",color:"#10b981",type:"variable",icon:""},{id:"population_at_risk",label:"Popolazione a rischio",description:"Milioni di persone sotto stress idrico elevato",unit:"milioni",color:"#f59e0b",type:"variable",icon:""},{id:"rischio_alimentare",label:"Rischio alimentare",description:"Indice di rischio sicurezza alimentare",unit:"indice",color:"#ef4444",type:"impact",icon:""},{id:"conflict_risk",label:"Rischio conflitto",description:"Rischio di conflitto idrico transfrontaliero",unit:"indice",color:"#8b5cf6",type:"variable",icon:""}],generateSDL:Rle},Qj=[{id:"surveillance_coverage",label:"Copertura sorveglianza",description:"Percentuale della popolazione mondiale coperta da sorveglianza genomica dei patogeni",unit:"%",min:10,max:85,step:5,default:35,source:"WHO Global Genomic Surveillance Strategy, 2024",format:t=>`${t}%`},{id:"vaccine_investment",label:"Investimenti vaccini",description:"Investimento annuo globale in piattaforme vaccinali rapide (miliardi USD)",unit:"miliardi $",min:2,max:30,step:1,default:8,source:"CEPI 100-Day Mission; G20 Pandemic Fund",format:t=>`${t} mld $`},{id:"amr_control",label:"Contrasto AMR",description:"Livello di investimento nel contrasto alla resistenza antimicrobica (0=minimo, 100=massimo)",unit:"%",min:10,max:100,step:5,default:40,source:"WHO Global Action Plan on AMR; GARDP",format:t=>`${t}%`},{id:"health_funding",label:"Fondi sicurezza sanitaria",description:"Finanziamento annuo globale per la sicurezza sanitaria in miliardi USD",unit:"miliardi $",min:10,max:80,step:5,default:31,source:"G20 Pandemic Fund + bilaterale, 2025",format:t=>`${t} mld $`}],ic=[2025,2027,2029,2031,2033,2035,2040],Nle=[{name:"genomic_surveillance",baseValues:[18,25,34,44,54,62,75],sensitivities:{surveillance_coverage:.65,vaccine_investment:.05,amr_control:0,health_funding:.25}},{name:"vaccine_response_time",baseValues:[300,250,200,160,130,100,70],sensitivities:{surveillance_coverage:-.1,vaccine_investment:-.55,amr_control:0,health_funding:-.15}},{name:"amr_deaths",baseValues:[1.3,1.5,1.8,2.1,2.5,2.9,4],sensitivities:{surveillance_coverage:-.05,vaccine_investment:0,amr_control:-.55,health_funding:-.1}},{name:"pandemic_gdp_risk",baseValues:[.8,.7,.6,.5,.4,.35,.25],sensitivities:{surveillance_coverage:-.3,vaccine_investment:-.35,amr_control:-.05,health_funding:-.2}},{name:"detection_time",baseValues:[45,38,30,23,18,14,8],sensitivities:{surveillance_coverage:-.6,vaccine_investment:-.05,amr_control:0,health_funding:-.2}}];function Lle(t,e){const n={};for(const r of Qj)n[r.id]=r.default;return t.baseValues.map((r,i)=>{const a=.3+.7*(i/(t.baseValues.length-1));let o=0;for(const[s,l]of Object.entries(t.sensitivities)){const c=n[s];c!==0&&(o+=l*((e[s]??c)-c)/c*a)}return Math.max(0,Math.round(r*(1+o)*1e3)/1e3)})}const Cn=t=>Number.isInteger(t)?t.toString():t.toFixed(2);function Ble(t){const e={};for(const n of Nle)e[n.name]=Lle(n,t);return`
scenario "Preparazione Pandemica Globale 2025-2040" {
  timeframe: 2025 -> 2040
  resolution: yearly
  confidence: 0.30
  author: "Relatronica  Citizen Lab"
  description: "Sorveglianza genomica, velocit vaccini, AMR e impatto economico delle pandemie"
  tags: ["salute", "pandemia", "globale", "biosicurezza", "AMR"]
  subtitle: "Sorveglianza, vaccini e AMR 2025-2040"
  category: "societa"
  icon: ""
  color: "#8b5cf6"
  difficulty: "intermedio"

  parameter surveillance_coverage {
    label: "Copertura sorveglianza"
    value: ${(t.surveillance_coverage??35)/100}
    range: [10, 85]
    step: 5
    unit: "%"
    source: "WHO 2024"
    format: "{value}%"
    control: slider
    description: "Percentuale della popolazione mondiale coperta da sorveglianza genomica dei patogeni"
  }
  parameter vaccine_investment {
    label: "Investimenti vaccini"
    value: ${(t.vaccine_investment??8)*1e9}
    range: [2, 30]
    step: 1
    unit: "miliardi $"
    source: "CEPI + G20 Pandemic Fund"
    format: "{value} mld $"
    control: slider
    description: "Investimento annuo globale in piattaforme vaccinali rapide (miliardi USD)"
  }
  parameter amr_control {
    label: "Contrasto AMR"
    value: ${((t.amr_control??40)/100).toFixed(2)}
    range: [10, 100]
    step: 5
    unit: "%"
    source: "WHO AMR Action Plan"
    format: "{value}%"
    control: slider
    description: "Livello di investimento nel contrasto alla resistenza antimicrobica (0=minimo, 100=massimo)"
  }
  parameter health_funding {
    label: "Fondi sicurezza sanitaria"
    value: ${(t.health_funding??31)*1e9}
    range: [10, 80]
    step: 5
    unit: "miliardi $"
    source: "G20 + bilaterale, 2025"
    format: "{value} mld $"
    control: slider
    description: "Finanziamento annuo globale per la sicurezza sanitaria in miliardi USD"
  }

  variable genomic_surveillance {
    description: "Copertura sorveglianza genomica globale"
    unit: "percentuale"
    label: "Sorveglianza genomica"
    icon: ""
    color: "#3b82f6"
    ${ic.map((n,r)=>`${n}: ${Cn(e.genomic_surveillance[r])}`).join(`
    `)}
    depends_on: surveillance_coverage, health_funding
    uncertainty: normal(18%)
    interpolation: spline
  }

  variable vaccine_response_time {
    description: "Giorni da identificazione patogeno a vaccino su scala"
    unit: "giorni"
    label: "Tempo risposta vaccino"
    icon: ""
    color: "#10b981"
    ${ic.map((n,r)=>`${n}: ${Cn(e.vaccine_response_time[r])}`).join(`
    `)}
    depends_on: vaccine_investment
    uncertainty: normal(20%)
    interpolation: spline
  }

  variable amr_deaths {
    description: "Decessi annuali per resistenza antimicrobica (milioni)"
    unit: "milioni"
    label: "Decessi AMR"
    icon: ""
    color: "#ef4444"
    ${ic.map((n,r)=>`${n}: ${Cn(e.amr_deaths[r])}`).join(`
    `)}
    depends_on: amr_control
    uncertainty: lognormal(0.1, 0.3)
    interpolation: spline
  }

  variable pandemic_gdp_risk {
    description: "Perdita PIL attesa annua da rischio pandemico (%)"
    unit: "percentuale"
    label: "Rischio PIL pandemico"
    icon: ""
    color: "#f59e0b"
    ${ic.map((n,r)=>`${n}: ${Cn(e.pandemic_gdp_risk[r])}`).join(`
    `)}
    depends_on: genomic_surveillance, vaccine_response_time
    uncertainty: lognormal(-1.2, 0.6)
    interpolation: spline
  }

  variable detection_time {
    description: "Giorni medi per rilevare un nuovo focolaio"
    unit: "giorni"
    label: "Tempo rilevamento"
    icon: ""
    color: "#8b5cf6"
    ${ic.map((n,r)=>`${n}: ${Cn(e.detection_time[r])}`).join(`
    `)}
    depends_on: genomic_surveillance
    uncertainty: lognormal(2.5, 0.5)
    interpolation: spline
  }

  impact indice_preparazione {
    description: "Score composito di preparazione pandemica (0-100)"
    unit: "indice"
    label: "Indice preparazione"
    icon: ""
    color: "#10b981"
    derives_from: genomic_surveillance, vaccine_response_time
    formula: (genomic_surveillance * 0.5) + ((300 - vaccine_response_time) / 300 * 50)
  }

  impact resilienza_economica {
    description: "Guadagno di resilienza economica"
    unit: "percentuale"
    derives_from: pandemic_gdp_risk
    formula: 0.8 - pandemic_gdp_risk
  }

  branch "Pandemia X" when pandemic_gdp_risk > 0.5 {
    probability: 0.12
    variable pandemic_gdp_risk { 2029: ${Cn(e.pandemic_gdp_risk[2]*7)}  2031: ${Cn(e.pandemic_gdp_risk[3]*3)}  2033: ${Cn(e.pandemic_gdp_risk[4]*1.5)}  uncertainty: lognormal(0.5, 0.8) }
  }

  branch "Vaccino in 100 giorni" when vaccine_response_time < 120 {
    probability: 0.30
    variable pandemic_gdp_risk { 2033: ${Cn(e.pandemic_gdp_risk[4]*.5)}  2035: ${Cn(e.pandemic_gdp_risk[5]*.4)}  2040: ${Cn(e.pandemic_gdp_risk[6]*.4)}  uncertainty: normal(25%) }
  }

  branch "Crisi AMR" when amr_deaths > 3 {
    probability: 0.22
    variable amr_deaths { 2035: ${Cn(e.amr_deaths[5]*1.55)}  2040: ${Cn(e.amr_deaths[6]*2.1)}  uncertainty: lognormal(1.0, 0.5) }
  }

  simulate { runs: 2000  method: monte_carlo  seed: 2035  output: distribution  percentiles: [5, 25, 50, 75, 95]  convergence: 0.01 }
}`}const Zle={meta:{id:"preparazione-pandemica",title:"Preparazione Pandemica",subtitle:"Sorveglianza, vaccini e AMR 2025-2040",description:"Quanto siamo preparati alla prossima pandemia? Esplora come sorveglianza genomica, piattaforme vaccinali rapide e contrasto alla resistenza antimicrobica possono salvare milioni di vite e punti di PIL.",category:"societa",tags:["salute","pandemia","vaccini","AMR","sorveglianza"],icon:"",color:"#8b5cf6",period:"2025  2040",difficulty:"intermedio"},sliders:Qj,variables:[{id:"genomic_surveillance",label:"Sorveglianza genomica",description:"Copertura della popolazione mondiale sotto sorveglianza genomica",unit:"%",color:"#3b82f6",type:"variable",icon:""},{id:"vaccine_response_time",label:"Tempo risposta vaccino",description:"Giorni da identificazione patogeno a vaccino disponibile",unit:"giorni",color:"#10b981",type:"variable",icon:""},{id:"amr_deaths",label:"Decessi AMR",description:"Decessi annuali globali per resistenza antimicrobica",unit:"milioni",color:"#ef4444",type:"variable",icon:""},{id:"pandemic_gdp_risk",label:"Rischio PIL pandemico",description:"Perdita annua di PIL attesa da rischio pandemico",unit:"%",color:"#f59e0b",type:"variable",icon:""},{id:"indice_preparazione",label:"Indice preparazione",description:"Score composito di preparazione pandemica globale",unit:"indice",color:"#10b981",type:"impact",icon:""},{id:"detection_time",label:"Tempo rilevamento",description:"Giorni medi per rilevare un nuovo focolaio epidemico",unit:"giorni",color:"#8b5cf6",type:"variable",icon:""}],generateSDL:Ble},zj=[{id:"pop_growth",label:"Crescita demografica",description:"Tasso annuo di crescita della popolazione in Africa sub-sahariana",unit:"%",min:1,max:3.5,step:.1,default:2.4,source:"UN World Population Prospects 2024, Sub-Saharan Africa",format:t=>`${t.toFixed(1)}%`},{id:"climate_finance",label:"Finanza climatica",description:"Flussi annui di finanza climatica verso l'Africa in miliardi USD",unit:"miliardi $",min:3,max:50,step:1,default:15,source:"UNFCCC climate finance flows to Africa, 2024",format:t=>`${t} mld $`},{id:"governance",label:"Qualit governance",description:"Indice di qualit della governance africana (0=fallimento, 100=eccellente)",unit:"indice",min:15,max:80,step:5,default:42,source:"Mo Ibrahim Index of African Governance, 2024",format:t=>`${t}/100`},{id:"infra_spend",label:"Spesa infrastrutture",description:"Spesa in infrastrutture come percentuale del PIL",unit:"% PIL",min:1,max:10,step:.5,default:3.5,source:"African Development Bank Infrastructure Index",format:t=>`${t.toFixed(1)}% PIL`}],Bo=[2025,2030,2035,2040,2045,2050,2055],Wle=[{name:"urban_population",baseValues:[590,730,880,1050,1220,1400,1560],sensitivities:{pop_growth:.6,climate_finance:0,governance:.05,infra_spend:0}},{name:"mobile_money",baseValues:[220,400,640,850,1050,1200,1350],sensitivities:{pop_growth:.15,climate_finance:.05,governance:.4,infra_spend:.15}},{name:"solar_offgrid",baseValues:[6,20,52,95,140,185,220],sensitivities:{pop_growth:.05,climate_finance:.55,governance:.15,infra_spend:.2}},{name:"gdp_per_capita",baseValues:[3800,4400,5200,6300,7600,9200,11e3],sensitivities:{pop_growth:-.15,climate_finance:.15,governance:.45,infra_spend:.25}},{name:"electrification",baseValues:[50,60,73,82,88,93,96],sensitivities:{pop_growth:-.1,climate_finance:.25,governance:.15,infra_spend:.35}},{name:"infra_gap",baseValues:[78,72,64,55,46,38,31],sensitivities:{pop_growth:.15,climate_finance:-.15,governance:-.25,infra_spend:-.45}}];function Xle(t,e){const n={};for(const r of zj)n[r.id]=r.default;return t.baseValues.map((r,i)=>{const a=.3+.7*(i/(t.baseValues.length-1));let o=0;for(const[s,l]of Object.entries(t.sensitivities)){const c=n[s];c!==0&&(o+=l*((e[s]??c)-c)/c*a)}return Math.max(0,Math.round(r*(1+o)*100)/100)})}const Jt=t=>Number.isInteger(t)?t.toString():t.toFixed(1);function Fle(t){const e={};for(const n of Wle)e[n.name]=Xle(n,t);return`
scenario "Urbanizzazione Africana e Leapfrog 2025-2055" {
  timeframe: 2025 -> 2055
  resolution: yearly
  confidence: 0.35
  author: "Relatronica  Citizen Lab"
  description: "L'onda di urbanizzazione africana e il potenziale di leapfrog tecnologico in finanza, energia e connettivit"
  tags: ["africa", "urbanizzazione", "leapfrog", "fintech", "solare"]
  subtitle: "Megacities, leapfrog e crescita 2025-2055"
  category: "economia"
  icon: ""
  color: "#f59e0b"
  difficulty: "intermedio"

  parameter pop_growth {
    label: "Crescita demografica"
    value: ${((t.pop_growth??2.4)/100).toFixed(3)}
    range: [1.0, 3.5]
    step: 0.1
    unit: "%"
    source: "UN WPP 2024"
    format: "{value}%"
    control: slider
    description: "Tasso annuo di crescita della popolazione in Africa sub-sahariana"
  }
  parameter climate_finance {
    label: "Finanza climatica"
    value: ${(t.climate_finance??15)*1e9}
    range: [3, 50]
    step: 1
    unit: "miliardi $"
    source: "UNFCCC 2024"
    format: "{value} mld $"
    control: slider
    description: "Flussi annui di finanza climatica verso l'Africa in miliardi USD"
  }
  parameter governance {
    label: "Qualit governance"
    value: ${((t.governance??42)/100).toFixed(2)}
    range: [15, 80]
    step: 5
    unit: "indice"
    source: "Mo Ibrahim Index 2024"
    format: "{value}/100"
    control: slider
    description: "Indice di qualit della governance africana (0=fallimento, 100=eccellente)"
  }
  parameter infra_spend {
    label: "Spesa infrastrutture"
    value: ${((t.infra_spend??3.5)/100).toFixed(3)}
    range: [1, 10]
    step: 0.5
    unit: "% PIL"
    source: "AfDB Infrastructure Index"
    format: "{value}% PIL"
    control: slider
    description: "Spesa in infrastrutture come percentuale del PIL"
  }

  variable urban_population {
    description: "Popolazione urbana Africa sub-sahariana"
    unit: "milioni"
    label: "Popolazione urbana"
    icon: ""
    color: "#3b82f6"
    ${Bo.map((n,r)=>`${n}: ${Jt(e.urban_population[r])}`).join(`
    `)}
    depends_on: pop_growth
    uncertainty: normal(8%)
    interpolation: spline
  }

  variable mobile_money {
    description: "Account mobile money attivi"
    unit: "milioni"
    label: "Mobile money"
    icon: ""
    color: "#10b981"
    ${Bo.map((n,r)=>`${n}: ${Jt(e.mobile_money[r])}`).join(`
    `)}
    depends_on: pop_growth, governance
    uncertainty: normal(18%)
    interpolation: spline
  }

  variable solar_offgrid {
    description: "Capacit solare off-grid installata"
    unit: "GW"
    label: "Solare off-grid"
    icon: ""
    color: "#f59e0b"
    ${Bo.map((n,r)=>`${n}: ${Jt(e.solar_offgrid[r])}`).join(`
    `)}
    depends_on: climate_finance
    uncertainty: normal(22%)
    interpolation: spline
  }

  variable gdp_per_capita {
    description: "PIL pro capite medio (PPP)"
    unit: "USD"
    label: "PIL pro capite"
    icon: ""
    color: "#8b5cf6"
    ${Bo.map((n,r)=>`${n}: ${Jt(e.gdp_per_capita[r])}`).join(`
    `)}
    depends_on: urban_population, mobile_money, governance
    uncertainty: normal(15%)
    interpolation: spline
  }

  variable electrification {
    description: "Tasso di elettrificazione"
    unit: "percentuale"
    label: "Elettrificazione"
    icon: ""
    color: "#10b981"
    ${Bo.map((n,r)=>`${n}: ${Jt(e.electrification[r])}`).join(`
    `)}
    depends_on: solar_offgrid, infra_spend
    uncertainty: normal(10%)
    interpolation: spline
  }

  variable infra_gap {
    description: "Gap infrastrutturale (100=massimo deficit)"
    unit: "indice"
    label: "Gap infrastrutturale"
    icon: ""
    color: "#ef4444"
    ${Bo.map((n,r)=>`${n}: ${Jt(e.infra_gap[r])}`).join(`
    `)}
    depends_on: infra_spend
    uncertainty: normal(15%)
    interpolation: spline
  }

  impact indice_leapfrog {
    description: "Progresso leapfrog digitale (fintech + energia + connettivit)"
    unit: "indice"
    label: "Indice leapfrog"
    icon: ""
    color: "#3b82f6"
    derives_from: mobile_money, electrification
    formula: (mobile_money / 1500 * 50) + (electrification * 0.5)
  }

  impact convergenza_economica {
    description: "PIL pro capite come % della media mondiale"
    unit: "percentuale"
    derives_from: gdp_per_capita
    formula: gdp_per_capita / 18000 * 100
  }

  branch "Leapfrog digitale" when mobile_money > 800 and electrification > 75 {
    probability: 0.28
    variable gdp_per_capita { 2040: ${Jt(e.gdp_per_capita[3]*1.2)}  2045: ${Jt(e.gdp_per_capita[4]*1.3)}  2050: ${Jt(e.gdp_per_capita[5]*1.36)}  uncertainty: normal(18%) }
  }

  branch "Trappola urbana" when infra_gap > 65 and urban_population > 1000 {
    probability: 0.25
    variable gdp_per_capita { 2040: ${Jt(e.gdp_per_capita[3]*.83)}  2045: ${Jt(e.gdp_per_capita[4]*.76)}  2050: ${Jt(e.gdp_per_capita[5]*.71)}  uncertainty: normal(20%) }
  }

  branch "Svolta governance" when governance > 0.6 {
    probability: 0.18
    variable gdp_per_capita { 2035: ${Jt(e.gdp_per_capita[2]*1.15)}  2040: ${Jt(e.gdp_per_capita[3]*1.27)}  2050: ${Jt(e.gdp_per_capita[5]*1.47)}  uncertainty: normal(15%) }
  }

  simulate { runs: 2000  method: latin_hypercube  seed: 2050  output: distribution  percentiles: [5, 25, 50, 75, 95]  convergence: 0.01 }
}`}const Vle={meta:{id:"urbanizzazione-africa",title:"Urbanizzazione Africana",subtitle:"Megacities, leapfrog e crescita 2025-2055",description:"L'Africa avr 1.4 miliardi di abitanti urbani nel 2050. Salter le fasi tradizionali di sviluppo con mobile money, solare off-grid e connettivit? Oppure rester intrappolata in megacities senza infrastrutture?",category:"economia",tags:["Africa","urbanizzazione","mobile money","solare","leapfrog"],icon:"",color:"#f59e0b",period:"2025  2055",difficulty:"intermedio"},sliders:zj,variables:[{id:"urban_population",label:"Popolazione urbana",description:"Popolazione urbana in Africa sub-sahariana",unit:"milioni",color:"#3b82f6",type:"variable",icon:""},{id:"mobile_money",label:"Mobile money",description:"Account mobile money attivi",unit:"milioni",color:"#10b981",type:"variable",icon:""},{id:"solar_offgrid",label:"Solare off-grid",description:"Capacit solare off-grid installata",unit:"GW",color:"#f59e0b",type:"variable",icon:""},{id:"gdp_per_capita",label:"PIL pro capite",description:"PIL pro capite medio a parit di potere d'acquisto",unit:"USD",color:"#8b5cf6",type:"variable",icon:""},{id:"electrification",label:"Elettrificazione",description:"Percentuale di popolazione con accesso all'elettricit",unit:"%",color:"#10b981",type:"variable",icon:""},{id:"indice_leapfrog",label:"Indice leapfrog",description:"Progresso composito del leapfrog tecnologico",unit:"indice",color:"#3b82f6",type:"impact",icon:""},{id:"infra_gap",label:"Gap infrastrutturale",description:"Indice di deficit infrastrutturale (100=massimo)",unit:"indice",color:"#ef4444",type:"variable",icon:""}],generateSDL:Fle},Ij=[{id:"us_commitment",label:"Impegno USA/NATO",description:"Livello di impegno degli Stati Uniti verso la NATO e la difesa europea (0=disimpegno, 100=pieno impegno)",unit:"%",min:10,max:100,step:5,default:65,source:"US Congressional NATO support votes + postura esecutiva, 2025",format:t=>`${t}%`},{id:"threat_level",label:"Livello minaccia russa",description:"Percezione della minaccia russa secondo le intelligence europee (0=bassa, 100=massima)",unit:"%",min:20,max:100,step:5,default:70,source:"EU INTCEN threat assessment, 2025",format:t=>`${t}%`},{id:"eu_cohesion",label:"Coesione politica UE",description:"Tasso di unanimit del Consiglio Europeo sulle decisioni PESC (0=paralisi, 100=unanimit)",unit:"%",min:15,max:90,step:5,default:55,source:"European Council CFSP unanimity rate, 2024",format:t=>`${t}%`},{id:"defense_budget",label:"Obiettivo spesa difesa",description:"Obiettivo medio di spesa per la difesa dei membri UE in percentuale del PIL",unit:"% PIL",min:1.5,max:4.5,step:.1,default:2.5,source:"NATO Defence Expenditure Guidelines; EU Council conclusions",format:t=>`${t.toFixed(1)}% PIL`}],Zo=[2025,2027,2029,2031,2033,2035,2038],Ule=[{name:"defense_spending",baseValues:[1.9,2.1,2.3,2.5,2.7,2.9,3.1],sensitivities:{us_commitment:-.25,threat_level:.4,eu_cohesion:.15,defense_budget:.5}},{name:"ammo_production",baseValues:[100,130,175,230,290,350,420],sensitivities:{us_commitment:-.1,threat_level:.35,eu_cohesion:.1,defense_budget:.45}},{name:"us_dependency",baseValues:[55,52,48,43,38,33,28],sensitivities:{us_commitment:.3,threat_level:-.1,eu_cohesion:-.25,defense_budget:-.15}},{name:"rapid_deployment",baseValues:[5,12,22,35,48,60,70],sensitivities:{us_commitment:-.1,threat_level:.2,eu_cohesion:.45,defense_budget:.25}},{name:"cyber_readiness",baseValues:[42,50,58,65,72,78,84],sensitivities:{us_commitment:-.05,threat_level:.25,eu_cohesion:.2,defense_budget:.35}},{name:"defense_employment",baseValues:[470,510,560,620,680,740,800],sensitivities:{us_commitment:-.05,threat_level:.15,eu_cohesion:.1,defense_budget:.5}}];function qle(t,e){const n={};for(const r of Ij)n[r.id]=r.default;return t.baseValues.map((r,i)=>{const a=.3+.7*(i/(t.baseValues.length-1));let o=0;for(const[s,l]of Object.entries(t.sensitivities)){const c=n[s];c!==0&&(o+=l*((e[s]??c)-c)/c*a)}return Math.max(0,Math.round(r*(1+o)*100)/100)})}const Ke=t=>Number.isInteger(t)?t.toString():t.toFixed(2);function Yle(t){const e={};for(const n of Ule)e[n.name]=qle(n,t);return`
scenario "Autonomia Strategica Difesa Europea 2025-2038" {
  timeframe: 2025 -> 2038
  resolution: yearly
  confidence: 0.25
  author: "Relatronica  Citizen Lab"
  description: "Traiettorie dell'autonomia strategica difensiva europea: relazioni transatlantiche, percezione minaccia, capacit industriale"
  tags: ["difesa", "europa", "geopolitica", "NATO", "industria"]
  subtitle: "NATO, industria e deterrenza 2025-2038"
  category: "politica"
  icon: ""
  color: "#ef4444"
  difficulty: "avanzato"

  parameter us_commitment {
    label: "Impegno USA/NATO"
    value: ${((t.us_commitment??65)/100).toFixed(2)}
    range: [10, 100]
    step: 5
    unit: "%"
    source: "US Congressional NATO support, 2025"
    format: "{value}%"
    control: slider
    description: "Livello di impegno degli Stati Uniti verso la NATO e la difesa europea"
  }
  parameter threat_level {
    label: "Livello minaccia russa"
    value: ${((t.threat_level??70)/100).toFixed(2)}
    range: [20, 100]
    step: 5
    unit: "%"
    source: "EU INTCEN assessment, 2025"
    format: "{value}%"
    control: slider
    description: "Percezione della minaccia russa secondo le intelligence europee"
  }
  parameter eu_cohesion {
    label: "Coesione politica UE"
    value: ${((t.eu_cohesion??55)/100).toFixed(2)}
    range: [15, 90]
    step: 5
    unit: "%"
    source: "European Council CFSP, 2024"
    format: "{value}%"
    control: slider
    description: "Tasso di unanimit del Consiglio Europeo sulle decisioni PESC"
  }
  parameter defense_budget {
    label: "Obiettivo spesa difesa"
    value: ${t.defense_budget??2.5}
    range: [1.5, 4.5]
    step: 0.1
    unit: "% PIL"
    source: "NATO Guidelines"
    format: "{value}% PIL"
    control: slider
    description: "Obiettivo medio di spesa per la difesa dei membri UE in percentuale del PIL"
  }

  variable defense_spending {
    description: "Spesa difesa media UE (% PIL)"
    unit: "percentuale PIL"
    label: "Spesa difesa"
    icon: ""
    color: "#3b82f6"
    ${Zo.map((n,r)=>`${n}: ${Ke(e.defense_spending[r])}`).join(`
    `)}
    depends_on: threat_level, us_commitment, defense_budget
    uncertainty: normal(15%)
    interpolation: spline
  }

  variable ammo_production {
    description: "Capacit produzione munizioni UE (2025=100)"
    unit: "indice"
    label: "Produzione munizioni"
    icon: ""
    color: "#f59e0b"
    ${Zo.map((n,r)=>`${n}: ${Ke(e.ammo_production[r])}`).join(`
    `)}
    depends_on: defense_spending
    uncertainty: normal(20%)
    interpolation: spline
  }

  variable us_dependency {
    description: "Dipendenza da equipaggiamento USA (% procurement)"
    unit: "percentuale"
    label: "Dipendenza USA"
    icon: ""
    color: "#ef4444"
    ${Zo.map((n,r)=>`${n}: ${Ke(e.us_dependency[r])}`).join(`
    `)}
    depends_on: us_commitment, eu_cohesion
    uncertainty: normal(12%)
    interpolation: linear
  }

  variable rapid_deployment {
    description: "Capacit di schieramento rapido (truppe in 30 giorni)"
    unit: "migliaia"
    label: "Schieramento rapido"
    icon: ""
    color: "#10b981"
    ${Zo.map((n,r)=>`${n}: ${Ke(e.rapid_deployment[r])}`).join(`
    `)}
    depends_on: defense_spending, eu_cohesion
    uncertainty: normal(25%)
    interpolation: spline
  }

  variable cyber_readiness {
    description: "Prontezza cyber-difesa collettiva UE (0-100)"
    unit: "indice"
    label: "Cyber difesa"
    icon: ""
    color: "#8b5cf6"
    ${Zo.map((n,r)=>`${n}: ${Ke(e.cyber_readiness[r])}`).join(`
    `)}
    depends_on: defense_spending
    uncertainty: normal(18%)
    interpolation: spline
  }

  variable defense_employment {
    description: "Occupazione industria difesa UE"
    unit: "migliaia"
    label: "Occupazione difesa"
    icon: ""
    color: "#10b981"
    ${Zo.map((n,r)=>`${n}: ${Ke(e.defense_employment[r])}`).join(`
    `)}
    depends_on: defense_spending, ammo_production
    uncertainty: normal(12%)
    interpolation: linear
  }

  impact autonomia_strategica {
    description: "Indice composito autonomia difensiva UE"
    unit: "indice"
    label: "Autonomia strategica"
    icon: ""
    color: "#3b82f6"
    derives_from: us_dependency, rapid_deployment, cyber_readiness
    formula: ((100 - us_dependency) * 0.33) + (rapid_deployment / 80 * 33) + (cyber_readiness * 0.34)
  }

  impact credibilita_deterrenza {
    description: "Indice credibilit di deterrenza UE"
    unit: "indice"
    derives_from: defense_spending, ammo_production, rapid_deployment
    formula: (defense_spending / 3 * 30) + (ammo_production / 500 * 40) + (rapid_deployment / 80 * 30)
  }

  branch "Ritiro USA" when us_commitment < 0.35 {
    probability: 0.15
    variable defense_spending { 2029: ${Ke(e.defense_spending[2]*1.22)}  2031: ${Ke(e.defense_spending[3]*1.32)}  2035: ${Ke(e.defense_spending[5]*1.31)}  uncertainty: normal(12%) }
    variable us_dependency { 2031: ${Ke(e.us_dependency[3]*.74)}  2035: ${Ke(e.us_dependency[5]*.45)}  uncertainty: normal(15%) }
  }

  branch "Esercito europeo" when eu_cohesion > 0.75 and defense_spending > 2.8 {
    probability: 0.10
    variable rapid_deployment { 2031: ${Ke(e.rapid_deployment[3]*1.29)}  2035: ${Ke(e.rapid_deployment[5]*1.33)}  2038: ${Ke(e.rapid_deployment[6]*1.36)}  uncertainty: normal(15%) }
  }

  branch "Escalation orientale" when threat_level > 0.85 {
    probability: 0.18
    variable defense_spending { 2027: ${Ke(e.defense_spending[1]*1.19)}  2029: ${Ke(e.defense_spending[2]*1.3)}  2031: ${Ke(e.defense_spending[3]*1.4)}  2035: ${Ke(e.defense_spending[5]*1.38)}  uncertainty: normal(10%) }
    variable ammo_production { 2029: ${Ke(e.ammo_production[2]*1.43)}  2031: ${Ke(e.ammo_production[3]*1.74)}  2035: ${Ke(e.ammo_production[5]*1.86)}  uncertainty: normal(20%) }
  }

  simulate { runs: 2000  method: monte_carlo  seed: 2035  output: distribution  percentiles: [5, 25, 50, 75, 95]  convergence: 0.01 }
}`}const Gle={meta:{id:"difesa-europea",title:"Difesa Autonoma Europea",subtitle:"NATO, industria e deterrenza 2025-2038",description:"L'Europa pu difendersi da sola? Con l'impegno USA incerto e la minaccia russa alta, esplora come spesa militare, coesione politica e capacit industriale plasmano l'autonomia strategica europea.",category:"politica",tags:["difesa","NATO","geopolitica","industria","Europa"],icon:"",color:"#ef4444",period:"2025  2038",difficulty:"avanzato"},sliders:Ij,variables:[{id:"defense_spending",label:"Spesa difesa",description:"Spesa media per la difesa dei membri UE in % del PIL",unit:"% PIL",color:"#3b82f6",type:"variable",icon:""},{id:"ammo_production",label:"Produzione munizioni",description:"Capacit produttiva munizioni UE (2025=100)",unit:"indice",color:"#f59e0b",type:"variable",icon:""},{id:"us_dependency",label:"Dipendenza USA",description:"Dipendenza da equipaggiamento militare statunitense",unit:"%",color:"#ef4444",type:"variable",icon:""},{id:"rapid_deployment",label:"Schieramento rapido",description:"Truppe schierabili in 30 giorni (migliaia)",unit:"migliaia",color:"#10b981",type:"variable",icon:""},{id:"autonomia_strategica",label:"Autonomia strategica",description:"Indice composito di autonomia difensiva europea",unit:"indice",color:"#3b82f6",type:"impact",icon:""},{id:"cyber_readiness",label:"Cyber difesa",description:"Prontezza collettiva di cyber-difesa UE",unit:"indice",color:"#8b5cf6",type:"variable",icon:""},{id:"defense_employment",label:"Occupazione difesa",description:"Posti di lavoro diretti nell'industria della difesa UE",unit:"migliaia",color:"#10b981",type:"variable",icon:""}],generateSDL:Yle},jp=[nle,ole,ule,ple,yle,wle,kle,Ele,Qle,Dle,Zle,Vle,Gle],Wu=[{id:"blank",name:"Scenario vuoto",description:"Struttura base con un singolo assunto e variabile",icon:"",source:`// Il tuo scenario personalizzato
// Modifica liberamente questo codice SDL

scenario "Il mio scenario" {
  timeframe: 2025 -> 2040
  resolution: yearly
  confidence: 0.6
  author: "Citizen Lab"
  version: "1.0"
  description: "Descrivi qui il tuo scenario"
  tags: ["custom"]

  //  Assunzioni 

  assumption crescita_base {
    value: 1.5
    source: "La tua fonte"
    confidence: 0.6
    uncertainty: normal(20%)
  }

  //  Variabili 

  variable indicatore_principale {
    description: "Il tuo indicatore principale"
    unit: "indice"

    2025: 100
    2030: 120
    2035: 145
    2040: 170

    depends_on: crescita_base
    uncertainty: normal(15%)
    interpolation: linear
  }

  //  Impatti 

  impact variazione_netta {
    description: "Variazione rispetto al 2025"
    unit: "indice"
    derives_from: indicatore_principale
    formula: indicatore_principale - 100
  }

  //  Simulazione 

  simulate {
    runs: 2000
    method: monte_carlo
    seed: 42
    output: distribution
    percentiles: [5, 25, 50, 75, 95]
  }
}
`},{id:"economic",name:"Economia & PIL",description:"Template per scenari di crescita economica e occupazione",icon:"",source:`// Scenario economico  PIL e occupazione
// Modifica i valori per esplorare scenari alternativi

scenario "Crescita Economica Italia" {
  timeframe: 2025 -> 2040
  resolution: yearly
  confidence: 0.55
  author: "Citizen Lab"
  version: "1.0"
  description: "Proiezione della crescita economica italiana 
                con focus su PIL e tasso di occupazione"
  tags: ["economia", "pil", "occupazione", "italia"]

  //  Assunzioni 

  assumption tasso_crescita_pil {
    value: 0.8
    source: "ISTAT / Commissione Europea, previsioni 2025"
    confidence: 0.5
    uncertainty: normal(40%)
  }

  assumption tasso_inflazione {
    value: 2.1
    source: "BCE target inflazione 2025"
    confidence: 0.6
    uncertainty: normal(30%)
  }

  assumption investimenti_pnrr {
    value: 1
    source: "Piano Nazionale Ripresa e Resilienza"
    confidence: 0.7
    uncertainty: beta(7, 3)
  }

  //  Parametri 

  parameter spesa_pubblica_extra {
    value: 5B EUR
    range: [0B EUR, 15B EUR]
    description: "Spesa pubblica aggiuntiva annua"
  }

  //  Variabili 

  variable pil_reale {
    description: "PIL reale (miliardi EUR, prezzi 2025)"
    unit: "mld EUR"

    2025: 1910
    2028: 1960
    2030: 2000
    2035: 2120
    2040: 2250

    depends_on: tasso_crescita_pil, investimenti_pnrr
    uncertainty: normal(10%)
    interpolation: spline
  }

  variable tasso_occupazione {
    description: "Tasso di occupazione 15-64 anni"
    unit: "%"

    2025: 62
    2028: 63.5
    2030: 64.5
    2035: 66
    2040: 67.5

    depends_on: pil_reale, investimenti_pnrr
    uncertainty: normal(8%)
    interpolation: linear
  }

  variable debito_pil {
    description: "Rapporto debito/PIL"
    unit: "%"

    2025: 137
    2028: 135
    2030: 133
    2035: 128
    2040: 122

    depends_on: pil_reale, tasso_crescita_pil
    uncertainty: normal(12%)
    interpolation: linear
  }

  //  Branches 

  branch "Recessione Globale" when tasso_crescita_pil < 0 {
    probability: 0.15

    variable pil_reale {
      2028: 1880
      2030: 1900
      2035: 1980
      uncertainty: normal(15%)
    }

    variable tasso_occupazione {
      2030: 60
      2035: 61.5
      uncertainty: normal(10%)
    }
  }

  branch "Boom PNRR" when investimenti_pnrr > 0.9 {
    probability: 0.25

    variable pil_reale {
      2028: 1990
      2030: 2060
      2035: 2250
      uncertainty: normal(8%)
    }

    variable tasso_occupazione {
      2030: 66
      2035: 69
      uncertainty: normal(6%)
    }
  }

  //  Impatti 

  impact crescita_cumulata {
    description: "Crescita cumulata PIL dal 2025"
    unit: "mld EUR"
    derives_from: pil_reale
    formula: pil_reale - 1910
  }

  impact gap_occupazionale {
    description: "Gap rispetto a media UE (73%)"
    unit: "%"
    derives_from: tasso_occupazione
    formula: tasso_occupazione - 73
  }

  //  Simulazione 

  simulate {
    runs: 2000
    method: monte_carlo
    seed: 42
    output: distribution
    percentiles: [5, 25, 50, 75, 95]
  }
}
`},{id:"climate",name:"Clima & Energia",description:"Template per scenari di transizione energetica",icon:"",source:`// Scenario climatico  Transizione energetica
// Modifica le assunzioni per esplorare futuri alternativi

scenario "Transizione Energetica Locale" {
  timeframe: 2025 -> 2045
  resolution: yearly
  confidence: 0.5
  author: "Citizen Lab"
  version: "1.0"
  description: "Modello di transizione energetica con focus su
                rinnovabili, emissioni e costi per i cittadini"
  tags: ["clima", "energia", "rinnovabili", "emissioni"]

  //  Assunzioni 

  assumption prezzo_carbonio {
    value: 85
    source: "EU ETS, prezzo medio 2025"
    confidence: 0.6
    uncertainty: normal(25%)
  }

  assumption costo_solare {
    value: 35
    source: "IRENA, LCOE solare 2025 (EUR/MWh)"
    confidence: 0.7
    uncertainty: normal(15%)
  }

  assumption volonta_politica {
    value: 0.7
    source: "Indice composito politiche green UE"
    confidence: 0.5
    uncertainty: beta(7, 3)
  }

  //  Variabili 

  variable quota_rinnovabili {
    description: "Quota rinnovabili nel mix energetico"
    unit: "%"

    2025: 22
    2030: 35
    2035: 50
    2040: 65
    2045: 78

    depends_on: prezzo_carbonio, costo_solare
    uncertainty: normal(12%)
    interpolation: spline
  }

  variable emissioni_co2 {
    description: "Emissioni annue di CO2"
    unit: "MtCO2"

    2025: 320
    2030: 260
    2035: 185
    2040: 110
    2045: 55

    depends_on: quota_rinnovabili
    uncertainty: normal(15%)
    interpolation: linear
  }

  variable costo_energia {
    description: "Indice costo energia per famiglie (2025 = 100)"
    unit: "indice"

    2025: 100
    2030: 105
    2035: 92
    2040: 78
    2045: 65

    depends_on: quota_rinnovabili, costo_solare
    uncertainty: normal(18%)
    interpolation: spline
  }

  //  Branches 

  branch "Crisi Energetica" when prezzo_carbonio > 150 {
    probability: 0.10

    variable costo_energia {
      2030: 135
      2035: 115
      2040: 88
      uncertainty: normal(25%)
    }
  }

  //  Impatti 

  impact riduzione_emissioni {
    description: "Riduzione emissioni rispetto al 2025"
    unit: "%"
    derives_from: emissioni_co2
    formula: (320 - emissioni_co2) / 320 * 100
  }

  impact risparmio_famiglie {
    description: "Risparmio famiglie su energia (vs 2025)"
    unit: "indice"
    derives_from: costo_energia
    formula: 100 - costo_energia
  }

  //  Simulazione 

  simulate {
    runs: 2000
    method: monte_carlo
    seed: 42
    output: distribution
    percentiles: [5, 25, 50, 75, 95]
  }
}
`},{id:"demographic",name:"Demografia",description:"Template per scenari demografici e invecchiamento",icon:"",source:`// Scenario demografico
// Esplora l'impatto dell'invecchiamento della popolazione

scenario "Sfida Demografica" {
  timeframe: 2025 -> 2050
  resolution: yearly
  confidence: 0.6
  author: "Citizen Lab"
  version: "1.0"
  description: "Analisi dell'impatto demografico su welfare,
                pensioni e forza lavoro"
  tags: ["demografia", "pensioni", "welfare", "societa"]

  //  Assunzioni 

  assumption tasso_natalita {
    value: 1.24
    source: "ISTAT, TFT 2024"
    confidence: 0.7
    uncertainty: normal(10%)
  }

  assumption saldo_migratorio {
    value: 300000
    source: "ISTAT, flussi migratori netti 2024"
    confidence: 0.4
    uncertainty: normal(35%)
  }

  assumption aspettativa_vita {
    value: 83.5
    source: "ISTAT, speranza di vita alla nascita 2024"
    confidence: 0.8
    uncertainty: normal(3%)
  }

  //  Variabili 

  variable popolazione_totale {
    description: "Popolazione totale Italia"
    unit: "milioni"

    2025: 58.8
    2030: 57.9
    2035: 56.8
    2040: 55.4
    2050: 52.5

    depends_on: tasso_natalita, saldo_migratorio
    uncertainty: normal(5%)
    interpolation: spline
  }

  variable indice_dipendenza {
    description: "Rapporto anziani (65+) / popolazione attiva (15-64)"
    unit: "%"

    2025: 38
    2030: 42
    2035: 47
    2040: 53
    2050: 62

    depends_on: aspettativa_vita, tasso_natalita
    uncertainty: normal(8%)
    interpolation: linear
  }

  variable spesa_pensionistica {
    description: "Spesa pensionistica in % del PIL"
    unit: "%"

    2025: 16.3
    2030: 17.0
    2035: 17.8
    2040: 18.5
    2050: 19.5

    depends_on: indice_dipendenza
    uncertainty: normal(10%)
    interpolation: linear
  }

  //  Branches 

  branch "Ripresa Natalita" when tasso_natalita > 1.5 {
    probability: 0.10

    variable popolazione_totale {
      2035: 58.0
      2040: 57.5
      2050: 56.0
      uncertainty: normal(5%)
    }
  }

  branch "Immigrazione Alta" when saldo_migratorio > 500000 {
    probability: 0.15

    variable popolazione_totale {
      2035: 58.5
      2040: 58.0
      2050: 57.0
      uncertainty: normal(8%)
    }

    variable indice_dipendenza {
      2035: 44
      2040: 48
      2050: 55
      uncertainty: normal(10%)
    }
  }

  //  Impatti 

  impact calo_demografico {
    description: "Calo popolazione rispetto al 2025"
    unit: "milioni"
    derives_from: popolazione_totale
    formula: popolazione_totale - 58.8
  }

  impact pressione_welfare {
    description: "Pressione aggiuntiva sul welfare (da 2025)"
    unit: "%"
    derives_from: spesa_pensionistica
    formula: spesa_pensionistica - 16.3
  }

  //  Simulazione 

  simulate {
    runs: 2000
    method: monte_carlo
    seed: 42
    output: distribution
    percentiles: [5, 25, 50, 75, 95]
  }
}
`}];let zO=[],Rj=[];(()=>{let t="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,n=0;e<t.length;e++)(e%2?Rj:zO).push(n=n+t[e])})();function Hle(t){if(t<768)return!1;for(let e=0,n=zO.length;;){let r=e+n>>1;if(t<zO[r])n=r;else if(t>=Rj[r])e=r+1;else return!0;if(e==n)return!1}}function Ak(t){return t>=127462&&t<=127487}const Ck=8205;function Kle(t,e,n=!0,r=!0){return(n?Dj:Jle)(t,e,r)}function Dj(t,e,n){if(e==t.length)return e;e&&Nj(t.charCodeAt(e))&&Lj(t.charCodeAt(e-1))&&e--;let r=j0(t,e);for(e+=Ek(r);e<t.length;){let i=j0(t,e);if(r==Ck||i==Ck||n&&Hle(i))e+=Ek(i),r=i;else if(Ak(i)){let a=0,o=e-2;for(;o>=0&&Ak(j0(t,o));)a++,o-=2;if(a%2==0)break;e+=2}else break}return e}function Jle(t,e,n){for(;e>0;){let r=Dj(t,e-2,n);if(r<e)return r;e--}return 0}function j0(t,e){let n=t.charCodeAt(e);if(!Lj(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return Nj(r)?(n-55296<<10)+(r-56320)+65536:n}function Nj(t){return t>=56320&&t<57344}function Lj(t){return t>=55296&&t<56320}function Ek(t){return t<65536?1:2}class Oe{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,r){[e,n]=sl(this,e,n);let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(n,this.length,i,1),Wr.from(i,this.length-(n-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){[e,n]=sl(this,e,n);let r=[];return this.decompose(e,n,r,0),Wr.from(r,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new Rc(this),a=new Rc(e);for(let o=n,s=n;;){if(i.next(o),a.next(o),o=0,i.lineBreak!=a.lineBreak||i.done!=a.done||i.value!=a.value)return!1;if(s+=i.value.length,i.done||s>=r)return!0}}iter(e=1){return new Rc(this,e)}iterRange(e,n=this.length){return new Bj(this,e,n)}iterLines(e,n){let r;if(e==null)r=this.iter();else{n==null&&(n=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new Zj(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Oe.empty:e.length<=32?new Je(e):Wr.from(Je.split(e,[]))}}class Je extends Oe{constructor(e,n=ece(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,r,i){for(let a=0;;a++){let o=this.text[a],s=i+o.length;if((n?r:s)>=e)return new tce(i,s,r,o);i=s+1,r++}}decompose(e,n,r,i){let a=e<=0&&n>=this.length?this:new Je(Tk(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(i&1){let o=r.pop(),s=Gh(a.text,o.text.slice(),0,a.length);if(s.length<=32)r.push(new Je(s,o.length+a.length));else{let l=s.length>>1;r.push(new Je(s.slice(0,l)),new Je(s.slice(l)))}}else r.push(a)}replace(e,n,r){if(!(r instanceof Je))return super.replace(e,n,r);[e,n]=sl(this,e,n);let i=Gh(this.text,Gh(r.text,Tk(this.text,0,e)),n),a=this.length+r.length-(n-e);return i.length<=32?new Je(i,a):Wr.from(Je.split(i,[]),a)}sliceString(e,n=this.length,r=`
`){[e,n]=sl(this,e,n);let i="";for(let a=0,o=0;a<=n&&o<this.text.length;o++){let s=this.text[o],l=a+s.length;a>e&&o&&(i+=r),e<l&&n>a&&(i+=s.slice(Math.max(0,e-a),n-a)),a=l+1}return i}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let r=[],i=-1;for(let a of e)r.push(a),i+=a.length+1,r.length==32&&(n.push(new Je(r,i)),r=[],i=-1);return i>-1&&n.push(new Je(r,i)),n}}class Wr extends Oe{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,n,r,i){for(let a=0;;a++){let o=this.children[a],s=i+o.length,l=r+o.lines-1;if((n?l:s)>=e)return o.lineInner(e,n,r,i);i=s+1,r=l+1}}decompose(e,n,r,i){for(let a=0,o=0;o<=n&&a<this.children.length;a++){let s=this.children[a],l=o+s.length;if(e<=l&&n>=o){let c=i&((o<=e?1:0)|(l>=n?2:0));o>=e&&l<=n&&!c?r.push(s):s.decompose(e-o,n-o,r,c)}o=l+1}}replace(e,n,r){if([e,n]=sl(this,e,n),r.lines<this.lines)for(let i=0,a=0;i<this.children.length;i++){let o=this.children[i],s=a+o.length;if(e>=a&&n<=s){let l=o.replace(e-a,n-a,r),c=this.lines-o.lines+l.lines;if(l.lines<c>>4&&l.lines>c>>6){let u=this.children.slice();return u[i]=l,new Wr(u,this.length-(n-e)+r.length)}return super.replace(a,s,l)}a=s+1}return super.replace(e,n,r)}sliceString(e,n=this.length,r=`
`){[e,n]=sl(this,e,n);let i="";for(let a=0,o=0;a<this.children.length&&o<=n;a++){let s=this.children[a],l=o+s.length;o>e&&a&&(i+=r),e<l&&n>o&&(i+=s.sliceString(e-o,n-o,r)),o=l+1}return i}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof Wr))return 0;let r=0,[i,a,o,s]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=n,a+=n){if(i==o||a==s)return r;let l=this.children[i],c=e.children[a];if(l!=c)return r+l.scanIdentical(c,n);r+=l.length+1}}static from(e,n=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let d of e)r+=d.lines;if(r<32){let d=[];for(let p of e)p.flatten(d);return new Je(d,n)}let i=Math.max(32,r>>5),a=i<<1,o=i>>1,s=[],l=0,c=-1,u=[];function f(d){let p;if(d.lines>a&&d instanceof Wr)for(let m of d.children)f(m);else d.lines>o&&(l>o||!l)?(h(),s.push(d)):d instanceof Je&&l&&(p=u[u.length-1])instanceof Je&&d.lines+p.lines<=32?(l+=d.lines,c+=d.length+1,u[u.length-1]=new Je(p.text.concat(d.text),p.length+1+d.length)):(l+d.lines>i&&h(),l+=d.lines,c+=d.length+1,u.push(d))}function h(){l!=0&&(s.push(u.length==1?u[0]:Wr.from(u,c)),c=-1,l=u.length=0)}for(let d of e)f(d);return h(),s.length==1?s[0]:new Wr(s,n)}}Oe.empty=new Je([""],0);function ece(t){let e=-1;for(let n of t)e+=n.length+1;return e}function Gh(t,e,n=0,r=1e9){for(let i=0,a=0,o=!0;a<t.length&&i<=r;a++){let s=t[a],l=i+s.length;l>=n&&(l>r&&(s=s.slice(0,r-i)),i<n&&(s=s.slice(n-i)),o?(e[e.length-1]+=s,o=!1):e.push(s)),i=l+1}return e}function Tk(t,e,n){return Gh(t,[""],e,n)}class Rc{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof Je?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],a=this.offsets[r],o=a>>1,s=i instanceof Je?i.text.length:i.children.length;if(o==(n>0?s:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((a&1)==(n>0?0:1)){if(this.offsets[r]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof Je){let l=i.text[o+(n<0?-1:0)];if(this.offsets[r]+=n,l.length>Math.max(0,e))return this.value=e==0?l:n>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=i.children[o+(n<0?-1:0)];e>l.length?(e-=l.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(l),this.offsets.push(n>0?1:(l instanceof Je?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class Bj{constructor(e,n,r){this.value="",this.done=!1,this.cursor=new Rc(e,n>r?-1:1),this.pos=n>r?e.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let r=n<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*n,this.value=i.length<=r?i:n<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class Zj{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:r,value:i}=this.inner.next(e);return n&&this.afterBreak?(this.value="",this.afterBreak=!1):n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Oe.prototype[Symbol.iterator]=function(){return this.iter()},Rc.prototype[Symbol.iterator]=Bj.prototype[Symbol.iterator]=Zj.prototype[Symbol.iterator]=function(){return this});class tce{constructor(e,n,r,i){this.from=e,this.to=n,this.number=r,this.text=i}get length(){return this.to-this.from}}function sl(t,e,n){return e=Math.max(0,Math.min(t.length,e)),[e,Math.max(e,Math.min(t.length,n))]}function Pt(t,e,n=!0,r=!0){return Kle(t,e,n,r)}function nce(t){return t>=56320&&t<57344}function rce(t){return t>=55296&&t<56320}function fn(t,e){let n=t.charCodeAt(e);if(!rce(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return nce(r)?(n-55296<<10)+(r-56320)+65536:n}function zx(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function Xr(t){return t<65536?1:2}const IO=/\r\n?|\n/;var Rt=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(Rt||(Rt={}));class ri{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n+1];e+=r<0?this.sections[n]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,r=0,i=0;n<this.sections.length;){let a=this.sections[n++],o=this.sections[n++];o<0?(e(r,i,a),i+=a):i+=o,r+=a}}iterChangedRanges(e,n=!1){RO(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];i<0?e.push(r,i):e.push(i,r)}return new ri(e)}composeDesc(e){return this.empty?e:e.empty?this:Wj(this,e)}mapDesc(e,n=!1){return e.empty?this:DO(this,e,n)}mapPos(e,n=-1,r=Rt.Simple){let i=0,a=0;for(let o=0;o<this.sections.length;){let s=this.sections[o++],l=this.sections[o++],c=i+s;if(l<0){if(c>e)return a+(e-i);a+=s}else{if(r!=Rt.Simple&&c>=e&&(r==Rt.TrackDel&&i<e&&c>e||r==Rt.TrackBefore&&i<e||r==Rt.TrackAfter&&c>e))return null;if(c>e||c==e&&n<0&&!s)return e==i||n<0?a:a+l;a+=l}i=c}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return a}touchesRange(e,n=e){for(let r=0,i=0;r<this.sections.length&&i<=n;){let a=this.sections[r++],o=this.sections[r++],s=i+a;if(o>=0&&i<=n&&s>=e)return i<e&&s>n?"cover":!0;i=s}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new ri(e)}static create(e){return new ri(e)}}class vt extends ri{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return RO(this,(n,r,i,a,o)=>e=e.replace(i,i+(r-n),o),!1),e}mapDesc(e,n=!1){return DO(this,e,n,!0)}invert(e){let n=this.sections.slice(),r=[];for(let i=0,a=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s>=0){n[i]=s,n[i+1]=o;let l=i>>1;for(;r.length<l;)r.push(Oe.empty);r.push(o?e.slice(a,a+o):Oe.empty)}a+=o}return new vt(n,r)}compose(e){return this.empty?e:e.empty?this:Wj(this,e,!0)}map(e,n=!1){return e.empty?this:DO(this,e,n,!0)}iterChanges(e,n=!1){RO(this,e,n)}get desc(){return ri.create(this.sections)}filter(e){let n=[],r=[],i=[],a=new Xu(this);e:for(let o=0,s=0;;){let l=o==e.length?1e9:e[o++];for(;s<l||s==l&&a.len==0;){if(a.done)break e;let u=Math.min(a.len,l-s);Vt(i,u,-1);let f=a.ins==-1?-1:a.off==0?a.ins:0;Vt(n,u,f),f>0&&ta(r,n,a.text),a.forward(u),s+=u}let c=e[o++];for(;s<c;){if(a.done)break e;let u=Math.min(a.len,c-s);Vt(n,u,-1),Vt(i,u,a.ins==-1?-1:a.off==0?a.ins:0),a.forward(u),s+=u}}return{changes:new vt(n,r),filtered:ri.create(i)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n],i=this.sections[n+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,r){let i=[],a=[],o=0,s=null;function l(u=!1){if(!u&&!i.length)return;o<n&&Vt(i,n-o,-1);let f=new vt(i,a);s=s?s.compose(f.map(s)):f,i=[],a=[],o=0}function c(u){if(Array.isArray(u))for(let f of u)c(f);else if(u instanceof vt){if(u.length!=n)throw new RangeError(`Mismatched change set length (got ${u.length}, expected ${n})`);l(),s=s?s.compose(u.map(s)):u}else{let{from:f,to:h=f,insert:d}=u;if(f>h||f<0||h>n)throw new RangeError(`Invalid change range ${f} to ${h} (in doc of length ${n})`);let p=d?typeof d=="string"?Oe.of(d.split(r||IO)):d:Oe.empty,m=p.length;if(f==h&&m==0)return;f<o&&l(),f>o&&Vt(i,f-o,-1),Vt(i,h-f,m),ta(a,i,p),o=h}}return c(e),l(!s),s}static empty(e){return new vt(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],r=[];for(let i=0;i<e.length;i++){let a=e[i];if(typeof a=="number")n.push(a,-1);else{if(!Array.isArray(a)||typeof a[0]!="number"||a.some((o,s)=>s&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(a.length==1)n.push(a[0],0);else{for(;r.length<i;)r.push(Oe.empty);r[i]=Oe.of(a.slice(1)),n.push(a[0],r[i].length)}}}return new vt(n,r)}static createSet(e,n){return new vt(e,n)}}function Vt(t,e,n,r=!1){if(e==0&&n<=0)return;let i=t.length-2;i>=0&&n<=0&&n==t[i+1]?t[i]+=e:i>=0&&e==0&&t[i]==0?t[i+1]+=n:r?(t[i]+=e,t[i+1]+=n):t.push(e,n)}function ta(t,e,n){if(n.length==0)return;let r=e.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<r;)t.push(Oe.empty);t.push(n)}}function RO(t,e,n){let r=t.inserted;for(let i=0,a=0,o=0;o<t.sections.length;){let s=t.sections[o++],l=t.sections[o++];if(l<0)i+=s,a+=s;else{let c=i,u=a,f=Oe.empty;for(;c+=s,u+=l,l&&r&&(f=f.append(r[o-2>>1])),!(n||o==t.sections.length||t.sections[o+1]<0);)s=t.sections[o++],l=t.sections[o++];e(i,c,a,u,f),i=c,a=u}}}function DO(t,e,n,r=!1){let i=[],a=r?[]:null,o=new Xu(t),s=new Xu(e);for(let l=-1;;){if(o.done&&s.len||s.done&&o.len)throw new Error("Mismatched change set lengths");if(o.ins==-1&&s.ins==-1){let c=Math.min(o.len,s.len);Vt(i,c,-1),o.forward(c),s.forward(c)}else if(s.ins>=0&&(o.ins<0||l==o.i||o.off==0&&(s.len<o.len||s.len==o.len&&!n))){let c=s.len;for(Vt(i,s.ins,-1);c;){let u=Math.min(o.len,c);o.ins>=0&&l<o.i&&o.len<=u&&(Vt(i,0,o.ins),a&&ta(a,i,o.text),l=o.i),o.forward(u),c-=u}s.next()}else if(o.ins>=0){let c=0,u=o.len;for(;u;)if(s.ins==-1){let f=Math.min(u,s.len);c+=f,u-=f,s.forward(f)}else if(s.ins==0&&s.len<u)u-=s.len,s.next();else break;Vt(i,c,l<o.i?o.ins:0),a&&l<o.i&&ta(a,i,o.text),l=o.i,o.forward(o.len-u)}else{if(o.done&&s.done)return a?vt.createSet(i,a):ri.create(i);throw new Error("Mismatched change set lengths")}}}function Wj(t,e,n=!1){let r=[],i=n?[]:null,a=new Xu(t),o=new Xu(e);for(let s=!1;;){if(a.done&&o.done)return i?vt.createSet(r,i):ri.create(r);if(a.ins==0)Vt(r,a.len,0,s),a.next();else if(o.len==0&&!o.done)Vt(r,0,o.ins,s),i&&ta(i,r,o.text),o.next();else{if(a.done||o.done)throw new Error("Mismatched change set lengths");{let l=Math.min(a.len2,o.len),c=r.length;if(a.ins==-1){let u=o.ins==-1?-1:o.off?0:o.ins;Vt(r,l,u,s),i&&u&&ta(i,r,o.text)}else o.ins==-1?(Vt(r,a.off?0:a.len,l,s),i&&ta(i,r,a.textBit(l))):(Vt(r,a.off?0:a.len,o.off?0:o.ins,s),i&&!o.off&&ta(i,r,o.text));s=(a.ins>l||o.ins>=0&&o.len>l)&&(s||r.length>c),a.forward2(l),o.forward(l)}}}}class Xu{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?Oe.empty:e[n]}textBit(e){let{inserted:n}=this.set,r=this.i-2>>1;return r>=n.length&&!e?Oe.empty:n[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Ja{constructor(e,n,r){this.from=e,this.to=n,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,n=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,n):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new Ja(r,i,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return W.range(e,n);let r=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return W.range(this.anchor,r)}eq(e,n=!1){return this.anchor==e.anchor&&this.head==e.head&&this.goalColumn==e.goalColumn&&(!n||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return W.range(e.anchor,e.head)}static create(e,n,r){return new Ja(e,n,r)}}class W{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:W.create(this.ranges.map(r=>r.map(e,n)),this.mainIndex)}eq(e,n=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],n))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new W([this.main],0)}addRange(e,n=!0){return W.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let r=this.ranges.slice();return r[n]=e,W.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new W(e.ranges.map(n=>Ja.fromJSON(n)),e.main)}static single(e,n=e){return new W([W.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let a=e[i];if(a.empty?a.from<=r:a.from<r)return W.normalized(e.slice(),n);r=a.to}return new W(e,n)}static cursor(e,n=0,r,i){return Ja.create(e,e,(n==0?0:n<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(e,n,r,i){let a=(r??16777215)<<6|(i==null?7:Math.min(6,i));return n<e?Ja.create(n,e,48|a):Ja.create(e,n,(n>e?8:0)|a)}static normalized(e,n=0){let r=e[n];e.sort((i,a)=>i.from-a.from),n=e.indexOf(r);for(let i=1;i<e.length;i++){let a=e[i],o=e[i-1];if(a.empty?a.from<=o.to:a.from<o.to){let s=o.from,l=Math.max(a.to,o.to);i<=n&&n--,e.splice(--i,2,a.anchor>a.head?W.range(l,s):W.range(s,l))}}return new W(e,n)}}function Xj(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let Ix=0;class H{constructor(e,n,r,i,a){this.combine=e,this.compareInput=n,this.compare=r,this.isStatic=i,this.id=Ix++,this.default=e([]),this.extensions=typeof a=="function"?a(this):a}get reader(){return this}static define(e={}){return new H(e.combine||(n=>n),e.compareInput||((n,r)=>n===r),e.compare||(e.combine?(n,r)=>n===r:Rx),!!e.static,e.enables)}of(e){return new Hh([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new Hh(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new Hh(e,this,2,n)}from(e,n){return n||(n=r=>r),this.compute([e],r=>n(r.field(e)))}}function Rx(t,e){return t==e||t.length==e.length&&t.every((n,r)=>n===e[r])}class Hh{constructor(e,n,r,i){this.dependencies=e,this.facet=n,this.type=r,this.value=i,this.id=Ix++}dynamicSlot(e){var n;let r=this.value,i=this.facet.compareInput,a=this.id,o=e[a]>>1,s=this.type==2,l=!1,c=!1,u=[];for(let f of this.dependencies)f=="doc"?l=!0:f=="selection"?c=!0:((n=e[f.id])!==null&&n!==void 0?n:1)&1||u.push(e[f.id]);return{create(f){return f.values[o]=r(f),1},update(f,h){if(l&&h.docChanged||c&&(h.docChanged||h.selection)||NO(f,u)){let d=r(f);if(s?!Mk(d,f.values[o],i):!i(d,f.values[o]))return f.values[o]=d,1}return 0},reconfigure:(f,h)=>{let d,p=h.config.address[a];if(p!=null){let m=zp(h,p);if(this.dependencies.every(v=>v instanceof H?h.facet(v)===f.facet(v):v instanceof Et?h.field(v,!1)==f.field(v,!1):!0)||(s?Mk(d=r(f),m,i):i(d=r(f),m)))return f.values[o]=m,0}else d=r(f);return f.values[o]=d,1}}}}function Mk(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function NO(t,e){let n=!1;for(let r of e)Dc(t,r)&1&&(n=!0);return n}function ice(t,e,n){let r=n.map(l=>t[l.id]),i=n.map(l=>l.type),a=r.filter(l=>!(l&1)),o=t[e.id]>>1;function s(l){let c=[];for(let u=0;u<r.length;u++){let f=zp(l,r[u]);if(i[u]==2)for(let h of f)c.push(h);else c.push(f)}return e.combine(c)}return{create(l){for(let c of r)Dc(l,c);return l.values[o]=s(l),1},update(l,c){if(!NO(l,a))return 0;let u=s(l);return e.compare(u,l.values[o])?0:(l.values[o]=u,1)},reconfigure(l,c){let u=NO(l,r),f=c.config.facets[e.id],h=c.facet(e);if(f&&!u&&Rx(n,f))return l.values[o]=h,0;let d=s(l);return e.compare(d,h)?(l.values[o]=h,0):(l.values[o]=d,1)}}}const ph=H.define({static:!0});class Et{constructor(e,n,r,i,a){this.id=e,this.createF=n,this.updateF=r,this.compareF=i,this.spec=a,this.provides=void 0}static define(e){let n=new Et(Ix++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(ph).find(r=>r.field==this);return((n==null?void 0:n.create)||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:r=>(r.values[n]=this.create(r),1),update:(r,i)=>{let a=r.values[n],o=this.updateF(a,i);return this.compareF(a,o)?0:(r.values[n]=o,1)},reconfigure:(r,i)=>{let a=r.facet(ph),o=i.facet(ph),s;return(s=a.find(l=>l.field==this))&&s!=o.find(l=>l.field==this)?(r.values[n]=s.create(r),1):i.config.address[this.id]!=null?(r.values[n]=i.field(this),0):(r.values[n]=this.create(r),1)}}}init(e){return[this,ph.of({field:this,create:e})]}get extension(){return this}}const Wa={lowest:4,low:3,default:2,high:1,highest:0};function ac(t){return e=>new Fj(e,t)}const Ta={highest:ac(Wa.highest),high:ac(Wa.high),default:ac(Wa.default),low:ac(Wa.low),lowest:ac(Wa.lowest)};class Fj{constructor(e,n){this.inner=e,this.prec=n}}class pg{of(e){return new LO(this,e)}reconfigure(e){return pg.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class LO{constructor(e,n){this.compartment=e,this.inner=n}}class Qp{constructor(e,n,r,i,a,o){for(this.base=e,this.compartments=n,this.dynamicSlots=r,this.address=i,this.staticValues=a,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,r){let i=[],a=Object.create(null),o=new Map;for(let h of ace(e,n,o))h instanceof Et?i.push(h):(a[h.facet.id]||(a[h.facet.id]=[])).push(h);let s=Object.create(null),l=[],c=[];for(let h of i)s[h.id]=c.length<<1,c.push(d=>h.slot(d));let u=r==null?void 0:r.config.facets;for(let h in a){let d=a[h],p=d[0].facet,m=u&&u[h]||[];if(d.every(v=>v.type==0))if(s[p.id]=l.length<<1|1,Rx(m,d))l.push(r.facet(p));else{let v=p.combine(d.map(g=>g.value));l.push(r&&p.compare(v,r.facet(p))?r.facet(p):v)}else{for(let v of d)v.type==0?(s[v.id]=l.length<<1|1,l.push(v.value)):(s[v.id]=c.length<<1,c.push(g=>v.dynamicSlot(g)));s[p.id]=c.length<<1,c.push(v=>ice(v,p,d))}}let f=c.map(h=>h(s));return new Qp(e,o,f,s,l,a)}}function ace(t,e,n){let r=[[],[],[],[],[]],i=new Map;function a(o,s){let l=i.get(o);if(l!=null){if(l<=s)return;let c=r[l].indexOf(o);c>-1&&r[l].splice(c,1),o instanceof LO&&n.delete(o.compartment)}if(i.set(o,s),Array.isArray(o))for(let c of o)a(c,s);else if(o instanceof LO){if(n.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let c=e.get(o.compartment)||o.inner;n.set(o.compartment,c),a(c,s)}else if(o instanceof Fj)a(o.inner,o.prec);else if(o instanceof Et)r[s].push(o),o.provides&&a(o.provides,s);else if(o instanceof Hh)r[s].push(o),o.facet.extensions&&a(o.facet.extensions,Wa.default);else{let c=o.extension;if(!c)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);a(c,s)}}return a(t,Wa.default),r.reduce((o,s)=>o.concat(s))}function Dc(t,e){if(e&1)return 2;let n=e>>1,r=t.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;t.status[n]=4;let i=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|i}function zp(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const Vj=H.define(),BO=H.define({combine:t=>t.some(e=>e),static:!0}),Uj=H.define({combine:t=>t.length?t[0]:void 0,static:!0}),qj=H.define(),Yj=H.define(),Gj=H.define(),Hj=H.define({combine:t=>t.length?t[0]:!1});class Ii{constructor(e,n){this.type=e,this.value=n}static define(){return new oce}}class oce{of(e){return new Ii(this,e)}}class sce{constructor(e){this.map=e}of(e){return new se(this,e)}}class se{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new se(this.type,n)}is(e){return this.type==e}static define(e={}){return new sce(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let r=[];for(let i of e){let a=i.map(n);a&&r.push(a)}return r}}se.reconfigure=se.define();se.appendConfig=se.define();class st{constructor(e,n,r,i,a,o){this.startState=e,this.changes=n,this.selection=r,this.effects=i,this.annotations=a,this.scrollIntoView=o,this._doc=null,this._state=null,r&&Xj(r,n.newLength),a.some(s=>s.type==st.time)||(this.annotations=a.concat(st.time.of(Date.now())))}static create(e,n,r,i,a,o){return new st(e,n,r,i,a,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(st.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}st.time=Ii.define();st.userEvent=Ii.define();st.addToHistory=Ii.define();st.remote=Ii.define();function lce(t,e){let n=[];for(let r=0,i=0;;){let a,o;if(r<t.length&&(i==e.length||e[i]>=t[r]))a=t[r++],o=t[r++];else if(i<e.length)a=e[i++],o=e[i++];else return n;!n.length||n[n.length-1]<a?n.push(a,o):n[n.length-1]<o&&(n[n.length-1]=o)}}function Kj(t,e,n){var r;let i,a,o;return n?(i=e.changes,a=vt.empty(e.changes.length),o=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),a=t.changes.mapDesc(e.changes,!0),o=t.changes.compose(i)),{changes:o,selection:e.selection?e.selection.map(a):(r=t.selection)===null||r===void 0?void 0:r.map(i),effects:se.mapEffects(t.effects,i).concat(se.mapEffects(e.effects,a)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function ZO(t,e,n){let r=e.selection,i=xs(e.annotations);return e.userEvent&&(i=i.concat(st.userEvent.of(e.userEvent))),{changes:e.changes instanceof vt?e.changes:vt.of(e.changes||[],n,t.facet(Uj)),selection:r&&(r instanceof W?r:W.single(r.anchor,r.head)),effects:xs(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function Jj(t,e,n){let r=ZO(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let a=1;a<e.length;a++){e[a].filter===!1&&(n=!1);let o=!!e[a].sequential;r=Kj(r,ZO(t,e[a],o?r.changes.newLength:t.doc.length),o)}let i=st.create(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return uce(n?cce(i):i)}function cce(t){let e=t.startState,n=!0;for(let i of e.facet(qj)){let a=i(t);if(a===!1){n=!1;break}Array.isArray(a)&&(n=n===!0?a:lce(n,a))}if(n!==!0){let i,a;if(n===!1)a=t.changes.invertedDesc,i=vt.empty(e.doc.length);else{let o=t.changes.filter(n);i=o.changes,a=o.filtered.mapDesc(o.changes).invertedDesc}t=st.create(e,i,t.selection&&t.selection.map(a),se.mapEffects(t.effects,a),t.annotations,t.scrollIntoView)}let r=e.facet(Yj);for(let i=r.length-1;i>=0;i--){let a=r[i](t);a instanceof st?t=a:Array.isArray(a)&&a.length==1&&a[0]instanceof st?t=a[0]:t=Jj(e,xs(a),!1)}return t}function uce(t){let e=t.startState,n=e.facet(Gj),r=t;for(let i=n.length-1;i>=0;i--){let a=n[i](t);a&&Object.keys(a).length&&(r=Kj(r,ZO(e,a,t.changes.newLength),!0))}return r==t?t:st.create(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}const fce=[];function xs(t){return t==null?fce:Array.isArray(t)?t:[t]}var We=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(We||(We={}));const hce=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let WO;try{WO=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function dce(t){if(WO)return WO.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||hce.test(n)))return!0}return!1}function pce(t){return e=>{if(!/\S/.test(e))return We.Space;if(dce(e))return We.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return We.Word;return We.Other}}class ye{constructor(e,n,r,i,a,o){this.config=e,this.doc=n,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=a,o&&(o._state=this);for(let s=0;s<this.config.dynamicSlots.length;s++)Dc(this,s<<1);this.computeSlot=null}field(e,n=!0){let r=this.config.address[e.id];if(r==null){if(n)throw new RangeError("Field is not present in this state");return}return Dc(this,r),zp(this,r)}update(...e){return Jj(this,e,!0)}applyTransaction(e){let n=this.config,{base:r,compartments:i}=n;for(let s of e.effects)s.is(pg.reconfigure)?(n&&(i=new Map,n.compartments.forEach((l,c)=>i.set(c,l)),n=null),i.set(s.value.compartment,s.value.extension)):s.is(se.reconfigure)?(n=null,r=s.value):s.is(se.appendConfig)&&(n=null,r=xs(r).concat(s.value));let a;n?a=e.startState.values.slice():(n=Qp.resolve(r,i,this),a=new ye(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(l,c)=>c.reconfigure(l,this),null).values);let o=e.startState.facet(BO)?e.newSelection:e.newSelection.asSingle();new ye(n,e.newDoc,o,a,(s,l)=>l.update(s,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:W.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,r=e(n.ranges[0]),i=this.changes(r.changes),a=[r.range],o=xs(r.effects);for(let s=1;s<n.ranges.length;s++){let l=e(n.ranges[s]),c=this.changes(l.changes),u=c.map(i);for(let h=0;h<s;h++)a[h]=a[h].map(u);let f=i.mapDesc(c,!0);a.push(l.range.map(f)),i=i.compose(u),o=se.mapEffects(o,u).concat(se.mapEffects(xs(l.effects),f))}return{changes:i,selection:W.create(a,n.mainIndex),effects:o}}changes(e=[]){return e instanceof vt?e:vt.of(e,this.doc.length,this.facet(ye.lineSeparator))}toText(e){return Oe.of(e.split(this.facet(ye.lineSeparator)||IO))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(Dc(this,n),zp(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof Et&&this.config.address[i.id]!=null&&(n[r]=i.spec.toJSON(this.field(e[r]),this))}return n}static fromJSON(e,n={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let a in r)if(Object.prototype.hasOwnProperty.call(e,a)){let o=r[a],s=e[a];i.push(o.init(l=>o.spec.fromJSON(s,l)))}}return ye.create({doc:e.doc,selection:W.fromJSON(e.selection),extensions:n.extensions?i.concat([n.extensions]):i})}static create(e={}){let n=Qp.resolve(e.extensions||[],new Map),r=e.doc instanceof Oe?e.doc:Oe.of((e.doc||"").split(n.staticFacet(ye.lineSeparator)||IO)),i=e.selection?e.selection instanceof W?e.selection:W.single(e.selection.anchor,e.selection.head):W.single(0);return Xj(i,r.length),n.staticFacet(BO)||(i=i.asSingle()),new ye(n,r,i,n.dynamicSlots.map(()=>null),(a,o)=>o.create(a),null)}get tabSize(){return this.facet(ye.tabSize)}get lineBreak(){return this.facet(ye.lineSeparator)||`
`}get readOnly(){return this.facet(Hj)}phrase(e,...n){for(let r of this.facet(ye.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let a=+(i||1);return!a||a>n.length?r:n[a-1]})),e}languageDataAt(e,n,r=-1){let i=[];for(let a of this.facet(Vj))for(let o of a(this,n,r))Object.prototype.hasOwnProperty.call(o,e)&&i.push(o[e]);return i}charCategorizer(e){let n=this.languageDataAt("wordChars",e);return pce(n.length?n[0]:"")}wordAt(e){let{text:n,from:r,length:i}=this.doc.lineAt(e),a=this.charCategorizer(e),o=e-r,s=e-r;for(;o>0;){let l=Pt(n,o,!1);if(a(n.slice(l,o))!=We.Word)break;o=l}for(;s<i;){let l=Pt(n,s);if(a(n.slice(s,l))!=We.Word)break;s=l}return o==s?null:W.range(o+r,s+r)}}ye.allowMultipleSelections=BO;ye.tabSize=H.define({combine:t=>t.length?t[0]:4});ye.lineSeparator=Uj;ye.readOnly=Hj;ye.phrases=H.define({compare(t,e){let n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every(i=>t[i]==e[i])}});ye.languageData=Vj;ye.changeFilter=qj;ye.transactionFilter=Yj;ye.transactionExtender=Gj;pg.reconfigure=se.define();function oi(t,e,n={}){let r={};for(let i of t)for(let a of Object.keys(i)){let o=i[a],s=r[a];if(s===void 0)r[a]=o;else if(!(s===o||o===void 0))if(Object.hasOwnProperty.call(n,a))r[a]=n[a](s,o);else throw new Error("Config merge conflict for field "+a)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class ma{eq(e){return this==e}range(e,n=e){return XO.create(e,n,this)}}ma.prototype.startSide=ma.prototype.endSide=0;ma.prototype.point=!1;ma.prototype.mapMode=Rt.TrackDel;function Dx(t,e){return t==e||t.constructor==e.constructor&&t.eq(e)}let XO=class eQ{constructor(e,n,r){this.from=e,this.to=n,this.value=r}static create(e,n,r){return new eQ(e,n,r)}};function FO(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class Nx{constructor(e,n,r,i){this.from=e,this.to=n,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,n,r,i=0){let a=r?this.to:this.from;for(let o=i,s=a.length;;){if(o==s)return o;let l=o+s>>1,c=a[l]-e||(r?this.value[l].endSide:this.value[l].startSide)-n;if(l==o)return c>=0?o:s;c>=0?s=l:o=l+1}}between(e,n,r,i){for(let a=this.findIndex(n,-1e9,!0),o=this.findIndex(r,1e9,!1,a);a<o;a++)if(i(this.from[a]+e,this.to[a]+e,this.value[a])===!1)return!1}map(e,n){let r=[],i=[],a=[],o=-1,s=-1;for(let l=0;l<this.value.length;l++){let c=this.value[l],u=this.from[l]+e,f=this.to[l]+e,h,d;if(u==f){let p=n.mapPos(u,c.startSide,c.mapMode);if(p==null||(h=d=p,c.startSide!=c.endSide&&(d=n.mapPos(u,c.endSide),d<h)))continue}else if(h=n.mapPos(u,c.startSide),d=n.mapPos(f,c.endSide),h>d||h==d&&c.startSide>0&&c.endSide<=0)continue;(d-h||c.endSide-c.startSide)<0||(o<0&&(o=h),c.point&&(s=Math.max(s,d-h)),r.push(c),i.push(h-o),a.push(d-o))}return{mapped:r.length?new Nx(i,a,r,s):null,pos:o}}}class de{constructor(e,n,r,i){this.chunkPos=e,this.chunk=n,this.nextLayer=r,this.maxPoint=i}static create(e,n,r,i){return new de(e,n,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:r=!1,filterFrom:i=0,filterTo:a=this.length}=e,o=e.filter;if(n.length==0&&!o)return this;if(r&&(n=n.slice().sort(FO)),this.isEmpty)return n.length?de.of(n):this;let s=new tQ(this,null,-1).goto(0),l=0,c=[],u=new Ci;for(;s.value||l<n.length;)if(l<n.length&&(s.from-n[l].from||s.startSide-n[l].value.startSide)>=0){let f=n[l++];u.addInner(f.from,f.to,f.value)||c.push(f)}else s.rangeIndex==1&&s.chunkIndex<this.chunk.length&&(l==n.length||this.chunkEnd(s.chunkIndex)<n[l].from)&&(!o||i>this.chunkEnd(s.chunkIndex)||a<this.chunkPos[s.chunkIndex])&&u.addChunk(this.chunkPos[s.chunkIndex],this.chunk[s.chunkIndex])?s.nextChunk():((!o||i>s.to||a<s.from||o(s.from,s.to,s.value))&&(u.addInner(s.from,s.to,s.value)||c.push(XO.create(s.from,s.to,s.value))),s.next());return u.finishInner(this.nextLayer.isEmpty&&!c.length?de.empty:this.nextLayer.update({add:c,filter:o,filterFrom:i,filterTo:a}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],r=[],i=-1;for(let o=0;o<this.chunk.length;o++){let s=this.chunkPos[o],l=this.chunk[o],c=e.touchesRange(s,s+l.length);if(c===!1)i=Math.max(i,l.maxPoint),n.push(l),r.push(e.mapPos(s));else if(c===!0){let{mapped:u,pos:f}=l.map(s,e);u&&(i=Math.max(i,u.maxPoint),n.push(u),r.push(f))}}let a=this.nextLayer.map(e);return n.length==0?a:new de(r,n,a||de.empty,i)}between(e,n,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let a=this.chunkPos[i],o=this.chunk[i];if(n>=a&&e<=a+o.length&&o.between(a,e-a,n-a,r)===!1)return}this.nextLayer.between(e,n,r)}}iter(e=0){return Fu.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return Fu.from(e).goto(n)}static compare(e,n,r,i,a=-1){let o=e.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=a),s=n.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=a),l=jk(o,s,r),c=new oc(o,l,a),u=new oc(s,l,a);r.iterGaps((f,h,d)=>Qk(c,f,u,h,d,i)),r.empty&&r.length==0&&Qk(c,0,u,0,0,i)}static eq(e,n,r=0,i){i==null&&(i=999999999);let a=e.filter(u=>!u.isEmpty&&n.indexOf(u)<0),o=n.filter(u=>!u.isEmpty&&e.indexOf(u)<0);if(a.length!=o.length)return!1;if(!a.length)return!0;let s=jk(a,o),l=new oc(a,s,0).goto(r),c=new oc(o,s,0).goto(r);for(;;){if(l.to!=c.to||!VO(l.active,c.active)||l.point&&(!c.point||!Dx(l.point,c.point)))return!1;if(l.to>i)return!0;l.next(),c.next()}}static spans(e,n,r,i,a=-1){let o=new oc(e,null,a).goto(n),s=n,l=o.openStart;for(;;){let c=Math.min(o.to,r);if(o.point){let u=o.activeForPoint(o.to),f=o.pointFrom<n?u.length+1:o.point.startSide<0?u.length:Math.min(u.length,l);i.point(s,c,o.point,u,f,o.pointRank),l=Math.min(o.openEnd(c),u.length)}else c>s&&(i.span(s,c,o.active,l),l=o.openEnd(c));if(o.to>r)return l+(o.point&&o.to>r?1:0);s=o.to,o.next()}}static of(e,n=!1){let r=new Ci;for(let i of e instanceof XO?[e]:n?mce(e):e)r.add(i.from,i.to,i.value);return r.finish()}static join(e){if(!e.length)return de.empty;let n=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let i=e[r];i!=de.empty;i=i.nextLayer)n=new de(i.chunkPos,i.chunk,n,Math.max(i.maxPoint,n.maxPoint));return n}}de.empty=new de([],[],null,-1);function mce(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if(FO(e,r)>0)return t.slice().sort(FO);e=r}return t}de.empty.nextLayer=de.empty;class Ci{finishChunk(e){this.chunks.push(new Nx(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,n,r){this.addInner(e,n,r)||(this.nextLayer||(this.nextLayer=new Ci)).add(e,n,r)}addInner(e,n,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+e,this.lastTo=n.to[r]+e,!0}finish(){return this.finishInner(de.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=de.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function jk(t,e,n){let r=new Map;for(let a of t)for(let o=0;o<a.chunk.length;o++)a.chunk[o].maxPoint<=0&&r.set(a.chunk[o],a.chunkPos[o]);let i=new Set;for(let a of e)for(let o=0;o<a.chunk.length;o++){let s=r.get(a.chunk[o]);s!=null&&(n?n.mapPos(s):s)==a.chunkPos[o]&&!(n!=null&&n.touchesRange(s,s+a.chunk[o].length))&&i.add(a.chunk[o])}return i}class tQ{constructor(e,n,r,i=0){this.layer=e,this.skip=n,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=e+n.from[this.rangeIndex];if(this.from=r,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Fu{constructor(e){this.heap=e}static from(e,n=null,r=-1){let i=[];for(let a=0;a<e.length;a++)for(let o=e[a];!o.isEmpty;o=o.nextLayer)o.maxPoint>=r&&i.push(new tQ(o,n,r,a));return i.length==1?i[0]:new Fu(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let r of this.heap)r.goto(e,n);for(let r=this.heap.length>>1;r>=0;r--)Q0(this.heap,r);return this.next(),this}forward(e,n){for(let r of this.heap)r.forward(e,n);for(let r=this.heap.length>>1;r>=0;r--)Q0(this.heap,r);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Q0(this.heap,0)}}}function Q0(t,e){for(let n=t[e];;){let r=(e<<1)+1;if(r>=t.length)break;let i=t[r];if(r+1<t.length&&i.compare(t[r+1])>=0&&(i=t[r+1],r++),n.compare(i)<0)break;t[r]=n,t[e]=i,e=r}}class oc{constructor(e,n,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Fu.from(e,n,r)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){mh(this.active,e),mh(this.activeTo,e),mh(this.activeRank,e),this.minActive=zk(this.active,this.activeTo)}addActive(e){let n=0,{value:r,to:i,rank:a}=this.cursor;for(;n<this.activeRank.length&&(a-this.activeRank[n]||i-this.activeTo[n])>0;)n++;gh(this.active,n,r),gh(this.activeTo,n,i),gh(this.activeRank,n,a),e&&gh(e,n,this.cursor.from),this.minActive=zk(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&mh(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let a=this.cursor.value;if(!a.point)this.addActive(r),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=a,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=a.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}openEnd(e){let n=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)n++;return n}}function Qk(t,e,n,r,i,a){t.goto(e),n.goto(r);let o=r+i,s=r,l=r-e,c=!!a.boundChange;for(let u=!1;;){let f=t.to+l-n.to,h=f||t.endSide-n.endSide,d=h<0?t.to+l:n.to,p=Math.min(d,o);if(t.point||n.point?(t.point&&n.point&&Dx(t.point,n.point)&&VO(t.activeForPoint(t.to),n.activeForPoint(n.to))||a.comparePoint(s,p,t.point,n.point),u=!1):(u&&a.boundChange(s),p>s&&!VO(t.active,n.active)&&a.compareRange(s,p,t.active,n.active),c&&p<o&&(f||t.openEnd(d)!=n.openEnd(d))&&(u=!0)),d>o)break;s=d,h<=0&&t.next(),h>=0&&n.next()}}function VO(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!Dx(t[n],e[n]))return!1;return!0}function mh(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function gh(t,e,n){for(let r=t.length-1;r>=e;r--)t[r+1]=t[r];t[e]=n}function zk(t,e){let n=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||t[i].endSide-t[n].endSide)<0&&(n=i,r=e[i]);return n}function Ml(t,e,n=t.length){let r=0;for(let i=0;i<n&&i<t.length;)t.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=Pt(t,i));return r}function UO(t,e,n,r){for(let i=0,a=0;;){if(a>=e)return i;if(i==t.length)break;a+=t.charCodeAt(i)==9?n-a%n:1,i=Pt(t,i)}return r===!0?-1:t.length}const qO="",Ik=typeof Symbol>"u"?"__"+qO:Symbol.for(qO),YO=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),Rk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class ga{constructor(e,n){this.rules=[];let{finish:r}=n||{};function i(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function a(o,s,l,c){let u=[],f=/^@(\w+)\b/.exec(o[0]),h=f&&f[1]=="keyframes";if(f&&s==null)return l.push(o[0]+";");for(let d in s){let p=s[d];if(/&/.test(d))a(d.split(/,\s*/).map(m=>o.map(v=>m.replace(/&/,v))).reduce((m,v)=>m.concat(v)),p,l);else if(p&&typeof p=="object"){if(!f)throw new RangeError("The value of a property ("+d+") should be a primitive value.");a(i(d),p,u,h)}else p!=null&&u.push(d.replace(/_.*/,"").replace(/[A-Z]/g,m=>"-"+m.toLowerCase())+": "+p+";")}(u.length||h)&&l.push((r&&!f&&!c?o.map(r):o).join(", ")+" {"+u.join(" ")+"}")}for(let o in e)a(i(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=Rk[Ik]||1;return Rk[Ik]=e+1,qO+e.toString(36)}static mount(e,n,r){let i=e[YO],a=r&&r.nonce;i?a&&i.setNonce(a):i=new gce(e,a),i.mount(Array.isArray(n)?n:[n],e)}}let Dk=new Map;class gce{constructor(e,n){let r=e.ownerDocument||e,i=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let a=Dk.get(r);if(a)return e[YO]=a;this.sheet=new i.CSSStyleSheet,Dk.set(r,this)}else this.styleTag=r.createElement("style"),n&&this.styleTag.setAttribute("nonce",n);this.modules=[],e[YO]=this}mount(e,n){let r=this.sheet,i=0,a=0;for(let o=0;o<e.length;o++){let s=e[o],l=this.modules.indexOf(s);if(l<a&&l>-1&&(this.modules.splice(l,1),a--,l=-1),l==-1){if(this.modules.splice(a++,0,s),r)for(let c=0;c<s.rules.length;c++)r.insertRule(s.rules[c],i++)}else{for(;a<l;)i+=this.modules[a++].rules.length;i+=s.rules.length,a++}}if(r)n.adoptedStyleSheets.indexOf(this.sheet)<0&&(n.adoptedStyleSheets=[this.sheet,...n.adoptedStyleSheets]);else{let o="";for(let l=0;l<this.modules.length;l++)o+=this.modules[l].getRules()+`
`;this.styleTag.textContent=o;let s=n.head||n;this.styleTag.parentNode!=s&&s.insertBefore(this.styleTag,s.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var va={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Vu={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},vce=typeof navigator<"u"&&/Mac/.test(navigator.platform),yce=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var zt=0;zt<10;zt++)va[48+zt]=va[96+zt]=String(zt);for(var zt=1;zt<=24;zt++)va[zt+111]="F"+zt;for(var zt=65;zt<=90;zt++)va[zt]=String.fromCharCode(zt+32),Vu[zt]=String.fromCharCode(zt);for(var z0 in va)Vu.hasOwnProperty(z0)||(Vu[z0]=va[z0]);function Oce(t){var e=vce&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||yce&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Vu:va)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function Pe(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,n=arguments[1];if(n&&typeof n=="object"&&n.nodeType==null&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];typeof i=="string"?t.setAttribute(r,i):i!=null&&(t[r]=i)}e++}for(;e<arguments.length;e++)nQ(t,arguments[e]);return t}function nQ(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var n=0;n<e.length;n++)nQ(t,e[n]);else throw new RangeError("Unsupported child node: "+e)}let tn=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},GO=typeof document<"u"?document:{documentElement:{style:{}}};const HO=/Edge\/(\d+)/.exec(tn.userAgent),rQ=/MSIE \d/.test(tn.userAgent),KO=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(tn.userAgent),mg=!!(rQ||KO||HO),Nk=!mg&&/gecko\/(\d+)/i.test(tn.userAgent),I0=!mg&&/Chrome\/(\d+)/.exec(tn.userAgent),bce="webkitFontSmoothing"in GO.documentElement.style,JO=!mg&&/Apple Computer/.test(tn.vendor),Lk=JO&&(/Mobile\/\w+/.test(tn.userAgent)||tn.maxTouchPoints>2);var J={mac:Lk||/Mac/.test(tn.platform),windows:/Win/.test(tn.platform),linux:/Linux|X11/.test(tn.platform),ie:mg,ie_version:rQ?GO.documentMode||6:KO?+KO[1]:HO?+HO[1]:0,gecko:Nk,gecko_version:Nk?+(/Firefox\/(\d+)/.exec(tn.userAgent)||[0,0])[1]:0,chrome:!!I0,chrome_version:I0?+I0[1]:0,ios:Lk,android:/Android\b/.test(tn.userAgent),webkit_version:bce?+(/\bAppleWebKit\/(\d+)/.exec(tn.userAgent)||[0,0])[1]:0,safari:JO,safari_version:JO?+(/\bVersion\/(\d+(\.\d+)?)/.exec(tn.userAgent)||[0,0])[1]:0,tabSize:GO.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function Lx(t,e){for(let n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}const Ip=Object.create(null);function Bx(t,e,n){if(t==e)return!0;t||(t=Ip),e||(e=Ip);let r=Object.keys(t),i=Object.keys(e);if(r.length-0!=i.length-0)return!1;for(let a of r)if(a!=n&&(i.indexOf(a)==-1||t[a]!==e[a]))return!1;return!0}function xce(t,e){for(let n=t.attributes.length-1;n>=0;n--){let r=t.attributes[n].name;e[r]==null&&t.removeAttribute(r)}for(let n in e){let r=e[n];n=="style"?t.style.cssText=r:t.getAttribute(n)!=r&&t.setAttribute(n,r)}}function Bk(t,e,n){let r=!1;if(e)for(let i in e)n&&i in n||(r=!0,i=="style"?t.style.cssText="":t.removeAttribute(i));if(n)for(let i in n)e&&e[i]==n[i]||(r=!0,i=="style"?t.style.cssText=n[i]:t.setAttribute(i,n[i]));return r}function wce(t){let e=Object.create(null);for(let n=0;n<t.attributes.length;n++){let r=t.attributes[n];e[r.name]=r.value}return e}class si{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,n,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var Lt=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(Lt||(Lt={}));class re extends ma{constructor(e,n,r,i){super(),this.startSide=e,this.endSide=n,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new xf(e)}static widget(e){let n=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return n+=r&&!e.inlineOrder?n>0?3e8:-4e8:n>0?1e8:-1e8,new wo(e,n,n,r,e.widget||null,!1)}static replace(e){let n=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:a,end:o}=iQ(e,n);r=(a?n?-3e8:-1:5e8)-1,i=(o?n?2e8:1:-6e8)+1}return new wo(e,r,i,n,e.widget||null,!0)}static line(e){return new wf(e)}static set(e,n=!1){return de.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}re.none=de.empty;class xf extends re{constructor(e){let{start:n,end:r}=iQ(e);super(n?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.attrs=e.class&&e.attributes?Lx(e.attributes,{class:e.class}):e.class?{class:e.class}:e.attributes||Ip}eq(e){return this==e||e instanceof xf&&this.tagName==e.tagName&&Bx(this.attrs,e.attrs)}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}}xf.prototype.point=!1;class wf extends re{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof wf&&this.spec.class==e.spec.class&&Bx(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}}wf.prototype.mapMode=Rt.TrackBefore;wf.prototype.point=!0;class wo extends re{constructor(e,n,r,i,a,o){super(n,r,a,e),this.block=i,this.isReplace=o,this.mapMode=i?n<=0?Rt.TrackBefore:Rt.TrackAfter:Rt.TrackDel}get type(){return this.startSide!=this.endSide?Lt.WidgetRange:this.startSide<=0?Lt.WidgetBefore:Lt.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof wo&&Sce(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}}wo.prototype.point=!0;function iQ(t,e=!1){let{inclusiveStart:n,inclusiveEnd:r}=t;return n==null&&(n=t.inclusive),r==null&&(r=t.inclusive),{start:n??e,end:r??e}}function Sce(t,e){return t==e||!!(t&&e&&t.compare(e))}function ws(t,e,n,r=0){let i=n.length-1;i>=0&&n[i]+r>=t?n[i]=Math.max(n[i],e):n.push(t,e)}class Uu extends ma{constructor(e,n){super(),this.tagName=e,this.attributes=n}eq(e){return e==this||e instanceof Uu&&this.tagName==e.tagName&&Bx(this.attributes,e.attributes)}static create(e){return new Uu(e.tagName,e.attributes||Ip)}static set(e,n=!1){return de.of(e,n)}}Uu.prototype.startSide=Uu.prototype.endSide=-1;function qu(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function eb(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function Nc(t,e){if(!e.anchorNode)return!1;try{return eb(t,e.anchorNode)}catch{return!1}}function Kh(t){return t.nodeType==3?Yu(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function Lc(t,e,n,r){return n?Zk(t,e,n,r,-1)||Zk(t,e,n,r,1):!1}function ya(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function Rp(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function Zk(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Ei(t))){if(t.nodeName=="DIV")return!1;let a=t.parentNode;if(!a||a.nodeType!=1)return!1;e=ya(t)+(i<0?0:1),t=a}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=i<0?Ei(t):0}else return!1}}function Ei(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Dp(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function _ce(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function aQ(t,e){let n=e.width/t.offsetWidth,r=e.height/t.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.width-t.offsetWidth)<1)&&(n=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-t.offsetHeight)<1)&&(r=1),{scaleX:n,scaleY:r}}function $ce(t,e,n,r,i,a,o,s){let l=t.ownerDocument,c=l.defaultView||window;for(let u=t,f=!1;u&&!f;)if(u.nodeType==1){let h,d=u==l.body,p=1,m=1;if(d)h=_ce(c);else{if(/^(fixed|sticky)$/.test(getComputedStyle(u).position)&&(f=!0),u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.assignedSlot||u.parentNode;continue}let y=u.getBoundingClientRect();({scaleX:p,scaleY:m}=aQ(u,y)),h={left:y.left,right:y.left+u.clientWidth*p,top:y.top,bottom:y.top+u.clientHeight*m}}let v=0,g=0;if(i=="nearest")e.top<h.top?(g=e.top-(h.top+o),n>0&&e.bottom>h.bottom+g&&(g=e.bottom-h.bottom+o)):e.bottom>h.bottom&&(g=e.bottom-h.bottom+o,n<0&&e.top-g<h.top&&(g=e.top-(h.top+o)));else{let y=e.bottom-e.top,x=h.bottom-h.top;g=(i=="center"&&y<=x?e.top+y/2-x/2:i=="start"||i=="center"&&n<0?e.top-o:e.bottom-x+o)-h.top}if(r=="nearest"?e.left<h.left?(v=e.left-(h.left+a),n>0&&e.right>h.right+v&&(v=e.right-h.right+a)):e.right>h.right&&(v=e.right-h.right+a,n<0&&e.left<h.left+v&&(v=e.left-(h.left+a))):v=(r=="center"?e.left+(e.right-e.left)/2-(h.right-h.left)/2:r=="start"==s?e.left-a:e.right-(h.right-h.left)+a)-h.left,v||g)if(d)c.scrollBy(v,g);else{let y=0,x=0;if(g){let _=u.scrollTop;u.scrollTop+=g/m,x=(u.scrollTop-_)*m}if(v){let _=u.scrollLeft;u.scrollLeft+=v/p,y=(u.scrollLeft-_)*p}e={left:e.left-y,top:e.top-x,right:e.right-y,bottom:e.bottom-x},y&&Math.abs(y-v)<1&&(r="nearest"),x&&Math.abs(x-g)<1&&(i="nearest")}if(d)break;(e.top<h.top||e.bottom>h.bottom||e.left<h.left||e.right>h.right)&&(e={left:Math.max(e.left,h.left),right:Math.min(e.right,h.right),top:Math.max(e.top,h.top),bottom:Math.min(e.bottom,h.bottom)}),u=u.assignedSlot||u.parentNode}else if(u.nodeType==11)u=u.host;else break}function kce(t){let e=t.ownerDocument,n,r;for(let i=t.parentNode;i&&!(i==e.body||n&&r);)if(i.nodeType==1)!r&&i.scrollHeight>i.clientHeight&&(r=i),!n&&i.scrollWidth>i.clientWidth&&(n=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:n,y:r}}class Pce{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:n,focusNode:r}=e;this.set(n,Math.min(e.anchorOffset,n?Ei(n):0),r,Math.min(e.focusOffset,r?Ei(r):0))}set(e,n,r,i){this.anchorNode=e,this.anchorOffset=n,this.focusNode=r,this.focusOffset=i}}let Za=null;J.safari&&J.safari_version>=26&&(Za=!1);function oQ(t){if(t.setActive)return t.setActive();if(Za)return t.focus(Za);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(Za==null?{get preventScroll(){return Za={preventScroll:!0},!0}}:void 0),!Za){Za=!1;for(let n=0;n<e.length;){let r=e[n++],i=e[n++],a=e[n++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=a&&(r.scrollLeft=a)}}}let Wk;function Yu(t,e,n=e){let r=Wk||(Wk=document.createRange());return r.setEnd(t,n),r.setStart(t,e),r}function Ss(t,e,n,r){let i={key:e,code:e,keyCode:n,which:n,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let a=new KeyboardEvent("keydown",i);a.synthetic=!0,t.dispatchEvent(a);let o=new KeyboardEvent("keyup",i);return o.synthetic=!0,t.dispatchEvent(o),a.defaultPrevented||o.defaultPrevented}function Ace(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function Cce(t,e){let n=e.focusNode,r=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=r)return!1;for(r=Math.min(r,Ei(n));;)if(r){if(n.nodeType!=1)return!1;let i=n.childNodes[r-1];i.contentEditable=="false"?r--:(n=i,r=Ei(n))}else{if(n==t)return!0;r=ya(n),n=n.parentNode}}function sQ(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function lQ(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r>0)return{node:n,offset:r};if(n.nodeType==1&&r>0){if(n.contentEditable=="false")return null;n=n.childNodes[r-1],r=Ei(n)}else if(n.parentNode&&!Rp(n))r=ya(n),n=n.parentNode;else return null}}function cQ(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r<n.nodeValue.length)return{node:n,offset:r};if(n.nodeType==1&&r<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[r],r=0}else if(n.parentNode&&!Rp(n))r=ya(n)+1,n=n.parentNode;else return null}}class Sr{constructor(e,n,r=!0){this.node=e,this.offset=n,this.precise=r}static before(e,n){return new Sr(e.parentNode,ya(e),n)}static after(e,n){return new Sr(e.parentNode,ya(e)+1,n)}}var Te=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(Te||(Te={}));const So=Te.LTR,Zx=Te.RTL;function uQ(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const Ece=uQ("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Tce=uQ("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),tb=Object.create(null),Rr=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);tb[e]=n,tb[n]=-e}function fQ(t){return t<=247?Ece[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?Tce[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const Mce=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class qr{get dir(){return this.level%2?Zx:So}constructor(e,n,r){this.from=e,this.to=n,this.level=r}side(e,n){return this.dir==n==e?this.to:this.from}forward(e,n){return e==(this.dir==n)}static find(e,n,r,i){let a=-1;for(let o=0;o<e.length;o++){let s=e[o];if(s.from<=n&&s.to>=n){if(s.level==r)return o;(a<0||(i!=0?i<0?s.from<n:s.to>n:e[a].level>s.level))&&(a=o)}}if(a<0)throw new RangeError("Index out of range");return a}}function hQ(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!hQ(r.inner,i.inner))return!1}return!0}const Ce=[];function jce(t,e,n,r,i){for(let a=0;a<=r.length;a++){let o=a?r[a-1].to:e,s=a<r.length?r[a].from:n,l=a?256:i;for(let c=o,u=l,f=l;c<s;c++){let h=fQ(t.charCodeAt(c));h==512?h=u:h==8&&f==4&&(h=16),Ce[c]=h==4?2:h,h&7&&(f=h),u=h}for(let c=o,u=l,f=l;c<s;c++){let h=Ce[c];if(h==128)c<s-1&&u==Ce[c+1]&&u&24?h=Ce[c]=u:Ce[c]=256;else if(h==64){let d=c+1;for(;d<s&&Ce[d]==64;)d++;let p=c&&u==8||d<n&&Ce[d]==8?f==1?1:8:256;for(let m=c;m<d;m++)Ce[m]=p;c=d-1}else h==8&&f==1&&(Ce[c]=1);u=h,h&7&&(f=h)}}}function Qce(t,e,n,r,i){let a=i==1?2:1;for(let o=0,s=0,l=0;o<=r.length;o++){let c=o?r[o-1].to:e,u=o<r.length?r[o].from:n;for(let f=c,h,d,p;f<u;f++)if(d=tb[h=t.charCodeAt(f)])if(d<0){for(let m=s-3;m>=0;m-=3)if(Rr[m+1]==-d){let v=Rr[m+2],g=v&2?i:v&4?v&1?a:i:0;g&&(Ce[f]=Ce[Rr[m]]=g),s=m;break}}else{if(Rr.length==189)break;Rr[s++]=f,Rr[s++]=h,Rr[s++]=l}else if((p=Ce[f])==2||p==1){let m=p==i;l=m?0:1;for(let v=s-3;v>=0;v-=3){let g=Rr[v+2];if(g&2)break;if(m)Rr[v+2]|=2;else{if(g&4)break;Rr[v+2]|=4}}}}}function zce(t,e,n,r){for(let i=0,a=r;i<=n.length;i++){let o=i?n[i-1].to:t,s=i<n.length?n[i].from:e;for(let l=o;l<s;){let c=Ce[l];if(c==256){let u=l+1;for(;;)if(u==s){if(i==n.length)break;u=n[i++].to,s=i<n.length?n[i].from:e}else if(Ce[u]==256)u++;else break;let f=a==1,h=(u<e?Ce[u]:r)==1,d=f==h?f?1:2:r;for(let p=u,m=i,v=m?n[m-1].to:t;p>l;)p==v&&(p=n[--m].from,v=m?n[m-1].to:t),Ce[--p]=d;l=u}else a=c,l++}}}function nb(t,e,n,r,i,a,o){let s=r%2?2:1;if(r%2==i%2)for(let l=e,c=0;l<n;){let u=!0,f=!1;if(c==a.length||l<a[c].from){let m=Ce[l];m!=s&&(u=!1,f=m==16)}let h=!u&&s==1?[]:null,d=u?r:r+1,p=l;e:for(;;)if(c<a.length&&p==a[c].from){if(f)break e;let m=a[c];if(!u)for(let v=m.to,g=c+1;;){if(v==n)break e;if(g<a.length&&a[g].from==v)v=a[g++].to;else{if(Ce[v]==s)break e;break}}if(c++,h)h.push(m);else{m.from>l&&o.push(new qr(l,m.from,d));let v=m.direction==So!=!(d%2);rb(t,v?r+1:r,i,m.inner,m.from,m.to,o),l=m.to}p=m.to}else{if(p==n||(u?Ce[p]!=s:Ce[p]==s))break;p++}h?nb(t,l,p,r+1,i,h,o):l<p&&o.push(new qr(l,p,d)),l=p}else for(let l=n,c=a.length;l>e;){let u=!0,f=!1;if(!c||l>a[c-1].to){let m=Ce[l-1];m!=s&&(u=!1,f=m==16)}let h=!u&&s==1?[]:null,d=u?r:r+1,p=l;e:for(;;)if(c&&p==a[c-1].to){if(f)break e;let m=a[--c];if(!u)for(let v=m.from,g=c;;){if(v==e)break e;if(g&&a[g-1].to==v)v=a[--g].from;else{if(Ce[v-1]==s)break e;break}}if(h)h.push(m);else{m.to<l&&o.push(new qr(m.to,l,d));let v=m.direction==So!=!(d%2);rb(t,v?r+1:r,i,m.inner,m.from,m.to,o),l=m.from}p=m.from}else{if(p==e||(u?Ce[p-1]!=s:Ce[p-1]==s))break;p--}h?nb(t,p,l,r+1,i,h,o):p<l&&o.push(new qr(p,l,d)),l=p}}function rb(t,e,n,r,i,a,o){let s=e%2?2:1;jce(t,i,a,r,s),Qce(t,i,a,r,s),zce(i,a,r,s),nb(t,i,a,e,n,r,o)}function Ice(t,e,n){if(!t)return[new qr(0,0,e==Zx?1:0)];if(e==So&&!n.length&&!Mce.test(t))return dQ(t.length);if(n.length)for(;t.length>Ce.length;)Ce[Ce.length]=256;let r=[],i=e==So?0:1;return rb(t,i,i,n,0,t.length,r),r}function dQ(t){return[new qr(0,t,0)]}let pQ="";function Rce(t,e,n,r,i){var a;let o=r.head-t.from,s=qr.find(e,o,(a=r.bidiLevel)!==null&&a!==void 0?a:-1,r.assoc),l=e[s],c=l.side(i,n);if(o==c){let h=s+=i?1:-1;if(h<0||h>=e.length)return null;l=e[s=h],o=l.side(!i,n),c=l.side(i,n)}let u=Pt(t.text,o,l.forward(i,n));(u<l.from||u>l.to)&&(u=c),pQ=t.text.slice(Math.min(o,u),Math.max(o,u));let f=s==(i?e.length-1:0)?null:e[s+(i?1:-1)];return f&&u==c&&f.level+(i?0:1)<l.level?W.cursor(f.side(!i,n)+t.from,f.forward(i,n)?1:-1,f.level):W.cursor(u+t.from,l.forward(i,n)?-1:1,l.level)}function Dce(t,e,n){for(let r=e;r<n;r++){let i=fQ(t.charCodeAt(r));if(i==1)return So;if(i==2||i==4)return Zx}return So}const mQ=H.define(),gQ=H.define(),vQ=H.define(),yQ=H.define(),ib=H.define(),OQ=H.define(),bQ=H.define(),Wx=H.define(),Xx=H.define(),xQ=H.define({combine:t=>t.some(e=>e)}),wQ=H.define({combine:t=>t.some(e=>e)}),SQ=H.define();class _s{constructor(e,n="nearest",r="nearest",i=5,a=5,o=!1){this.range=e,this.y=n,this.x=r,this.yMargin=i,this.xMargin=a,this.isSnapshot=o}map(e){return e.empty?this:new _s(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new _s(W.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const vh=se.define({map:(t,e)=>t.map(e)}),_Q=se.define();function gn(t,e,n){let r=t.facet(yQ);r.length?r[0](e):window.onerror&&window.onerror(String(e),n,void 0,void 0,e)||(n?console.error(n+":",e):console.error(e))}const hi=H.define({combine:t=>t.length?t[0]:!0});let Nce=0;const ss=H.define({combine(t){return t.filter((e,n)=>{for(let r=0;r<n;r++)if(t[r].plugin==e.plugin)return!1;return!0})}});class ut{constructor(e,n,r,i,a){this.id=e,this.create=n,this.domEventHandlers=r,this.domEventObservers=i,this.baseExtensions=a(this),this.extension=this.baseExtensions.concat(ss.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(ss.of({plugin:this,arg:e}))}static define(e,n){const{eventHandlers:r,eventObservers:i,provide:a,decorations:o}=n||{};return new ut(Nce++,e,r,i,s=>{let l=[];return o&&l.push(gg.of(c=>{let u=c.plugin(s);return u?o(u):re.none})),a&&l.push(a(s)),l})}static fromClass(e,n){return ut.define((r,i)=>new e(r,i),n)}}class R0{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(r){if(gn(n.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(n){gn(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(r){gn(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const $Q=H.define(),Fx=H.define(),gg=H.define(),kQ=H.define(),Vx=H.define(),Sf=H.define(),PQ=H.define();function Xk(t,e){let n=t.state.facet(PQ);if(!n.length)return n;let r=n.map(a=>a instanceof Function?a(t):a),i=[];return de.spans(r,e.from,e.to,{point(){},span(a,o,s,l){let c=a-e.from,u=o-e.from,f=i;for(let h=s.length-1;h>=0;h--,l--){let d=s[h].spec.bidiIsolate,p;if(d==null&&(d=Dce(e.text,c,u)),l>0&&f.length&&(p=f[f.length-1]).to==c&&p.direction==d)p.to=u,f=p.inner;else{let m={from:c,to:u,direction:d,inner:[]};f.push(m),f=m.inner}}}}),i}const AQ=H.define();function Ux(t){let e=0,n=0,r=0,i=0;for(let a of t.state.facet(AQ)){let o=a(t);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(n=Math.max(n,o.right)),o.top!=null&&(r=Math.max(r,o.top)),o.bottom!=null&&(i=Math.max(i,o.bottom)))}return{left:e,right:n,top:r,bottom:i}}const gc=H.define();class er{constructor(e,n,r,i){this.fromA=e,this.toA=n,this.fromB=r,this.toB=i}join(e){return new er(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,r=this;for(;n>0;n--){let i=e[n-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(n-1,1)}}return e.splice(n,0,r),e}static extendWithRanges(e,n){if(n.length==0)return e;let r=[];for(let i=0,a=0,o=0;;){let s=i<e.length?e[i].fromB:1e9,l=a<n.length?n[a]:1e9,c=Math.min(s,l);if(c==1e9)break;let u=c+o,f=c,h=u;for(;;)if(a<n.length&&n[a]<=f){let d=n[a+1];a+=2,f=Math.max(f,d);for(let p=i;p<e.length&&e[p].fromB<=f;p++)o=e[p].toA-e[p].toB;h=Math.max(h,d+o)}else if(i<e.length&&e[i].fromB<=f){let d=e[i++];f=Math.max(f,d.toB),h=Math.max(h,d.toA),o=d.toA-d.toB}else break;r.push(new er(u,h,c,f))}return r}}class Np{constructor(e,n,r){this.view=e,this.state=n,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=vt.empty(this.startState.doc.length);for(let a of r)this.changes=this.changes.compose(a.changes);let i=[];this.changes.iterChangedRanges((a,o,s,l)=>i.push(new er(a,o,s,l))),this.changedRanges=i}static create(e,n,r){return new Np(e,n,r)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}const Lce=[];class ct{constructor(e,n,r=0){this.dom=e,this.length=n,this.flags=r,this.parent=null,e.cmTile=this}get breakAfter(){return this.flags&1}get children(){return Lce}isWidget(){return!1}get isHidden(){return!1}isComposite(){return!1}isLine(){return!1}isText(){return!1}isBlock(){return!1}get domAttrs(){return null}sync(e){if(this.flags|=2,this.flags&4){this.flags&=-5;let n=this.domAttrs;n&&xce(this.dom,n)}}toString(){return this.constructor.name+(this.children.length?`(${this.children})`:"")+(this.breakAfter?"#":"")}destroy(){this.parent=null}setDOM(e){this.dom=e,e.cmTile=this}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e,n=this.posAtStart){let r=n;for(let i of this.children){if(i==e)return r;r+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}covers(e){return!0}coordsIn(e,n){return null}domPosFor(e,n){let r=ya(this.dom),i=this.length?e>0:n>0;return new Sr(this.parent.dom,r+(i?1:0),e==0||e==this.length)}markDirty(e){this.flags&=-3,e&&(this.flags|=4),this.parent&&this.parent.flags&2&&this.parent.markDirty(!1)}get overrideDOMText(){return null}get root(){for(let e=this;e;e=e.parent)if(e instanceof yg)return e;return null}static get(e){return e.cmTile}}class vg extends ct{constructor(e){super(e,0),this._children=[]}isComposite(){return!0}get children(){return this._children}get lastChild(){return this.children.length?this.children[this.children.length-1]:null}append(e){this.children.push(e),e.parent=this}sync(e){if(this.flags&2)return;super.sync(e);let n=this.dom,r=null,i,a=(e==null?void 0:e.node)==n?e:null,o=0;for(let s of this.children){if(s.sync(e),o+=s.length+s.breakAfter,i=r?r.nextSibling:n.firstChild,a&&i!=s.dom&&(a.written=!0),s.dom.parentNode==n)for(;i&&i!=s.dom;)i=Fk(i);else n.insertBefore(s.dom,i);r=s.dom}for(i=r?r.nextSibling:n.firstChild,a&&i&&(a.written=!0);i;)i=Fk(i);this.length=o}}function Fk(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class yg extends vg{constructor(e,n){super(n),this.view=e}owns(e){for(;e;e=e.parent)if(e==this)return!0;return!1}isBlock(){return!0}nearest(e){for(;;){if(!e)return null;let n=ct.get(e);if(n&&this.owns(n))return n;e=e.parentNode}}blockTiles(e){for(let n=[],r=this,i=0,a=0;;)if(i==r.children.length){if(!n.length)return;r=r.parent,r.breakAfter&&a++,i=n.pop()}else{let o=r.children[i++];if(o instanceof fa)n.push(i),r=o,i=0;else{let s=a+o.length,l=e(o,a);if(l!==void 0)return l;a=s+o.breakAfter}}}resolveBlock(e,n){let r,i=-1,a,o=-1;if(this.blockTiles((s,l)=>{let c=l+s.length;if(e>=l&&e<=c){if(s.isWidget()&&n>=-1&&n<=1){if(s.flags&32)return!0;s.flags&16&&(r=void 0)}(l<e||e==c&&(n<-1?s.length:s.covers(1)))&&(!r||!s.isWidget()&&r.isWidget())&&(r=s,i=e-l),(c>e||e==l&&(n>1?s.length:s.covers(-1)))&&(!a||!s.isWidget()&&a.isWidget())&&(a=s,o=e-l)}}),!r&&!a)throw new Error("No tile at position "+e);return r&&n<0||!a?{tile:r,offset:i}:{tile:a,offset:o}}}class fa extends vg{constructor(e,n){super(e),this.wrapper=n}isBlock(){return!0}covers(e){return this.children.length?e<0?this.children[0].covers(-1):this.lastChild.covers(1):!1}get domAttrs(){return this.wrapper.attributes}static of(e,n){let r=new fa(n||document.createElement(e.tagName),e);return n||(r.flags|=4),r}}class ll extends vg{constructor(e,n){super(e),this.attrs=n}isLine(){return!0}static start(e,n,r){let i=new ll(n||document.createElement("div"),e);return(!n||!r)&&(i.flags|=4),i}get domAttrs(){return this.attrs}resolveInline(e,n,r){let i=null,a=-1,o=null,s=-1;function l(u,f){for(let h=0,d=0;h<u.children.length&&d<=f;h++){let p=u.children[h],m=d+p.length;m>=f&&(p.isComposite()?l(p,f-d):(!o||o.isHidden&&(n>0||r&&Zce(o,p)))&&(m>f||p.flags&32)?(o=p,s=f-d):(d<f||p.flags&16&&!p.isHidden)&&(i=p,a=f-d)),d=m}}l(this,e);let c=(n<0?i:o)||i||o;return c?{tile:c,offset:c==i?a:s}:null}coordsIn(e,n){let r=this.resolveInline(e,n,!0);return r?r.tile.coordsIn(Math.max(0,r.offset),n):Bce(this)}domIn(e,n){let r=this.resolveInline(e,n);if(r){let{tile:i,offset:a}=r;if(this.dom.contains(i.dom))return i.isText()?new Sr(i.dom,Math.min(i.dom.nodeValue.length,a)):i.domPosFor(a,i.flags&16?1:i.flags&32?-1:n);let o=r.tile.parent,s=!1;for(let l of o.children){if(s)return new Sr(l.dom,0);l==r.tile&&(s=!0)}}return new Sr(this.dom,0)}}function Bce(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=Kh(e);return n[n.length-1]||null}function Zce(t,e){let n=t.coordsIn(0,1),r=e.coordsIn(0,1);return n&&r&&r.top<n.bottom}class dn extends vg{constructor(e,n){super(e),this.mark=n}get domAttrs(){return this.mark.attrs}static of(e,n){let r=new dn(n||document.createElement(e.tagName),e);return n||(r.flags|=4),r}}class eo extends ct{constructor(e,n){super(e,n.length),this.text=n}sync(e){this.flags&2||(super.sync(e),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text))}isText(){return!0}toString(){return JSON.stringify(this.text)}coordsIn(e,n){let r=this.dom.nodeValue.length;e>r&&(e=r);let i=e,a=e,o=0;e==0&&n<0||e==r&&n>=0?J.chrome||J.gecko||(e?(i--,o=1):a<r&&(a++,o=-1)):n<0?i--:a<r&&a++;let s=Yu(this.dom,i,a).getClientRects();if(!s.length)return null;let l=s[(o?o<0:n>=0)?0:s.length-1];return J.safari&&!o&&l.width==0&&(l=Array.prototype.find.call(s,c=>c.width)||l),o?Dp(l,o<0):l||null}static of(e,n){let r=new eo(n||document.createTextNode(e),e);return n||(r.flags|=2),r}}class _o extends ct{constructor(e,n,r,i){super(e,n,i),this.widget=r}isWidget(){return!0}get isHidden(){return this.widget.isHidden}covers(e){return this.flags&48?!1:(this.flags&(e<0?64:128))>0}coordsIn(e,n){return this.coordsInWidget(e,n,!1)}coordsInWidget(e,n,r){let i=this.widget.coordsAt(this.dom,e,n);if(i)return i;if(r)return Dp(this.dom.getBoundingClientRect(),this.length?e==0:n<=0);{let a=this.dom.getClientRects(),o=null;if(!a.length)return null;let s=this.flags&16?!0:this.flags&32?!1:e>0;for(let l=s?a.length-1:0;o=a[l],!(e>0?l==0:l==a.length-1||o.top<o.bottom);l+=s?-1:1);return Dp(o,!s)}}get overrideDOMText(){if(!this.length)return Oe.empty;let{root:e}=this;if(!e)return Oe.empty;let n=this.posAtStart;return e.view.state.doc.slice(n,n+this.length)}destroy(){super.destroy(),this.widget.destroy(this.dom)}static of(e,n,r,i,a){return a||(a=e.toDOM(n),e.editable||(a.contentEditable="false")),new _o(a,r,e,i)}}class Lp extends ct{constructor(e){let n=document.createElement("img");n.className="cm-widgetBuffer",n.setAttribute("aria-hidden","true"),super(n,0,e)}get isHidden(){return!0}get overrideDOMText(){return Oe.empty}coordsIn(e){return this.dom.getBoundingClientRect()}}class Wce{constructor(e){this.index=0,this.beforeBreak=!1,this.parents=[],this.tile=e}advance(e,n,r){let{tile:i,index:a,beforeBreak:o,parents:s}=this;for(;e||n>0;)if(i.isComposite())if(o){if(!e)break;r&&r.break(),e--,o=!1}else if(a==i.children.length){if(!e&&!s.length)break;r&&r.leave(i),o=!!i.breakAfter,{tile:i,index:a}=s.pop(),a++}else{let l=i.children[a],c=l.breakAfter;(n>0?l.length<=e:l.length<e)&&(!r||r.skip(l,0,l.length)!==!1||!l.isComposite)?(o=!!c,a++,e-=l.length):(s.push({tile:i,index:a}),i=l,a=0,r&&l.isComposite()&&r.enter(l))}else if(a==i.length)o=!!i.breakAfter,{tile:i,index:a}=s.pop(),a++;else if(e){let l=Math.min(e,i.length-a);r&&r.skip(i,a,a+l),e-=l,a+=l}else break;return this.tile=i,this.index=a,this.beforeBreak=o,this}get root(){return this.parents.length?this.parents[0].tile:this.tile}}class Xce{constructor(e,n,r,i){this.from=e,this.to=n,this.wrapper=r,this.rank=i}}class Fce{constructor(e,n,r){this.cache=e,this.root=n,this.blockWrappers=r,this.curLine=null,this.lastBlock=null,this.afterWidget=null,this.pos=0,this.wrappers=[],this.wrapperPos=0}addText(e,n,r,i){var a;this.flushBuffer();let o=this.ensureMarks(n,r),s=o.lastChild;if(s&&s.isText()&&!(s.flags&8)&&s.length+e.length<512){this.cache.reused.set(s,2);let l=o.children[o.children.length-1]=new eo(s.dom,s.text+e);l.parent=o}else o.append(i||eo.of(e,(a=this.cache.find(eo))===null||a===void 0?void 0:a.dom));this.pos+=e.length,this.afterWidget=null}addComposition(e,n){let r=this.curLine;r.dom!=n.line.dom&&(r.setDOM(this.cache.reused.has(n.line)?D0(n.line.dom):n.line.dom),this.cache.reused.set(n.line,2));let i=r;for(let s=n.marks.length-1;s>=0;s--){let l=n.marks[s],c=i.lastChild;if(c instanceof dn&&c.mark.eq(l.mark))c.dom!=l.dom&&c.setDOM(D0(l.dom)),i=c;else{if(this.cache.reused.get(l)){let f=ct.get(l.dom);f&&f.setDOM(D0(l.dom))}let u=dn.of(l.mark,l.dom);i.append(u),i=u}this.cache.reused.set(l,2)}let a=ct.get(e.text);a&&this.cache.reused.set(a,2);let o=new eo(e.text,e.text.nodeValue);o.flags|=8,i.append(o)}addInlineWidget(e,n,r){let i=this.afterWidget&&e.flags&48&&(this.afterWidget.flags&48)==(e.flags&48);i||this.flushBuffer();let a=this.ensureMarks(n,r);!i&&!(e.flags&16)&&a.append(this.getBuffer(1)),a.append(e),this.pos+=e.length,this.afterWidget=e}addMark(e,n,r){this.flushBuffer(),this.ensureMarks(n,r).append(e),this.pos+=e.length,this.afterWidget=null}addBlockWidget(e){this.getBlockPos().append(e),this.pos+=e.length,this.lastBlock=e,this.endLine()}continueWidget(e){let n=this.afterWidget||this.lastBlock;n.length+=e,this.pos+=e}addLineStart(e,n){var r;e||(e=CQ);let i=ll.start(e,n||((r=this.cache.find(ll))===null||r===void 0?void 0:r.dom),!!n);this.getBlockPos().append(this.lastBlock=this.curLine=i)}addLine(e){this.getBlockPos().append(e),this.pos+=e.length,this.lastBlock=e,this.endLine()}addBreak(){this.lastBlock.flags|=1,this.endLine(),this.pos++}addLineStartIfNotCovered(e){this.blockPosCovered()||this.addLineStart(e)}ensureLine(e){this.curLine||this.addLineStart(e)}ensureMarks(e,n){var r;let i=this.curLine;for(let a=e.length-1;a>=0;a--){let o=e[a],s;if(n>0&&(s=i.lastChild)&&s instanceof dn&&s.mark.eq(o))i=s,n--;else{let l=dn.of(o,(r=this.cache.find(dn,c=>c.mark.eq(o)))===null||r===void 0?void 0:r.dom);i.append(l),i=l,n=0}}return i}endLine(){if(this.curLine){this.flushBuffer();let e=this.curLine.lastChild;(!e||!Vk(this.curLine,!1)||e.dom.nodeName!="BR"&&e.isWidget()&&!(J.ios&&Vk(this.curLine,!0)))&&this.curLine.append(this.cache.findWidget(N0,0,32)||new _o(N0.toDOM(),0,N0,32)),this.curLine=this.afterWidget=null}}updateBlockWrappers(){this.wrapperPos>this.pos+1e4&&(this.blockWrappers.goto(this.pos),this.wrappers.length=0);for(let e=this.wrappers.length-1;e>=0;e--)this.wrappers[e].to<this.pos&&this.wrappers.splice(e,1);for(let e=this.blockWrappers;e.value&&e.from<=this.pos;e.next())if(e.to>=this.pos){let n=new Xce(e.from,e.to,e.value,e.rank),r=this.wrappers.length;for(;r>0&&(this.wrappers[r-1].rank-n.rank||this.wrappers[r-1].to-n.to)<0;)r--;this.wrappers.splice(r,0,n)}this.wrapperPos=this.pos}getBlockPos(){var e;this.updateBlockWrappers();let n=this.root;for(let r of this.wrappers){let i=n.lastChild;if(r.from<this.pos&&i instanceof fa&&i.wrapper.eq(r.wrapper))n=i;else{let a=fa.of(r.wrapper,(e=this.cache.find(fa,o=>o.wrapper.eq(r.wrapper)))===null||e===void 0?void 0:e.dom);n.append(a),n=a}}return n}blockPosCovered(){let e=this.lastBlock;return e!=null&&!e.breakAfter&&(!e.isWidget()||(e.flags&160)>0)}getBuffer(e){let n=2|(e<0?16:32),r=this.cache.find(Lp,void 0,1);return r&&(r.flags=n),r||new Lp(n)}flushBuffer(){this.afterWidget&&!(this.afterWidget.flags&32)&&(this.afterWidget.parent.append(this.getBuffer(-1)),this.afterWidget=null)}}class Vce{constructor(e){this.skipCount=0,this.text="",this.textOff=0,this.cursor=e.iter()}skip(e){this.textOff+e<=this.text.length?this.textOff+=e:(this.skipCount+=e-(this.text.length-this.textOff),this.text="",this.textOff=0)}next(e){if(this.textOff==this.text.length){let{value:i,lineBreak:a,done:o}=this.cursor.next(this.skipCount);if(this.skipCount=0,o)throw new Error("Ran out of text content when drawing inline views");this.text=i;let s=this.textOff=Math.min(e,i.length);return a?null:i.slice(0,s)}let n=Math.min(this.text.length,this.textOff+e),r=this.text.slice(this.textOff,n);return this.textOff=n,r}}const Bp=[_o,ll,eo,dn,Lp,fa,yg];for(let t=0;t<Bp.length;t++)Bp[t].bucket=t;class Uce{constructor(e){this.view=e,this.buckets=Bp.map(()=>[]),this.index=Bp.map(()=>0),this.reused=new Map}add(e){let n=e.constructor.bucket,r=this.buckets[n];r.length<6?r.push(e):r[this.index[n]=(this.index[n]+1)%6]=e}find(e,n,r=2){let i=e.bucket,a=this.buckets[i],o=this.index[i];for(let s=a.length-1;s>=0;s--){let l=(s+o)%a.length,c=a[l];if((!n||n(c))&&!this.reused.has(c))return a.splice(l,1),l<o&&this.index[i]--,this.reused.set(c,r),c}return null}findWidget(e,n,r){let i=this.buckets[0];if(i.length)for(let a=0,o=0;;a++){if(a==i.length){if(o)return null;o=1,a=0}let s=i[a];if(!this.reused.has(s)&&(o==0?s.widget.compare(e):s.widget.constructor==e.constructor&&e.updateDOM(s.dom,this.view)))return i.splice(a,1),a<this.index[0]&&this.index[0]--,s.widget==e&&s.length==n&&(s.flags&497)==r?(this.reused.set(s,1),s):(this.reused.set(s,2),new _o(s.dom,n,e,s.flags&-498|r))}}reuse(e){return this.reused.set(e,1),e}maybeReuse(e,n=2){if(!this.reused.has(e))return this.reused.set(e,n),e.dom}clear(){for(let e=0;e<this.buckets.length;e++)this.buckets[e].length=this.index[e]=0}}class qce{constructor(e,n,r,i,a){this.view=e,this.decorations=i,this.disallowBlockEffectsFor=a,this.openWidget=!1,this.openMarks=0,this.cache=new Uce(e),this.text=new Vce(e.state.doc),this.builder=new Fce(this.cache,new yg(e,e.contentDOM),de.iter(r)),this.cache.reused.set(n,2),this.old=new Wce(n),this.reuseWalker={skip:(o,s,l)=>{if(this.cache.add(o),o.isComposite())return!1},enter:o=>this.cache.add(o),leave:()=>{},break:()=>{}}}run(e,n){let r=n&&this.getCompositionContext(n.text);for(let i=0,a=0,o=0;;){let s=o<e.length?e[o++]:null,l=s?s.fromA:this.old.root.length;if(l>i){let c=l-i;this.preserve(c,!o,!s),i=l,a+=c}if(!s)break;n&&s.fromA<=n.range.fromA&&s.toA>=n.range.toA?(this.forward(s.fromA,n.range.fromA,n.range.fromA<n.range.toA?1:-1),this.emit(a,n.range.fromB),this.cache.clear(),this.builder.addComposition(n,r),this.text.skip(n.range.toB-n.range.fromB),this.forward(n.range.fromA,s.toA),this.emit(n.range.toB,s.toB)):(this.forward(s.fromA,s.toA),this.emit(a,s.toB)),a=s.toB,i=s.toA}return this.builder.curLine&&this.builder.endLine(),this.builder.root}preserve(e,n,r){let i=Hce(this.old),a=this.openMarks;this.old.advance(e,r?1:-1,{skip:(o,s,l)=>{if(o.isWidget())if(this.openWidget)this.builder.continueWidget(l-s);else{let c=l>0||s<o.length?_o.of(o.widget,this.view,l-s,o.flags&496,this.cache.maybeReuse(o)):this.cache.reuse(o);c.flags&256?(c.flags&=-2,this.builder.addBlockWidget(c)):(this.builder.ensureLine(null),this.builder.addInlineWidget(c,i,a),a=i.length)}else if(o.isText())this.builder.ensureLine(null),!s&&l==o.length?this.builder.addText(o.text,i,a,this.cache.reuse(o)):(this.cache.add(o),this.builder.addText(o.text.slice(s,l),i,a)),a=i.length;else if(o.isLine())o.flags&=-2,this.cache.reused.set(o,1),this.builder.addLine(o);else if(o instanceof Lp)this.cache.add(o);else if(o instanceof dn)this.builder.ensureLine(null),this.builder.addMark(o,i,a),this.cache.reused.set(o,1),a=i.length;else return!1;this.openWidget=!1},enter:o=>{o.isLine()?this.builder.addLineStart(o.attrs,this.cache.maybeReuse(o)):(this.cache.add(o),o instanceof dn&&i.unshift(o.mark)),this.openWidget=!1},leave:o=>{o.isLine()?i.length&&(i.length=a=0):o instanceof dn&&(i.shift(),a=Math.min(a,i.length))},break:()=>{this.builder.addBreak(),this.openWidget=!1}}),this.text.skip(e)}emit(e,n){let r=null,i=this.builder,a=0,o=de.spans(this.decorations,e,n,{point:(s,l,c,u,f,h)=>{if(c instanceof wo){if(this.disallowBlockEffectsFor[h]){if(c.block)throw new RangeError("Block decorations may not be specified via plugins");if(l>this.view.state.doc.lineAt(s).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}if(a=u.length,f>u.length)i.continueWidget(l-s);else{let d=c.widget||(c.block?cl.block:cl.inline),p=Yce(c),m=this.cache.findWidget(d,l-s,p)||_o.of(d,this.view,l-s,p);c.block?(c.startSide>0&&i.addLineStartIfNotCovered(r),i.addBlockWidget(m)):(i.ensureLine(r),i.addInlineWidget(m,u,f))}r=null}else r=Gce(r,c);l>s&&this.text.skip(l-s)},span:(s,l,c,u)=>{for(let f=s;f<l;){let h=this.text.next(Math.min(512,l-f));h==null?(i.addLineStartIfNotCovered(r),i.addBreak(),f++):(i.ensureLine(r),i.addText(h,c,f==s?u:c.length),f+=h.length),r=null}}});i.addLineStartIfNotCovered(r),this.openWidget=o>a,this.openMarks=o}forward(e,n,r=1){n-e<=10?this.old.advance(n-e,r,this.reuseWalker):(this.old.advance(5,-1,this.reuseWalker),this.old.advance(n-e-10,-1),this.old.advance(5,r,this.reuseWalker))}getCompositionContext(e){let n=[],r=null;for(let i=e.parentNode;;i=i.parentNode){let a=ct.get(i);if(i==this.view.contentDOM)break;a instanceof dn?n.push(a):a!=null&&a.isLine()?r=a:i.nodeName=="DIV"&&!r&&i!=this.view.contentDOM?r=new ll(i,CQ):n.push(dn.of(new xf({tagName:i.nodeName.toLowerCase(),attributes:wce(i)}),i))}return{line:r,marks:n}}}function Vk(t,e){let n=r=>{for(let i of r.children)if((e?i.isText():i.length)||n(i))return!0;return!1};return n(t)}function Yce(t){let e=t.isReplace?(t.startSide<0?64:0)|(t.endSide>0?128:0):t.startSide>0?32:16;return t.block&&(e|=256),e}const CQ={class:"cm-line"};function Gce(t,e){let n=e.spec.attributes,r=e.spec.class;return!n&&!r||(t||(t={class:"cm-line"}),n&&Lx(n,t),r&&(t.class+=" "+r)),t}function Hce(t){let e=[];for(let n=t.parents.length;n>1;n--){let r=n==t.parents.length?t.tile:t.parents[n].tile;r instanceof dn&&e.push(r.mark)}return e}function D0(t){let e=ct.get(t);return e&&e.setDOM(t.cloneNode()),t}class cl extends si{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}cl.inline=new cl("span");cl.block=new cl("div");const N0=new class extends si{toDOM(){return document.createElement("br")}get isHidden(){return!0}get editable(){return!0}};class Uk{constructor(e){this.view=e,this.decorations=[],this.blockWrappers=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.editContextFormatting=re.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.updateDeco(),this.tile=new yg(e,e.contentDOM),this.updateInner([new er(0,0,0,e.state.doc.length)],null)}update(e){var n;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:u,toA:f})=>f<this.minWidthFrom||u>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((n=this.domChanged)===null||n===void 0)&&n.newSel?i=this.domChanged.newSel.head:!oue(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let a=i>-1?Jce(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){let{from:u,to:f}=this.hasComposition;r=new er(u,f,e.changes.mapPos(u,-1),e.changes.mapPos(f,1)).addToSet(r.slice())}this.hasComposition=a?{from:a.range.fromB,to:a.range.toB}:null,(J.ie||J.chrome)&&!a&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=this.decorations,s=this.blockWrappers;this.updateDeco();let l=nue(o,this.decorations,e.changes);l.length&&(r=er.extendWithRanges(r,l));let c=iue(s,this.blockWrappers,e.changes);return c.length&&(r=er.extendWithRanges(r,c)),a&&!r.some(u=>u.fromA<=a.range.fromA&&u.toA>=a.range.toA)&&(r=a.range.addToSet(r.slice())),this.tile.flags&2&&r.length==0?!1:(this.updateInner(r,a),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n){this.view.viewState.mustMeasureContent=!0;let{observer:r}=this.view;r.ignore(()=>{if(n||e.length){let o=this.tile,s=new qce(this.view,o,this.blockWrappers,this.decorations,this.dynamicDecorationMap);this.tile=s.run(e,n),ab(o,s.cache.reused)}this.tile.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.tile.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let a=J.chrome||J.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.tile.sync(a),a&&(a.written||r.selectionRange.focusNode!=a.node||!this.tile.dom.contains(a.node))&&(this.forceSelection=!0),this.tile.dom.style.height=""});let i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let a of this.tile.children)a.isWidget()&&a.widget instanceof L0&&i.push(a.dom);r.updateGaps(i)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let n of e.transactions)for(let r of n.effects)r.is(_Q)&&(this.editContextFormatting=r.value)}updateSelection(e=!1,n=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let{dom:r}=this.tile,i=this.view.root.activeElement,a=i==r,o=!a&&!(this.view.state.facet(hi)||r.tabIndex>-1)&&Nc(r,this.view.observer.selectionRange)&&!(i&&r.contains(i));if(!(a||n||o))return;let s=this.forceSelection;this.forceSelection=!1;let l=this.view.state.selection.main,c,u;if(l.empty?u=c=this.inlineDOMNearPos(l.anchor,l.assoc||1):(u=this.inlineDOMNearPos(l.head,l.head==l.from?1:-1),c=this.inlineDOMNearPos(l.anchor,l.anchor==l.from?1:-1)),J.gecko&&l.empty&&!this.hasComposition&&Kce(c)){let h=document.createTextNode("");this.view.observer.ignore(()=>c.node.insertBefore(h,c.node.childNodes[c.offset]||null)),c=u=new Sr(h,0),s=!0}let f=this.view.observer.selectionRange;(s||!f.focusNode||(!Lc(c.node,c.offset,f.anchorNode,f.anchorOffset)||!Lc(u.node,u.offset,f.focusNode,f.focusOffset))&&!this.suppressWidgetCursorChange(f,l))&&(this.view.observer.ignore(()=>{J.android&&J.chrome&&r.contains(f.focusNode)&&aue(f.focusNode,r)&&(r.blur(),r.focus({preventScroll:!0}));let h=qu(this.view.root);if(h)if(l.empty){if(J.gecko){let d=eue(c.node,c.offset);if(d&&d!=3){let p=(d==1?lQ:cQ)(c.node,c.offset);p&&(c=new Sr(p.node,p.offset))}}h.collapse(c.node,c.offset),l.bidiLevel!=null&&h.caretBidiLevel!==void 0&&(h.caretBidiLevel=l.bidiLevel)}else if(h.extend){h.collapse(c.node,c.offset);try{h.extend(u.node,u.offset)}catch{}}else{let d=document.createRange();l.anchor>l.head&&([c,u]=[u,c]),d.setEnd(u.node,u.offset),d.setStart(c.node,c.offset),h.removeAllRanges(),h.addRange(d)}o&&this.view.root.activeElement==r&&(r.blur(),i&&i.focus())}),this.view.observer.setSelectionRange(c,u)),this.impreciseAnchor=c.precise?null:new Sr(f.anchorNode,f.anchorOffset),this.impreciseHead=u.precise?null:new Sr(f.focusNode,f.focusOffset)}suppressWidgetCursorChange(e,n){return this.hasComposition&&n.empty&&Lc(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==n.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,n=e.state.selection.main,r=qu(e.root),{anchorNode:i,anchorOffset:a}=e.observer.selectionRange;if(!r||!n.empty||!n.assoc||!r.modify)return;let o=this.lineAt(n.head,n.assoc);if(!o)return;let s=o.posAtStart;if(n.head==s||n.head==s+o.length)return;let l=this.coordsAt(n.head,-1),c=this.coordsAt(n.head,1);if(!l||!c||l.bottom>c.top)return;let u=this.domAtPos(n.head+n.assoc,n.assoc);r.collapse(u.node,u.offset),r.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let f=e.observer.selectionRange;e.docView.posFromDOM(f.anchorNode,f.anchorOffset)!=n.from&&r.collapse(i,a)}posFromDOM(e,n){let r=this.tile.nearest(e);if(!r)return this.tile.dom.compareDocumentPosition(e)&2?0:this.view.state.doc.length;let i=r.posAtStart;if(r.isComposite()){let a;if(e==r.dom)a=r.dom.childNodes[n];else{let o=Ei(e)==0?0:n==0?-1:1;for(;;){let s=e.parentNode;if(s==r.dom)break;o==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?o=-1:o=1),e=s}o<0?a=e:a=e.nextSibling}if(a==r.dom.firstChild)return i;for(;a&&!ct.get(a);)a=a.nextSibling;if(!a)return i+r.length;for(let o=0,s=i;;o++){let l=r.children[o];if(l.dom==a)return s;s+=l.length+l.breakAfter}}else return r.isText()?e==r.dom?i+n:i+(n?r.length:0):i}domAtPos(e,n){let{tile:r,offset:i}=this.tile.resolveBlock(e,n);return r.isWidget()?r.domPosFor(e,n):r.domIn(i,n)}inlineDOMNearPos(e,n){let r,i=-1,a=!1,o,s=-1,l=!1;return this.tile.blockTiles((c,u)=>{if(c.isWidget()){if(c.flags&32&&u>=e)return!0;c.flags&16&&(a=!0)}else{let f=u+c.length;if(u<=e&&(r=c,i=e-u,a=f<e),f>=e&&!o&&(o=c,s=e-u,l=u>e),u>e&&o)return!0}}),!r&&!o?this.domAtPos(e,n):(a&&o?r=null:l&&r&&(o=null),r&&n<0||!o?r.domIn(i,n):o.domIn(s,n))}coordsAt(e,n){let{tile:r,offset:i}=this.tile.resolveBlock(e,n);return r.isWidget()?r.widget instanceof L0?null:r.coordsInWidget(i,n,!0):r.coordsIn(i,n)}lineAt(e,n){let{tile:r}=this.tile.resolveBlock(e,n);return r.isLine()?r:null}coordsForChar(e){let{tile:n,offset:r}=this.tile.resolveBlock(e,1);if(!n.isLine())return null;function i(a,o){if(a.isComposite())for(let s of a.children){if(s.length>=o){let l=i(s,o);if(l)return l}if(o-=s.length,o<0)break}else if(a.isText()&&o<a.length){let s=Pt(a.text,o);if(s==o)return null;let l=Yu(a.dom,o,s).getClientRects();for(let c=0;c<l.length;c++){let u=l[c];if(c==l.length-1||u.top<u.bottom&&u.left<u.right)return u}}return null}return i(n,r)}measureVisibleLineHeights(e){let n=[],{from:r,to:i}=e,a=this.view.contentDOM.clientWidth,o=a>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,s=-1,l=this.view.textDirection==Te.LTR,c=0,u=(f,h,d)=>{for(let p=0;p<f.children.length&&!(h>i);p++){let m=f.children[p],v=h+m.length,g=m.dom.getBoundingClientRect(),{height:y}=g;if(d&&!p&&(c+=g.top-d.top),m instanceof fa)v>r&&u(m,h,g);else if(h>=r&&(c>0&&n.push(-c),n.push(y+c),c=0,o)){let x=m.dom.lastChild,_=x?Kh(x):[];if(_.length){let O=_[_.length-1],w=l?O.right-g.left:g.right-O.left;w>s&&(s=w,this.minWidth=a,this.minWidthFrom=h,this.minWidthTo=v)}}d&&p==f.children.length-1&&(c+=d.bottom-g.bottom),h=v+m.breakAfter}};return u(this.tile,0,null),n}textDirectionAt(e){let{tile:n}=this.tile.resolveBlock(e,1);return getComputedStyle(n.dom).direction=="rtl"?Te.RTL:Te.LTR}measureTextSize(){let e=this.tile.blockTiles(o=>{if(o.isLine()&&o.children.length&&o.length<=20){let s=0,l;for(let c of o.children){if(!c.isText()||/[^ -~]/.test(c.text))return;let u=Kh(c.dom);if(u.length!=1)return;s+=u[0].width,l=u[0].height}if(s)return{lineHeight:o.dom.getBoundingClientRect().height,charWidth:s/o.length,textHeight:l}}});if(e)return e;let n=document.createElement("div"),r,i,a;return n.className="cm-line",n.style.width="99999px",n.style.position="absolute",n.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.tile.dom.appendChild(n);let o=Kh(n.firstChild)[0];r=n.getBoundingClientRect().height,i=o&&o.width?o.width/27:7,a=o&&o.height?o.height:r,n.remove()}),{lineHeight:r,charWidth:i,textHeight:a}}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let r=0,i=0;;i++){let a=i==n.viewports.length?null:n.viewports[i],o=a?a.from-1:this.view.state.doc.length;if(o>r){let s=(n.lineBlockAt(o).bottom-n.lineBlockAt(r).top)/this.view.scaleY;e.push(re.replace({widget:new L0(s),block:!0,inclusive:!0,isBlockGap:!0}).range(r,o))}if(!a)break;r=a.to+1}return re.set(e)}updateDeco(){let e=1,n=this.view.state.facet(gg).map(a=>(this.dynamicDecorationMap[e++]=typeof a=="function")?a(this.view):a),r=!1,i=this.view.state.facet(Vx).map((a,o)=>{let s=typeof a=="function";return s&&(r=!0),s?a(this.view):a});for(i.length&&(this.dynamicDecorationMap[e++]=r,n.push(de.join(i))),this.decorations=[this.editContextFormatting,...n,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;this.blockWrappers=this.view.state.facet(kQ).map(a=>typeof a=="function"?a(this.view):a)}scrollIntoView(e){if(e.isSnapshot){let c=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=c.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let c of this.view.state.facet(SQ))try{if(c(this.view,e.range,e))return!0}catch(u){gn(this.view.state,u,"scroll handler")}let{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),i;if(!r)return;!n.empty&&(i=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let a=Ux(this.view),o={left:r.left-a.left,top:r.top-a.top,right:r.right+a.right,bottom:r.bottom+a.bottom},{offsetWidth:s,offsetHeight:l}=this.view.scrollDOM;$ce(this.view.scrollDOM,o,n.head<n.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,s),-s),Math.max(Math.min(e.yMargin,l),-l),this.view.textDirection==Te.LTR)}lineHasWidget(e){let n=r=>r.isWidget()||r.children.some(n);return n(this.tile.resolveBlock(e,1).tile)}destroy(){ab(this.tile)}}function ab(t,e){let n=e==null?void 0:e.get(t);if(n!=1){n==null&&t.destroy();for(let r of t.children)ab(r,e)}}function Kce(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}function EQ(t,e){let n=t.observer.selectionRange;if(!n.focusNode)return null;let r=lQ(n.focusNode,n.focusOffset),i=cQ(n.focusNode,n.focusOffset),a=r||i;if(i&&r&&i.node!=r.node){let s=ct.get(i.node);if(!s||s.isText()&&s.text!=i.node.nodeValue)a=i;else if(t.docView.lastCompositionAfterCursor){let l=ct.get(r.node);!l||l.isText()&&l.text!=r.node.nodeValue||(a=i)}}if(t.docView.lastCompositionAfterCursor=a!=r,!a)return null;let o=e-a.offset;return{from:o,to:o+a.node.nodeValue.length,node:a.node}}function Jce(t,e,n){let r=EQ(t,n);if(!r)return null;let{node:i,from:a,to:o}=r,s=i.nodeValue;if(/[\n\r]/.test(s)||t.state.doc.sliceString(r.from,r.to)!=s)return null;let l=e.invertedDesc;return{range:new er(l.mapPos(a),l.mapPos(o),a,o),text:i}}function eue(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}let tue=class{constructor(){this.changes=[]}compareRange(e,n){ws(e,n,this.changes)}comparePoint(e,n){ws(e,n,this.changes)}boundChange(e){ws(e,e,this.changes)}};function nue(t,e,n){let r=new tue;return de.compare(t,e,n,r),r.changes}class rue{constructor(){this.changes=[]}compareRange(e,n){ws(e,n,this.changes)}comparePoint(){}boundChange(e){ws(e,e,this.changes)}}function iue(t,e,n){let r=new rue;return de.compare(t,e,n,r),r.changes}function aue(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function oue(t,e){let n=!1;return e&&t.iterChangedRanges((r,i)=>{r<e.to&&i>e.from&&(n=!0)}),n}class L0 extends si{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}function sue(t,e,n=1){let r=t.charCategorizer(e),i=t.doc.lineAt(e),a=e-i.from;if(i.length==0)return W.cursor(e);a==0?n=1:a==i.length&&(n=-1);let o=a,s=a;n<0?o=Pt(i.text,a,!1):s=Pt(i.text,a);let l=r(i.text.slice(o,s));for(;o>0;){let c=Pt(i.text,o,!1);if(r(i.text.slice(c,o))!=l)break;o=c}for(;s<i.length;){let c=Pt(i.text,s);if(r(i.text.slice(s,c))!=l)break;s=c}return W.range(o+i.from,s+i.from)}function lue(t,e,n,r,i){let a=Math.round((r-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>t.defaultLineHeight*1.5){let s=t.viewState.heightOracle.textHeight,l=Math.floor((i-n.top-(t.defaultLineHeight-s)*.5)/s);a+=l*t.viewState.heightOracle.lineLength}let o=t.state.sliceDoc(n.from,n.to);return n.from+UO(o,a,t.state.tabSize)}function ob(t,e,n){let r=t.lineBlockAt(e);if(Array.isArray(r.type)){let i;for(let a of r.type){if(a.from>e)break;if(!(a.to<e)){if(a.from<e&&a.to>e)return a;(!i||a.type==Lt.Text&&(i.type!=a.type||(n<0?a.from<e:a.to>e)))&&(i=a)}}return i||r}return r}function cue(t,e,n,r){let i=ob(t,e.head,e.assoc||-1),a=!r||i.type!=Lt.Text||!(t.lineWrapping||i.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(a){let o=t.dom.getBoundingClientRect(),s=t.textDirectionAt(i.from),l=t.posAtCoords({x:n==(s==Te.LTR)?o.right-1:o.left+1,y:(a.top+a.bottom)/2});if(l!=null)return W.cursor(l,n?-1:1)}return W.cursor(n?i.to:i.from,n?-1:1)}function qk(t,e,n,r){let i=t.state.doc.lineAt(e.head),a=t.bidiSpans(i),o=t.textDirectionAt(i.from);for(let s=e,l=null;;){let c=Rce(i,a,o,s,n),u=pQ;if(!c){if(i.number==(n?t.state.doc.lines:1))return s;u=`
`,i=t.state.doc.line(i.number+(n?1:-1)),a=t.bidiSpans(i),c=t.visualLineSide(i,!n)}if(l){if(!l(u))return s}else{if(!r)return c;l=r(u)}s=c}}function uue(t,e,n){let r=t.state.charCategorizer(e),i=r(n);return a=>{let o=r(a);return i==We.Space&&(i=o),i==o}}function fue(t,e,n,r){let i=e.head,a=n?1:-1;if(i==(n?t.state.doc.length:0))return W.cursor(i,e.assoc);let o=e.goalColumn,s,l=t.contentDOM.getBoundingClientRect(),c=t.coordsAtPos(i,(e.empty?e.assoc:0)||(n?1:-1)),u=t.documentTop;if(c)o==null&&(o=c.left-l.left),s=a<0?c.top:c.bottom;else{let p=t.viewState.lineBlockAt(i);o==null&&(o=Math.min(l.right-l.left,t.defaultCharacterWidth*(i-p.from))),s=(a<0?p.top:p.bottom)+u}let f=l.left+o,h=r??t.viewState.heightOracle.textHeight>>1,d=sb(t,{x:f,y:s+h*a},!1,a);return W.cursor(d.pos,d.assoc,void 0,o)}function Bc(t,e,n){for(;;){let r=0;for(let i of t)i.between(e-1,e+1,(a,o,s)=>{if(e>a&&e<o){let l=r||n||(e-a<o-e?-1:1);e=l<0?a:o,r=l}});if(!r)return e}}function TQ(t,e){let n=null;for(let r=0;r<e.ranges.length;r++){let i=e.ranges[r],a=null;if(i.empty){let o=Bc(t,i.from,0);o!=i.from&&(a=W.cursor(o,-1))}else{let o=Bc(t,i.from,-1),s=Bc(t,i.to,1);(o!=i.from||s!=i.to)&&(a=W.range(i.from==i.anchor?o:s,i.from==i.head?o:s))}a&&(n||(n=e.ranges.slice()),n[r]=a)}return n?W.create(n,e.mainIndex):e}function B0(t,e,n){let r=Bc(t.state.facet(Sf).map(i=>i(t)),n.from,e.head>n.from?-1:1);return r==n.from?n:W.cursor(r,r<n.from?1:-1)}class Fr{constructor(e,n){this.pos=e,this.assoc=n}}function sb(t,e,n,r){let i=t.contentDOM.getBoundingClientRect(),a=i.top+t.viewState.paddingTop,{x:o,y:s}=e,l=s-a,c;for(;;){if(l<0)return new Fr(0,1);if(l>t.viewState.docHeight)return new Fr(t.state.doc.length,-1);if(c=t.elementAtHeight(l),r==null)break;if(c.type==Lt.Text){if(r<0?c.to<t.viewport.from:c.from>t.viewport.to)break;let h=t.docView.coordsAt(r<0?c.from:c.to,r>0?-1:1);if(h&&(r<0?h.top<=l+a:h.bottom>=l+a))break}let f=t.viewState.heightOracle.textHeight/2;l=r>0?c.bottom+f:c.top-f}if(t.viewport.from>=c.to||t.viewport.to<=c.from){if(n)return null;if(c.type==Lt.Text){let f=lue(t,i,c,o,s);return new Fr(f,f==c.from?1:-1)}}if(c.type!=Lt.Text)return l<(c.top+c.bottom)/2?new Fr(c.from,1):new Fr(c.to,-1);let u=t.docView.lineAt(c.from,2);return(!u||u.length!=c.length)&&(u=t.docView.lineAt(c.from,-2)),new hue(t,o,s,t.textDirectionAt(c.from)).scanTile(u,c.from)}class hue{constructor(e,n,r,i){this.view=e,this.x=n,this.y=r,this.baseDir=i,this.line=null,this.spans=null}bidiSpansAt(e){return(!this.line||this.line.from>e||this.line.to<e)&&(this.line=this.view.state.doc.lineAt(e),this.spans=this.view.bidiSpans(this.line)),this}baseDirAt(e,n){let{line:r,spans:i}=this.bidiSpansAt(e);return i[qr.find(i,e-r.from,-1,n)].level==this.baseDir}dirAt(e,n){let{line:r,spans:i}=this.bidiSpansAt(e);return i[qr.find(i,e-r.from,-1,n)].dir}bidiIn(e,n){let{spans:r,line:i}=this.bidiSpansAt(e);return r.length>1||r.length&&(r[0].level!=this.baseDir||r[0].to+i.from<n)}scan(e,n){let r=0,i=e.length-1,a=new Set,o=this.bidiIn(e[0],e[i]),s,l,c=-1,u=1e9,f;e:for(;r<i;){let d=i-r,p=r+i>>1;t:if(a.has(p)){let v=r+Math.floor(Math.random()*d);for(let g=0;g<d;g++){if(!a.has(v)){p=v;break t}v++,v==i&&(v=r)}break e}a.add(p);let m=n(p);if(m)for(let v=0;v<m.length;v++){let g=m[v],y=0;if(g.bottom<this.y)(!s||s.bottom<g.bottom)&&(s=g),y=1;else if(g.top>this.y)(!l||l.top>g.top)&&(l=g),y=-1;else{let x=g.left>this.x?this.x-g.left:g.right<this.x?this.x-g.right:0,_=Math.abs(x);_<u&&(c=p,u=_,f=g),x&&(y=x<0==(this.baseDir==Te.LTR)?-1:1)}y==-1&&(!o||this.baseDirAt(e[p],1))?i=p:y==1&&(!o||this.baseDirAt(e[p+1],-1))&&(r=p+1)}}if(!f){let d=s&&(!l||this.y-s.bottom<l.top-this.y)?s:l;return this.y=(d.top+d.bottom)/2,this.scan(e,n)}let h=(o?this.dirAt(e[c],1):this.baseDir)==Te.LTR;return{i:c,after:this.x>(f.left+f.right)/2==h}}scanText(e,n){let r=[];for(let a=0;a<e.length;a=Pt(e.text,a))r.push(n+a);r.push(n+e.length);let i=this.scan(r,a=>{let o=r[a]-n,s=r[a+1]-n;return Yu(e.dom,o,s).getClientRects()});return i.after?new Fr(r[i.i+1],-1):new Fr(r[i.i],1)}scanTile(e,n){if(!e.length)return new Fr(n,1);if(e.children.length==1){let s=e.children[0];if(s.isText())return this.scanText(s,n);if(s.isComposite())return this.scanTile(s,n)}let r=[n];for(let s=0,l=n;s<e.children.length;s++)r.push(l+=e.children[s].length);let i=this.scan(r,s=>{let l=e.children[s];return l.flags&48?null:(l.dom.nodeType==1?l.dom:Yu(l.dom,0,l.length)).getClientRects()}),a=e.children[i.i],o=r[i.i];return a.isText()?this.scanText(a,o):a.isComposite()?this.scanTile(a,o):i.after?new Fr(r[i.i+1],-1):new Fr(o,1)}}const vc="";class due{constructor(e,n){this.points=e,this.view=n,this.text="",this.lineSeparator=n.state.facet(ye.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=vc}readRange(e,n){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i);let a=this.text.length;this.readNode(i);let o=ct.get(i),s=i.nextSibling;if(s==n){o!=null&&o.breakAfter&&!s&&r!=this.view.contentDOM&&this.lineBreak();break}let l=ct.get(s);(o&&l?o.breakAfter:(o?o.breakAfter:Rp(i))||Rp(s)&&(i.nodeName!="BR"||o!=null&&o.isWidget())&&this.text.length>a)&&!mue(s,n)&&this.lineBreak(),i=s}return this.findPointBefore(r,n),this}readTextNode(e){let n=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,n.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let a=-1,o=1,s;if(this.lineSeparator?(a=n.indexOf(this.lineSeparator,r),o=this.lineSeparator.length):(s=i.exec(n))&&(a=s.index,o=s[0].length),this.append(n.slice(r,a<0?n.length:a)),a<0)break;if(this.lineBreak(),o>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=o-1);r=a+o}}readNode(e){let n=ct.get(e),r=n&&n.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==n&&(r.pos=this.text.length)}findPointInside(e,n){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(pue(e,r.node,r.offset)?n:0))}}function pue(t,e,n){for(;;){if(!e||n<Ei(e))return!1;if(e==t)return!0;n=ya(e)+1,e=e.parentNode}}function mue(t,e){let n;for(;!(t==e||!t);t=t.nextSibling){let r=ct.get(t);if(!(r!=null&&r.isWidget()))return!1;r&&(n||(n=[])).push(r)}if(n)for(let r of n){let i=r.overrideDOMText;if(i!=null&&i.length)return!1}return!0}class Yk{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}}class gue{constructor(e,n,r,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=n>-1;let{impreciseHead:a,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=MQ(e.docView.tile,n,r,0))){let s=a||o?[]:yue(e),l=new due(s,e);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=Oue(s,this.bounds.from)}else{let s=e.observer.selectionRange,l=a&&a.node==s.focusNode&&a.offset==s.focusOffset||!eb(e.contentDOM,s.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(s.focusNode,s.focusOffset),c=o&&o.node==s.anchorNode&&o.offset==s.anchorOffset||!eb(e.contentDOM,s.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(s.anchorNode,s.anchorOffset),u=e.viewport;if((J.ios||J.chrome)&&e.state.selection.main.empty&&l!=c&&(u.from>0||u.to<e.state.doc.length)){let f=Math.min(l,c),h=Math.max(l,c),d=u.from-f,p=u.to-h;(d==0||d==1||f==0)&&(p==0||p==-1||h==e.state.doc.length)&&(l=0,c=e.state.doc.length)}e.inputState.composing>-1&&e.state.selection.ranges.length>1?this.newSel=e.state.selection.replaceRange(W.range(c,l)):this.newSel=W.single(c,l)}}}function MQ(t,e,n,r){if(t.isComposite()){let i=-1,a=-1,o=-1,s=-1;for(let l=0,c=r,u=r;l<t.children.length;l++){let f=t.children[l],h=c+f.length;if(c<e&&h>n)return MQ(f,e,n,c);if(h>=e&&i==-1&&(i=l,a=c),c>n&&f.dom.parentNode==t.dom){o=l,s=u;break}u=h,c=h+f.breakAfter}return{from:a,to:s<0?r+t.length:s,startDOM:(i?t.children[i-1].dom.nextSibling:null)||t.dom.firstChild,endDOM:o<t.children.length&&o>=0?t.children[o].dom:null}}else return t.isText()?{from:r,to:r+t.length,startDOM:t.dom,endDOM:t.dom.nextSibling}:null}function jQ(t,e){let n,{newSel:r}=e,i=t.state.selection.main,a=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:s}=e.bounds,l=i.from,c=null;(a===8||J.android&&e.text.length<s-o)&&(l=i.to,c="end");let u=QQ(t.state.doc.sliceString(o,s,vc),e.text,l-o,c);u&&(J.chrome&&a==13&&u.toB==u.from+2&&e.text.slice(u.from,u.toB)==vc+vc&&u.toB--,n={from:o+u.from,to:o+u.toA,insert:Oe.of(e.text.slice(u.from,u.toB).split(vc))})}else r&&(!t.hasFocus&&t.state.facet(hi)||Zp(r,i))&&(r=null);if(!n&&!r)return!1;if(!n&&e.typeOver&&!i.empty&&r&&r.main.empty?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,i.to)}:(J.mac||J.android)&&n&&n.from==n.to&&n.from==i.head-1&&/^\. ?$/.test(n.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(r&&n.insert.length==2&&(r=W.single(r.main.anchor-1,r.main.head-1)),n={from:n.from,to:n.to,insert:Oe.of([n.insert.toString().replace("."," ")])}):n&&n.from>=i.from&&n.to<=i.to&&(n.from!=i.from||n.to!=i.to)&&i.to-i.from-(n.to-n.from)<=4?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,i.to))}:t.state.doc.lineAt(i.from).to<i.to&&t.docView.lineHasWidget(i.to)&&t.inputState.insertingTextAt>Date.now()-50?n={from:i.from,to:i.to,insert:t.state.toText(t.inputState.insertingText)}:J.chrome&&n&&n.from==n.to&&n.from==i.head&&n.insert.toString()==`
 `&&t.lineWrapping&&(r&&(r=W.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:Oe.of([" "])}),n)return qx(t,n,r,a);if(r&&!Zp(r,i)){let o=!1,s="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(o=!0),s=t.inputState.lastSelectionOrigin,s=="select.pointer"&&(r=TQ(t.state.facet(Sf).map(l=>l(t)),r))),t.dispatch({selection:r,scrollIntoView:o,userEvent:s}),!0}else return!1}function qx(t,e,n,r=-1){if(J.ios&&t.inputState.flushIOSKey(e))return!0;let i=t.state.selection.main;if(J.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&t.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&Ss(t.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&Ss(t.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&Ss(t.contentDOM,"Delete",46)))return!0;let a=e.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let o,s=()=>o||(o=vue(t,e,n));return t.state.facet(OQ).some(l=>l(t,e.from,e.to,a,s))||t.dispatch(s()),!0}function vue(t,e,n){let r,i=t.state,a=i.selection.main,o=-1;if(e.from==e.to&&e.from<a.from||e.from>a.to){let l=e.from<a.from?-1:1,c=l<0?a.from:a.to,u=Bc(i.facet(Sf).map(f=>f(t)),c,l);e.from==u&&(o=u)}if(o>-1)r={changes:e,selection:W.cursor(e.from+e.insert.length,-1)};else if(e.from>=a.from&&e.to<=a.to&&e.to-e.from>=(a.to-a.from)/3&&(!n||n.main.empty&&n.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let l=a.from<e.from?i.sliceDoc(a.from,e.from):"",c=a.to>e.to?i.sliceDoc(e.to,a.to):"";r=i.replaceSelection(t.state.toText(l+e.insert.sliceString(0,void 0,t.state.lineBreak)+c))}else{let l=i.changes(e),c=n&&n.main.to<=l.newLength?n.main:void 0;if(i.selection.ranges.length>1&&(t.inputState.composing>=0||t.inputState.compositionPendingChange)&&e.to<=a.to+10&&e.to>=a.to-10){let u=t.state.sliceDoc(e.from,e.to),f,h=n&&EQ(t,n.main.head);if(h){let p=e.insert.length-(e.to-e.from);f={from:h.from,to:h.to-p}}else f=t.state.doc.lineAt(a.head);let d=a.to-e.to;r=i.changeByRange(p=>{if(p.from==a.from&&p.to==a.to)return{changes:l,range:c||p.map(l)};let m=p.to-d,v=m-u.length;if(t.state.sliceDoc(v,m)!=u||m>=f.from&&v<=f.to)return{range:p};let g=i.changes({from:v,to:m,insert:e.insert}),y=p.to-a.to;return{changes:g,range:c?W.range(Math.max(0,c.anchor+y),Math.max(0,c.head+y)):p.map(g)}})}else r={changes:l,selection:c&&i.selection.replaceRange(c)}}let s="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,s+=".compose",t.inputState.compositionFirstChange&&(s+=".start",t.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:s,scrollIntoView:!0})}function QQ(t,e,n,r){let i=Math.min(t.length,e.length),a=0;for(;a<i&&t.charCodeAt(a)==e.charCodeAt(a);)a++;if(a==i&&t.length==e.length)return null;let o=t.length,s=e.length;for(;o>0&&s>0&&t.charCodeAt(o-1)==e.charCodeAt(s-1);)o--,s--;if(r=="end"){let l=Math.max(0,a-Math.min(o,s));n-=o+l-a}if(o<a&&t.length<e.length){let l=n<=a&&n>=o?a-n:0;a-=l,s=a+(s-o),o=a}else if(s<a){let l=n<=a&&n>=s?a-n:0;a-=l,o=a+(o-s),s=a}return{from:a,toA:o,toB:s}}function yue(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:a}=t.observer.selectionRange;return n&&(e.push(new Yk(n,r)),(i!=n||a!=r)&&e.push(new Yk(i,a))),e}function Oue(t,e){if(t.length==0)return null;let n=t[0].pos,r=t.length==2?t[1].pos:n;return n>-1&&r>-1?W.single(n+e,r+e):null}function Zp(t,e){return e.head==t.main.head&&e.anchor==t.main.anchor}class bue{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.insertingText="",this.insertingTextAt=0,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,J.safari&&e.contentDOM.addEventListener("input",()=>null),J.gecko&&zue(e.contentDOM.ownerDocument)}handleEvent(e){!Aue(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,n){let r=this.handlers[e];if(r){for(let i of r.observers)i(this.view,n);for(let i of r.handlers){if(n.defaultPrevented)break;if(i(this.view,n)){n.preventDefault();break}}}}ensureHandlers(e){let n=xue(e),r=this.handlers,i=this.view.contentDOM;for(let a in n)if(a!="scroll"){let o=!n[a].handlers.length,s=r[a];s&&o!=!s.handlers.length&&(i.removeEventListener(a,this.handleEvent),s=null),s||i.addEventListener(a,this.handleEvent,{passive:o})}for(let a in r)a!="scroll"&&!n[a]&&i.removeEventListener(a,this.handleEvent);this.handlers=n}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&IQ.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),J.android&&J.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let n;return J.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((n=zQ.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||wue.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=n||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let n=this.pendingIOSKey;return!n||n.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,Ss(this.view.contentDOM,n.key,n.keyCode,n instanceof KeyboardEvent?n:void 0))}ignoreDuringComposition(e){return!/^key/.test(e.type)||e.synthetic?!1:this.composing>0?!0:J.safari&&!J.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Gk(t,e){return(n,r)=>{try{return e.call(t,r,n)}catch(i){gn(n.state,i)}}}function xue(t){let e=Object.create(null);function n(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of t){let i=r.spec,a=i&&i.plugin.domEventHandlers,o=i&&i.plugin.domEventObservers;if(a)for(let s in a){let l=a[s];l&&n(s).handlers.push(Gk(r.value,l))}if(o)for(let s in o){let l=o[s];l&&n(s).observers.push(Gk(r.value,l))}}for(let r in Er)n(r).handlers.push(Er[r]);for(let r in lr)n(r).observers.push(lr[r]);return e}const zQ=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],wue="dthko",IQ=[16,17,18,20,91,92,224,225],yh=6;function Oh(t){return Math.max(0,t)*.7+8}function Sue(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}class _ue{constructor(e,n,r,i){this.view=e,this.startEvent=n,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParents=kce(e.contentDOM),this.atoms=e.state.facet(Sf).map(o=>o(e));let a=e.contentDOM.ownerDocument;a.addEventListener("mousemove",this.move=this.move.bind(this)),a.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(ye.allowMultipleSelections)&&$ue(e,n),this.dragging=Pue(e,n)&&NQ(n)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&Sue(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let n=0,r=0,i=0,a=0,o=this.view.win.innerWidth,s=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:o}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:a,bottom:s}=this.scrollParents.y.getBoundingClientRect());let l=Ux(this.view);e.clientX-l.left<=i+yh?n=-Oh(i-e.clientX):e.clientX+l.right>=o-yh&&(n=Oh(e.clientX-o)),e.clientY-l.top<=a+yh?r=-Oh(a-e.clientY):e.clientY+l.bottom>=s-yh&&(r=Oh(e.clientY-s)),this.setScrollSpeed(n,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:n}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),n&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=n,n=0),(e||n)&&this.view.win.scrollBy(e,n),this.dragging===!1&&this.select(this.lastEvent)}select(e){let{view:n}=this,r=TQ(this.atoms,this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(n.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(n=>n.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function $ue(t,e){let n=t.state.facet(mQ);return n.length?n[0](e):J.mac?e.metaKey:e.ctrlKey}function kue(t,e){let n=t.state.facet(gQ);return n.length?n[0](e):J.mac?!e.altKey:!e.ctrlKey}function Pue(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let r=qu(t.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let a=0;a<i.length;a++){let o=i[a];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function Aue(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,r;n!=t.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(r=ct.get(n))&&r.isWidget()&&!r.isHidden&&r.widget.ignoreEvent(e))return!1;return!0}const Er=Object.create(null),lr=Object.create(null),RQ=J.ie&&J.ie_version<15||J.ios&&J.webkit_version<604;function Cue(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.remove(),DQ(t,n.value)},50)}function Og(t,e,n){for(let r of t.facet(e))n=r(n,t);return n}function DQ(t,e){e=Og(t.state,Wx,e);let{state:n}=t,r,i=1,a=n.toText(e),o=a.lines==n.selection.ranges.length;if(lb!=null&&n.selection.ranges.every(l=>l.empty)&&lb==a.toString()){let l=-1;r=n.changeByRange(c=>{let u=n.doc.lineAt(c.from);if(u.from==l)return{range:c};l=u.from;let f=n.toText((o?a.line(i++).text:e)+n.lineBreak);return{changes:{from:u.from,insert:f},range:W.cursor(c.from+f.length)}})}else o?r=n.changeByRange(l=>{let c=a.line(i++);return{changes:{from:l.from,to:l.to,insert:c.text},range:W.cursor(l.from+c.length)}}):r=n.replaceSelection(a);t.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}lr.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft};Er.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),e.keyCode==27&&t.inputState.tabFocusMode!=0&&(t.inputState.tabFocusMode=Date.now()+2e3),!1);lr.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};lr.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};Er.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let r of t.state.facet(vQ))if(n=r(t,e),n)break;if(!n&&e.button==0&&(n=Tue(t,e)),n){let r=!t.hasFocus;t.inputState.startMouseSelection(new _ue(t,e,n,r)),r&&t.observer.ignore(()=>{oQ(t.contentDOM);let a=t.root.activeElement;a&&!a.contains(t.contentDOM)&&a.blur()});let i=t.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}else t.inputState.setSelectionOrigin("select.pointer");return!1};function Hk(t,e,n,r){if(r==1)return W.cursor(e,n);if(r==2)return sue(t.state,e,n);{let i=t.docView.lineAt(e,n),a=t.state.doc.lineAt(i?i.posAtEnd:e),o=i?i.posAtStart:a.from,s=i?i.posAtEnd:a.to;return s<t.state.doc.length&&s==a.to&&s++,W.range(o,s)}}const Eue=J.ie&&J.ie_version<=11;let Kk=null,Jk=0,eP=0;function NQ(t){if(!Eue)return t.detail;let e=Kk,n=eP;return Kk=t,eP=Date.now(),Jk=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(Jk+1)%3:1}function Tue(t,e){let n=t.posAndSideAtCoords({x:e.clientX,y:e.clientY},!1),r=NQ(e),i=t.state.selection;return{update(a){a.docChanged&&(n.pos=a.changes.mapPos(n.pos),i=i.map(a.changes))},get(a,o,s){let l=t.posAndSideAtCoords({x:a.clientX,y:a.clientY},!1),c,u=Hk(t,l.pos,l.assoc,r);if(n.pos!=l.pos&&!o){let f=Hk(t,n.pos,n.assoc,r),h=Math.min(f.from,u.from),d=Math.max(f.to,u.to);u=h<u.from?W.range(h,d):W.range(d,h)}return o?i.replaceRange(i.main.extend(u.from,u.to)):s&&r==1&&i.ranges.length>1&&(c=Mue(i,l.pos))?c:s?i.addRange(u):W.create([u])}}}function Mue(t,e){for(let n=0;n<t.ranges.length;n++){let{from:r,to:i}=t.ranges[n];if(r<=e&&i>=e)return W.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}return null}Er.dragstart=(t,e)=>{let{selection:{main:n}}=t.state;if(e.target.draggable){let i=t.docView.tile.nearest(e.target);if(i&&i.isWidget()){let a=i.posAtStart,o=a+i.length;(a>=n.to||o<=n.from)&&(n=W.range(a,o))}}let{inputState:r}=t;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=n,e.dataTransfer&&(e.dataTransfer.setData("Text",Og(t.state,Xx,t.state.sliceDoc(n.from,n.to))),e.dataTransfer.effectAllowed="copyMove"),!1};Er.dragend=t=>(t.inputState.draggedContent=null,!1);function tP(t,e,n,r){if(n=Og(t.state,Wx,n),!n)return;let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:a}=t.inputState,o=r&&a&&kue(t,e)?{from:a.from,to:a.to}:null,s={from:i,insert:n},l=t.state.changes(o?[o,s]:s);t.focus(),t.dispatch({changes:l,selection:{anchor:l.mapPos(i,-1),head:l.mapPos(i,1)},userEvent:o?"move.drop":"input.drop"}),t.inputState.draggedContent=null}Er.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let n=e.dataTransfer.files;if(n&&n.length){let r=Array(n.length),i=0,a=()=>{++i==n.length&&tP(t,e,r.filter(o=>o!=null).join(t.state.lineBreak),!1)};for(let o=0;o<n.length;o++){let s=new FileReader;s.onerror=a,s.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(s.result)||(r[o]=s.result),a()},s.readAsText(n[o])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return tP(t,e,r,!0),!0}return!1};Er.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let n=RQ?null:e.clipboardData;return n?(DQ(t,n.getData("text/plain")||n.getData("text/uri-list")),!0):(Cue(t),!1)};function jue(t,e){let n=t.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),t.focus()},50)}function Que(t){let e=[],n=[],r=!1;for(let i of t.selection.ranges)i.empty||(e.push(t.sliceDoc(i.from,i.to)),n.push(i));if(!e.length){let i=-1;for(let{from:a}of t.selection.ranges){let o=t.doc.lineAt(a);o.number>i&&(e.push(o.text),n.push({from:o.from,to:Math.min(t.doc.length,o.to+1)})),i=o.number}r=!0}return{text:Og(t,Xx,e.join(t.lineBreak)),ranges:n,linewise:r}}let lb=null;Er.copy=Er.cut=(t,e)=>{if(!Nc(t.contentDOM,t.observer.selectionRange))return!1;let{text:n,ranges:r,linewise:i}=Que(t.state);if(!n&&!i)return!1;lb=i?n:null,e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let a=RQ?null:e.clipboardData;return a?(a.clearData(),a.setData("text/plain",n),!0):(jue(t,n),!1)};const LQ=Ii.define();function BQ(t,e){let n=[];for(let r of t.facet(bQ)){let i=r(t,e);i&&n.push(i)}return n.length?t.update({effects:n,annotations:LQ.of(!0)}):null}function ZQ(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=BQ(t.state,e);n?t.dispatch(n):t.update([])}},10)}lr.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),ZQ(t)};lr.blur=t=>{t.observer.clearSelectionRange(),ZQ(t)};lr.compositionstart=lr.compositionupdate=t=>{t.observer.editContext||(t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))};lr.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,J.chrome&&J.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50))};lr.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};Er.beforeinput=(t,e)=>{var n,r;if((e.inputType=="insertText"||e.inputType=="insertCompositionText")&&(t.inputState.insertingText=e.data,t.inputState.insertingTextAt=Date.now()),e.inputType=="insertReplacementText"&&t.observer.editContext){let a=(n=e.dataTransfer)===null||n===void 0?void 0:n.getData("text/plain"),o=e.getTargetRanges();if(a&&o.length){let s=o[0],l=t.posAtDOM(s.startContainer,s.startOffset),c=t.posAtDOM(s.endContainer,s.endOffset);return qx(t,{from:l,to:c,insert:t.state.toText(a)},null),!0}}let i;if(J.chrome&&J.android&&(i=zQ.find(a=>a.inputType==e.inputType))&&(t.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let a=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>a+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return J.ios&&e.inputType=="deleteContentForward"&&t.observer.flushSoon(),J.safari&&e.inputType=="insertText"&&t.inputState.composing>=0&&setTimeout(()=>lr.compositionend(t,e),20),!1};const nP=new Set;function zue(t){nP.has(t)||(nP.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}const rP=["pre-wrap","normal","pre-line","break-spaces"];let ul=!1;function iP(){ul=!1}class Iue{constructor(e){this.lineWrapping=e,this.doc=Oe.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,n){let r=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((n-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return rP.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(n=!0,this.heightSamples[Math.floor(i*10)]=!0)}return n}refresh(e,n,r,i,a,o){let s=rP.indexOf(e)>-1,l=Math.abs(n-this.lineHeight)>.3||this.lineWrapping!=s||Math.abs(r-this.charWidth)>.1;if(this.lineWrapping=s,this.lineHeight=n,this.charWidth=r,this.textHeight=i,this.lineLength=a,l){this.heightSamples={};for(let c=0;c<o.length;c++){let u=o[c];u<0?c++:this.heightSamples[Math.floor(u*10)]=!0}}return l}}class Rue{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class xr{constructor(e,n,r,i,a){this.from=e,this.length=n,this.top=r,this.height=i,this._content=a}get type(){return typeof this._content=="number"?Lt.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof wo?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new xr(this.from,this.length+e.length,this.top,this.height+e.height,n)}}var Qe=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(Qe||(Qe={}));const Jh=.001;class an{constructor(e,n,r=2){this.length=e,this.height=n,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Jh&&(ul=!0),this.height=e)}replace(e,n,r){return an.of(r)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,r,i){let a=this,o=r.doc;for(let s=i.length-1;s>=0;s--){let{fromA:l,toA:c,fromB:u,toB:f}=i[s],h=a.lineAt(l,Qe.ByPosNoHeight,r.setDoc(n),0,0),d=h.to>=c?h:a.lineAt(c,Qe.ByPosNoHeight,r,0,0);for(f+=d.to-c,c=d.to;s>0&&h.from<=i[s-1].toA;)l=i[s-1].fromA,u=i[s-1].fromB,s--,l<h.from&&(h=a.lineAt(l,Qe.ByPosNoHeight,r,0,0));u+=h.from-l,l=h.from;let p=Yx.build(r.setDoc(o),e,u,f);a=Wp(a,a.replace(l,c,p))}return a.updateHeight(r,0)}static empty(){return new In(0,0,0)}static of(e){if(e.length==1)return e[0];let n=0,r=e.length,i=0,a=0;for(;;)if(n==r)if(i>a*2){let s=e[n-1];s.break?e.splice(--n,1,s.left,null,s.right):e.splice(--n,1,s.left,s.right),r+=1+s.break,i-=s.size}else if(a>i*2){let s=e[r];s.break?e.splice(r,1,s.left,null,s.right):e.splice(r,1,s.left,s.right),r+=2+s.break,a-=s.size}else break;else if(i<a){let s=e[n++];s&&(i+=s.size)}else{let s=e[--r];s&&(a+=s.size)}let o=0;return e[n-1]==null?(o=1,n--):e[n]==null&&(o=1,r++),new Nue(an.of(e.slice(0,n)),o,an.of(e.slice(r)))}}function Wp(t,e){return t==e?t:(t.constructor!=e.constructor&&(ul=!0),e)}an.prototype.size=1;const Due=re.replace({});class WQ extends an{constructor(e,n,r){super(e,n),this.deco=r,this.spaceAbove=0}mainBlock(e,n){return new xr(n,this.length,e+this.spaceAbove,this.height-this.spaceAbove,this.deco||0)}blockAt(e,n,r,i){return this.spaceAbove&&e<r+this.spaceAbove?new xr(i,0,r,this.spaceAbove,Due):this.mainBlock(r,i)}lineAt(e,n,r,i,a){let o=this.mainBlock(i,a);return this.spaceAbove?this.blockAt(0,r,i,a).join(o):o}forEachLine(e,n,r,i,a,o){e<=a+this.length&&n>=a&&o(this.lineAt(0,Qe.ByPos,r,i,a))}setMeasuredHeight(e){let n=e.heights[e.index++];n<0?(this.spaceAbove=-n,n=e.heights[e.index++]):this.spaceAbove=0,this.setHeight(n)}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more&&this.setMeasuredHeight(i),this.outdated=!1,this}toString(){return`block(${this.length})`}}class In extends WQ{constructor(e,n,r){super(e,n,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0,this.spaceAbove=r}mainBlock(e,n){return new xr(n,this.length,e+this.spaceAbove,this.height-this.spaceAbove,this.breaks)}replace(e,n,r){let i=r[0];return r.length==1&&(i instanceof In||i instanceof Qt&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof Qt?i=new In(i.length,this.height,this.spaceAbove):i.height=this.height,this.outdated||(i.outdated=!1),i):an.of(r)}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more?this.setMeasuredHeight(i):(r||this.outdated)&&(this.spaceAbove=0,this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight)),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Qt extends an{constructor(e){super(e,0)}heightMetrics(e,n){let r=e.doc.lineAt(n).number,i=e.doc.lineAt(n+this.length).number,a=i-r+1,o,s=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*a);o=l/a,this.length>a+1&&(s=(this.height-l)/(this.length-a-1))}else o=this.height/a;return{firstLine:r,lastLine:i,perLine:o,perChar:s}}blockAt(e,n,r,i){let{firstLine:a,lastLine:o,perLine:s,perChar:l}=this.heightMetrics(n,i);if(n.lineWrapping){let c=i+(e<n.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),u=n.doc.lineAt(c),f=s+u.length*l,h=Math.max(r,e-f/2);return new xr(u.from,u.length,h,f,0)}else{let c=Math.max(0,Math.min(o-a,Math.floor((e-r)/s))),{from:u,length:f}=n.doc.line(a+c);return new xr(u,f,r+s*c,s,0)}}lineAt(e,n,r,i,a){if(n==Qe.ByHeight)return this.blockAt(e,r,i,a);if(n==Qe.ByPosNoHeight){let{from:d,to:p}=r.doc.lineAt(e);return new xr(d,p-d,0,0,0)}let{firstLine:o,perLine:s,perChar:l}=this.heightMetrics(r,a),c=r.doc.lineAt(e),u=s+c.length*l,f=c.number-o,h=i+s*f+l*(c.from-a-f);return new xr(c.from,c.length,Math.max(i,Math.min(h,i+this.height-u)),u,0)}forEachLine(e,n,r,i,a,o){e=Math.max(e,a),n=Math.min(n,a+this.length);let{firstLine:s,perLine:l,perChar:c}=this.heightMetrics(r,a);for(let u=e,f=i;u<=n;){let h=r.doc.lineAt(u);if(u==e){let p=h.number-s;f+=l*p+c*(e-a-p)}let d=l+c*h.length;o(new xr(h.from,h.length,f,d,0)),f+=d,u=h.to+1}}replace(e,n,r){let i=this.length-n;if(i>0){let a=r[r.length-1];a instanceof Qt?r[r.length-1]=new Qt(a.length+i):r.push(null,new Qt(i-1))}if(e>0){let a=r[0];a instanceof Qt?r[0]=new Qt(e+a.length):r.unshift(new Qt(e-1),null)}return an.of(r)}decomposeLeft(e,n){n.push(new Qt(e-1),null)}decomposeRight(e,n){n.push(null,new Qt(this.length-e-1))}updateHeight(e,n=0,r=!1,i){let a=n+this.length;if(i&&i.from<=n+this.length&&i.more){let o=[],s=Math.max(n,i.from),l=-1;for(i.from>n&&o.push(new Qt(i.from-n-1).updateHeight(e,n));s<=a&&i.more;){let u=e.doc.lineAt(s).length;o.length&&o.push(null);let f=i.heights[i.index++],h=0;f<0&&(h=-f,f=i.heights[i.index++]),l==-1?l=f:Math.abs(f-l)>=Jh&&(l=-2);let d=new In(u,f,h);d.outdated=!1,o.push(d),s+=u+1}s<=a&&o.push(null,new Qt(a-s).updateHeight(e,s));let c=an.of(o);return(l<0||Math.abs(c.height-this.height)>=Jh||Math.abs(l-this.heightMetrics(e,n).perLine)>=Jh)&&(ul=!0),Wp(this,c)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class Nue extends an{constructor(e,n,r){super(e.length+n+r.length,e.height+r.height,n|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,n,r,i){let a=r+this.left.height;return e<a?this.left.blockAt(e,n,r,i):this.right.blockAt(e,n,a,i+this.left.length+this.break)}lineAt(e,n,r,i,a){let o=i+this.left.height,s=a+this.left.length+this.break,l=n==Qe.ByHeight?e<o:e<s,c=l?this.left.lineAt(e,n,r,i,a):this.right.lineAt(e,n,r,o,s);if(this.break||(l?c.to<s:c.from>s))return c;let u=n==Qe.ByPosNoHeight?Qe.ByPosNoHeight:Qe.ByPos;return l?c.join(this.right.lineAt(s,u,r,o,s)):this.left.lineAt(s,u,r,i,a).join(c)}forEachLine(e,n,r,i,a,o){let s=i+this.left.height,l=a+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,n,r,i,a,o),n>=l&&this.right.forEachLine(e,n,r,s,l,o);else{let c=this.lineAt(l,Qe.ByPos,r,i,a);e<c.from&&this.left.forEachLine(e,c.from-1,r,i,a,o),c.to>=e&&c.from<=n&&o(c),n>c.to&&this.right.forEachLine(c.to+1,n,r,s,l,o)}}replace(e,n,r){let i=this.left.length+this.break;if(n<i)return this.balanced(this.left.replace(e,n,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,n-i,r));let a=[];e>0&&this.decomposeLeft(e,a);let o=a.length;for(let s of r)a.push(s);if(e>0&&aP(a,o-1),n<this.length){let s=a.length;this.decomposeRight(n,a),aP(a,s)}return an.of(a)}decomposeLeft(e,n){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(r++,e>=r&&n.push(null)),e>r&&this.right.decomposeLeft(e-r,n)}decomposeRight(e,n){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,n);e<r&&this.left.decomposeRight(e,n),this.break&&e<i&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?an.of(this.break?[e,null,n]:[e,n]):(this.left=Wp(this.left,e),this.right=Wp(this.right,n),this.setHeight(e.height+n.height),this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,r=!1,i){let{left:a,right:o}=this,s=n+a.length+this.break,l=null;return i&&i.from<=n+a.length&&i.more?l=a=a.updateHeight(e,n,r,i):a.updateHeight(e,n,r),i&&i.from<=s+o.length&&i.more?l=o=o.updateHeight(e,s,r,i):o.updateHeight(e,s,r),l?this.balanced(a,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function aP(t,e){let n,r;t[e]==null&&(n=t[e-1])instanceof Qt&&(r=t[e+1])instanceof Qt&&t.splice(e-1,3,new Qt(n.length+1+r.length))}const Lue=5;class Yx{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let r=Math.min(n,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof In?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new In(r-this.pos,-1,0)),this.writtenTo=r,n>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,r){if(e<n||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,a=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let o=n-e;r.block?this.addBlock(new WQ(o,i,r)):(o||a||i>=Lue)&&this.addLineDeco(i,a,o)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new In(this.pos-e,-1,0)),this.writtenTo=this.pos}blankContent(e,n){let r=new Qt(n-e);return this.oracle.doc.lineAt(e).to==n&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof In)return e;let n=new In(0,-1,0);return this.nodes.push(n),n}addBlock(e){this.enterLine();let n=e.deco;n&&n.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,n&&n.endSide>0&&(this.covering=e)}addLineDeco(e,n,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=n,this.writtenTo=this.pos=this.pos+r}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof In)&&!this.isCovered?this.nodes.push(new In(0,-1,0)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof In&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,n,r,i){let a=new Yx(r,e);return de.spans(n,r,i,a,0),a.finish(r)}}function Bue(t,e,n){let r=new Zue;return de.compare(t,e,n,r,0),r.changes}class Zue{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,r,i){(e<n||r&&r.heightRelevant||i&&i.heightRelevant)&&ws(e,n,this.changes,5)}}function Wue(t,e){let n=t.getBoundingClientRect(),r=t.ownerDocument,i=r.defaultView||window,a=Math.max(0,n.left),o=Math.min(i.innerWidth,n.right),s=Math.max(0,n.top),l=Math.min(i.innerHeight,n.bottom);for(let c=t.parentNode;c&&c!=r.body;)if(c.nodeType==1){let u=c,f=window.getComputedStyle(u);if((u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth)&&f.overflow!="visible"){let h=u.getBoundingClientRect();a=Math.max(a,h.left),o=Math.min(o,h.right),s=Math.max(s,h.top),l=Math.min(c==t.parentNode?i.innerHeight:l,h.bottom)}c=f.position=="absolute"||f.position=="fixed"?u.offsetParent:u.parentNode}else if(c.nodeType==11)c=c.host;else break;return{left:a-n.left,right:Math.max(a,o)-n.left,top:s-(n.top+e),bottom:Math.max(s,l)-(n.top+e)}}function Xue(t){let e=t.getBoundingClientRect(),n=t.ownerDocument.defaultView||window;return e.left<n.innerWidth&&e.right>0&&e.top<n.innerHeight&&e.bottom>0}function Fue(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class Z0{constructor(e,n,r,i){this.from=e,this.to=n,this.size=r,this.displaySize=i}static same(e,n){if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],a=n[r];if(i.from!=a.from||i.to!=a.to||i.size!=a.size)return!1}return!0}draw(e,n){return re.replace({widget:new Vue(this.displaySize*(n?e.scaleY:e.scaleX),n)}).range(this.from,this.to)}}class Vue extends si{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class oP{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=sP,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Te.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet(Fx).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new Iue(n),this.stateDeco=lP(e),this.heightMap=an.empty().applyChanges(this.stateDeco,Oe.empty,this.heightOracle.setDoc(e.doc),[new er(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=re.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let r=0;r<=1;r++){let i=r?n.head:n.anchor;if(!e.some(({from:a,to:o})=>i>=a&&i<=o)){let{from:a,to:o}=this.lineBlockAt(i);e.push(new bh(a,o))}}return this.viewports=e.sort((r,i)=>r.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?sP:new Gx(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(yc(e,this.scaler))})}update(e,n=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=lP(this.state);let i=e.changedRanges,a=er.extendWithRanges(i,Bue(r,this.stateDeco,e?e.changes:vt.empty(this.state.doc.length))),o=this.heightMap.height,s=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);iP(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),a),(this.heightMap.height!=o||ul)&&(e.flags|=2),s?(this.scrollAnchorPos=e.changes.mapPos(s.from,-1),this.scrollAnchorHeight=s.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=o);let l=a.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<l.from||n.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,n));let c=l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,e.flags|=this.updateForViewport(),(c||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&(e.selectionSet||e.focusChanged)&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(wQ)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,r=window.getComputedStyle(n),i=this.heightOracle,a=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?Te.RTL:Te.LTR;let o=this.heightOracle.mustRefreshForWrapping(a)||this.mustMeasureContent,s=n.getBoundingClientRect(),l=o||this.mustMeasureContent||this.contentDOMHeight!=s.height;this.contentDOMHeight=s.height,this.mustMeasureContent=!1;let c=0,u=0;if(s.width&&s.height){let{scaleX:_,scaleY:O}=aQ(n,s);(_>.005&&Math.abs(this.scaleX-_)>.005||O>.005&&Math.abs(this.scaleY-O)>.005)&&(this.scaleX=_,this.scaleY=O,c|=16,o=l=!0)}let f=(parseInt(r.paddingTop)||0)*this.scaleY,h=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=f||this.paddingBottom!=h)&&(this.paddingTop=f,this.paddingBottom=h,c|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,c|=16);let d=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=d&&(this.scrollAnchorHeight=-1,this.scrollTop=d),this.scrolledToBottom=sQ(e.scrollDOM);let p=(this.printing?Fue:Wue)(n,this.paddingTop),m=p.top-this.pixelViewport.top,v=p.bottom-this.pixelViewport.bottom;this.pixelViewport=p;let g=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(g!=this.inView&&(this.inView=g,g&&(l=!0)),!this.inView&&!this.scrollTarget&&!Xue(e.dom))return 0;let y=s.width;if((this.contentDOMWidth!=y||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=s.width,this.editorHeight=e.scrollDOM.clientHeight,c|=16),l){let _=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(_)&&(o=!0),o||i.lineWrapping&&Math.abs(y-this.contentDOMWidth)>i.charWidth){let{lineHeight:O,charWidth:w,textHeight:$}=e.docView.measureTextSize();o=O>0&&i.refresh(a,O,w,$,Math.max(5,y/w),_),o&&(e.docView.minWidth=0,c|=16)}m>0&&v>0?u=Math.max(m,v):m<0&&v<0&&(u=Math.min(m,v)),iP();for(let O of this.viewports){let w=O.from==this.viewport.from?_:e.docView.measureVisibleLineHeights(O);this.heightMap=(o?an.empty().applyChanges(this.stateDeco,Oe.empty,this.heightOracle,[new er(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,o,new Rue(O.from,w))}ul&&(c|=2)}let x=!this.viewportIsAppropriate(this.viewport,u)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return x&&(c&2&&(c|=this.updateScaler()),this.viewport=this.getViewport(u,this.scrollTarget),c|=this.updateForViewport()),(c&2||x)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,a=this.heightOracle,{visibleTop:o,visibleBottom:s}=this,l=new bh(i.lineAt(o-r*1e3,Qe.ByHeight,a,0,0).from,i.lineAt(s+(1-r)*1e3,Qe.ByHeight,a,0,0).to);if(n){let{head:c}=n.range;if(c<l.from||c>l.to){let u=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),f=i.lineAt(c,Qe.ByPos,a,0,0),h;n.y=="center"?h=(f.top+f.bottom)/2-u/2:n.y=="start"||n.y=="nearest"&&c<l.from?h=f.top:h=f.bottom-u,l=new bh(i.lineAt(h-1e3/2,Qe.ByHeight,a,0,0).from,i.lineAt(h+u+1e3/2,Qe.ByHeight,a,0,0).to)}}return l}mapViewport(e,n){let r=n.mapPos(e.from,-1),i=n.mapPos(e.to,1);return new bh(this.heightMap.lineAt(r,Qe.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,Qe.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,Qe.ByPos,this.heightOracle,0,0),{bottom:a}=this.heightMap.lineAt(n,Qe.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:s}=this;return(e==0||i<=o-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||a>=s+Math.max(10,Math.min(r,250)))&&i>o-2*1e3&&a<s+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let r=[];for(let i of e)n.touchesRange(i.from,i.to)||r.push(new Z0(n.mapPos(i.from),n.mapPos(i.to),i.size,i.displaySize));return r}ensureLineGaps(e,n){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,a=i>>1,o=i<<1;if(this.defaultTextDirection!=Te.LTR&&!r)return[];let s=[],l=(u,f,h,d)=>{if(f-u<a)return;let p=this.state.selection.main,m=[p.from];p.empty||m.push(p.to);for(let g of m)if(g>u&&g<f){l(u,g-10,h,d),l(g+10,f,h,d);return}let v=que(e,g=>g.from>=h.from&&g.to<=h.to&&Math.abs(g.from-u)<a&&Math.abs(g.to-f)<a&&!m.some(y=>g.from<y&&g.to>y));if(!v){if(f<h.to&&n&&r&&n.visibleRanges.some(x=>x.from<=f&&x.to>=f)){let x=n.moveToLineBoundary(W.cursor(f),!1,!0).head;x>u&&(f=x)}let g=this.gapSize(h,u,f,d),y=r||g<2e6?g:2e6;v=new Z0(u,f,g,y)}s.push(v)},c=u=>{if(u.length<o||u.type!=Lt.Text)return;let f=Uue(u.from,u.to,this.stateDeco);if(f.total<o)return;let h=this.scrollTarget?this.scrollTarget.range.head:null,d,p;if(r){let m=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,v,g;if(h!=null){let y=wh(f,h),x=((this.visibleBottom-this.visibleTop)/2+m)/u.height;v=y-x,g=y+x}else v=(this.visibleTop-u.top-m)/u.height,g=(this.visibleBottom-u.top+m)/u.height;d=xh(f,v),p=xh(f,g)}else{let m=f.total*this.heightOracle.charWidth,v=i*this.heightOracle.charWidth,g=0;if(m>2e6)for(let w of e)w.from>=u.from&&w.from<u.to&&w.size!=w.displaySize&&w.from*this.heightOracle.charWidth+g<this.pixelViewport.left&&(g=w.size-w.displaySize);let y=this.pixelViewport.left+g,x=this.pixelViewport.right+g,_,O;if(h!=null){let w=wh(f,h),$=((x-y)/2+v)/m;_=w-$,O=w+$}else _=(y-v)/m,O=(x+v)/m;d=xh(f,_),p=xh(f,O)}d>u.from&&l(u.from,d,u,f),p<u.to&&l(p,u.to,u,f)};for(let u of this.viewportLines)Array.isArray(u.type)?u.type.forEach(c):c(u);return s}gapSize(e,n,r,i){let a=wh(i,r)-wh(i,n);return this.heightOracle.lineWrapping?e.height*a:i.total*this.heightOracle.charWidth*a}updateLineGaps(e){Z0.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=re.set(e.map(n=>n.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let n=this.stateDeco;this.lineGaps.length&&(n=n.concat(this.lineGapDeco));let r=[];de.spans(n,this.viewport.from,this.viewport.to,{span(a,o){r.push({from:a,to:o})},point(){}},20);let i=0;if(r.length!=this.visibleRanges.length)i=12;else for(let a=0;a<r.length&&!(i&8);a++){let o=this.visibleRanges[a],s=r[a];(o.from!=s.from||o.to!=s.to)&&(i|=4,e&&e.mapPos(o.from,-1)==s.from&&e.mapPos(o.to,1)==s.to||(i|=8))}return this.visibleRanges=r,i}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||yc(this.heightMap.lineAt(e,Qe.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(n=>n.top<=e&&n.bottom>=e)||yc(this.heightMap.lineAt(this.scaler.fromDOM(e),Qe.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let n=this.lineBlockAtHeight(e+8);return n.from>=this.viewport.from||this.viewportLines[0].top-e>200?n:this.viewportLines[0]}elementAtHeight(e){return yc(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class bh{constructor(e,n){this.from=e,this.to=n}}function Uue(t,e,n){let r=[],i=t,a=0;return de.spans(n,t,e,{span(){},point(o,s){o>i&&(r.push({from:i,to:o}),a+=o-i),i=s}},20),i<e&&(r.push({from:i,to:e}),a+=e-i),{total:a,ranges:r}}function xh({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let r=Math.floor(t*n);for(let i=0;;i++){let{from:a,to:o}=e[i],s=o-a;if(r<=s)return a+r;r-=s}}function wh(t,e){let n=0;for(let{from:r,to:i}of t.ranges){if(e<=i){n+=e-r;break}n+=i-r}return n/t.total}function que(t,e){for(let n of t)if(e(n))return n}const sP={toDOM(t){return t},fromDOM(t){return t},scale:1,eq(t){return t==this}};function lP(t){let e=t.facet(gg).filter(r=>typeof r!="function"),n=t.facet(Vx).filter(r=>typeof r!="function");return n.length&&e.push(de.join(n)),e}class Gx{constructor(e,n,r){let i=0,a=0,o=0;this.viewports=r.map(({from:s,to:l})=>{let c=n.lineAt(s,Qe.ByPos,e,0,0).top,u=n.lineAt(l,Qe.ByPos,e,0,0).bottom;return i+=u-c,{from:s,to:l,top:c,bottom:u,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(n.height-i);for(let s of this.viewports)s.domTop=o+(s.top-a)*this.scale,o=s.domBottom=s.domTop+(s.bottom-s.top),a=s.bottom}toDOM(e){for(let n=0,r=0,i=0;;n++){let a=n<this.viewports.length?this.viewports[n]:null;if(!a||e<a.top)return i+(e-r)*this.scale;if(e<=a.bottom)return a.domTop+(e-a.top);r=a.bottom,i=a.domBottom}}fromDOM(e){for(let n=0,r=0,i=0;;n++){let a=n<this.viewports.length?this.viewports[n]:null;if(!a||e<a.domTop)return r+(e-i)/this.scale;if(e<=a.domBottom)return a.top+(e-a.domTop);r=a.bottom,i=a.domBottom}}eq(e){return e instanceof Gx?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((n,r)=>n.from==e.viewports[r].from&&n.to==e.viewports[r].to):!1}}function yc(t,e){if(e.scale==1)return t;let n=e.toDOM(t.top),r=e.toDOM(t.bottom);return new xr(t.from,t.length,n,r-n,Array.isArray(t._content)?t._content.map(i=>yc(i,e)):t._content)}const Sh=H.define({combine:t=>t.join(" ")}),cb=H.define({combine:t=>t.indexOf(!0)>-1}),ub=ga.newName(),XQ=ga.newName(),FQ=ga.newName(),VQ={"&light":"."+XQ,"&dark":"."+FQ};function fb(t,e,n){return new ga(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return t;if(!n||!n[i])throw new RangeError(`Unsupported selector: ${i}`);return n[i]}):t+" "+r}})}const Yue=fb("."+ub,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},VQ),Gue={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},W0=J.ie&&J.ie_version<=11;class Hue{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new Pce,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let r of n)this.queue.push(r);(J.ie&&J.ie_version<=11||J.ios&&e.composing)&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&J.android&&e.constructor.EDIT_CONTEXT!==!1&&!(J.chrome&&J.chrome_version<126)&&(this.editContext=new Jue(e),e.state.facet(hi)&&(e.contentDOM.editContext=this.editContext.editContext)),W0&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,r)=>n!=e[r]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(hi)?r.root.activeElement!=this.dom:!Nc(this.dom,i))return;let a=i.anchorNode&&r.docView.tile.nearest(i.anchorNode);if(a&&a.isWidget()&&a.widget.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(J.ie&&J.ie_version<=11||J.android&&J.chrome)&&!r.state.selection.main.empty&&i.focusNode&&Lc(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=qu(e.root);if(!n)return!1;let r=J.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&Kue(this.view,n)||n;if(!r||this.selectionRange.eq(r))return!1;let i=Nc(this.dom,r);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&Cce(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let r=this.dom;r;)if(r.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=n)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,Gue),W0&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),W0&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var r;if(!this.delayedAndroidKey){let i=()=>{let a=this.delayedAndroidKey;a&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=a.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&a.force&&Ss(this.dom,a.key,a.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let n=-1,r=-1,i=!1;for(let a of e){let o=this.readMutation(a);o&&(o.typeOver&&(i=!0),n==-1?{from:n,to:r}=o:(n=Math.min(o.from,n),r=Math.max(o.to,r)))}return{from:n,to:r,typeOver:i}}readChange(){let{from:e,to:n,typeOver:r}=this.processRecords(),i=this.selectionChanged&&Nc(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let a=new gue(this.view,e,n,r);return this.view.docView.domChanged={newSel:a.newSel?a.newSel.main:null},a}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return this.view.requestMeasure(),!1;let r=this.view.state,i=jQ(this.view,n);return this.view.state==r&&(n.domChanged||n.newSel&&!Zp(this.view.state.selection,n.newSel.main))&&this.view.update([]),i}readMutation(e){let n=this.view.docView.tile.nearest(e.target);if(!n||n.isWidget())return null;if(n.markDirty(e.type=="attributes"),e.type=="childList"){let r=cP(n,e.previousSibling||e.target.previousSibling,-1),i=cP(n,e.nextSibling||e.target.nextSibling,1);return{from:r?n.posAfter(r):n.posAtStart,to:i?n.posBefore(i):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(hi)!=e.state.facet(hi)&&(e.view.contentDOM.editContext=e.state.facet(hi)?this.editContext.editContext:null))}destroy(){var e,n,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function cP(t,e,n){for(;e;){let r=ct.get(e);if(r&&r.parent==t)return r;let i=e.parentNode;e=i!=t.dom?i:n>0?e.nextSibling:e.previousSibling}return null}function uP(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,a=e.endOffset,o=t.docView.domAtPos(t.state.selection.main.anchor,1);return Lc(o.node,o.offset,i,a)&&([n,r,i,a]=[i,a,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:a}}function Kue(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return uP(t,i)}let n=null;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",r,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",r,!0),n?uP(t,n):null}class Jue{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let n=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let i=e.state.selection.main,{anchor:a,head:o}=i,s=this.toEditorPos(r.updateRangeStart),l=this.toEditorPos(r.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:r.updateRangeStart,editorBase:s,drifted:!1});let c=l-s>r.text.length;s==this.from&&a<this.from?s=a:l==this.to&&a>this.to&&(l=a);let u=QQ(e.state.sliceDoc(s,l),r.text,(c?i.from:i.to)-s,c?"end":null);if(!u){let h=W.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd));Zp(h,i)||e.dispatch({selection:h,userEvent:"select"});return}let f={from:u.from+s,to:u.toA+s,insert:Oe.of(r.text.slice(u.from,u.toB).split(`
`))};if((J.mac||J.android)&&f.from==o-1&&/^\. ?$/.test(r.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(f={from:s,to:l,insert:Oe.of([r.text.replace("."," ")])}),this.pendingContextChange=f,!e.state.readOnly){let h=this.to-this.from+(f.to-f.from+f.insert.length);qx(e,f,W.single(this.toEditorPos(r.selectionStart,h),this.toEditorPos(r.selectionEnd,h)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)),f.from<f.to&&!f.insert.length&&e.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(n.text.slice(Math.max(0,r.updateRangeStart-1),Math.min(n.text.length,r.updateRangeStart+1)))&&this.handlers.compositionend(r)},this.handlers.characterboundsupdate=r=>{let i=[],a=null;for(let o=this.toEditorPos(r.rangeStart),s=this.toEditorPos(r.rangeEnd);o<s;o++){let l=e.coordsForChar(o);a=l&&new DOMRect(l.left,l.top,l.right-l.left,l.bottom-l.top)||a||new DOMRect,i.push(a)}n.updateCharacterBounds(r.rangeStart,i)},this.handlers.textformatupdate=r=>{let i=[];for(let a of r.getTextFormats()){let o=a.underlineStyle,s=a.underlineThickness;if(!/none/i.test(o)&&!/none/i.test(s)){let l=this.toEditorPos(a.rangeStart),c=this.toEditorPos(a.rangeEnd);if(l<c){let u=`text-decoration: underline ${/^[a-z]/.test(o)?o+" ":o=="Dashed"?"dashed ":o=="Squiggle"?"wavy ":""}${/thin/i.test(s)?1:2}px`;i.push(re.mark({attributes:{style:u}}).range(l,c))}}}e.dispatch({effects:_Q.of(re.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:r}=this.composing;this.composing=null,r&&this.reset(e.state)}};for(let r in this.handlers)n.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let i=qu(r.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let n=0,r=!1,i=this.pendingContextChange;return e.changes.iterChanges((a,o,s,l,c)=>{if(r)return;let u=c.length-(o-a);if(i&&o>=i.to)if(i.from==a&&i.to==o&&i.insert.eq(c)){i=this.pendingContextChange=null,n+=u,this.to+=u;return}else i=null,this.revertPending(e.state);if(a+=n,o+=n,o<=this.from)this.from+=u,this.to+=u;else if(a<this.to){if(a<this.from||o>this.to||this.to-this.from+c.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(a),this.toContextPos(o),c.toString()),this.to+=u}n+=u}),i&&!r&&this.revertPending(e.state),!r}update(e){let n=this.pendingContextChange,r=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(r.from,r.to)&&e.transactions.some(i=>!i.isUserEvent("input.type")&&i.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||n)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:n}=e.selection.main;this.from=Math.max(0,n-1e4),this.to=Math.min(e.doc.length,n+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let n=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(n.from),this.toContextPos(n.from+n.insert.length),e.doc.sliceString(n.from,n.to))}setSelection(e){let{main:n}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,n.anchor))),i=this.toContextPos(n.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(r,i)}rangeIsValid(e){let{head:n}=e.selection.main;return!(this.from>0&&n-this.from<500||this.to<e.doc.length&&this.to-n<500||this.to-this.from>1e4*3)}toEditorPos(e,n=this.to-this.from){e=Math.min(e,n);let r=this.composing;return r&&r.drifted?r.editorBase+(e-r.contextBase):e+this.from}toContextPos(e){let n=this.composing;return n&&n.drifted?n.contextBase+(e-n.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}let ee=class hb{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var n;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(i=>i.forEach(a=>r(a,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||Ace(e.parent)||document,this.viewState=new oP(e.state||ye.create(e)),e.scrollTo&&e.scrollTo.is(vh)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(ss).map(i=>new R0(i));for(let i of this.plugins)i.update(this);this.observer=new Hue(this),this.inputState=new bue(this),this.inputState.ensureHandlers(this.plugins),this.docView=new Uk(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((n=document.fonts)===null||n===void 0)&&n.ready&&document.fonts.ready.then(()=>{this.viewState.mustMeasureContent=!0,this.requestMeasure()})}dispatch(...e){let n=e.length==1&&e[0]instanceof st?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(n,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,r=!1,i,a=this.state;for(let h of e){if(h.startState!=a)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");a=h.state}if(this.destroyed){this.viewState.state=a;return}let o=this.hasFocus,s=0,l=null;e.some(h=>h.annotation(LQ))?(this.inputState.notifiedFocused=o,s=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,l=BQ(a,o),l||(s=1));let c=this.observer.delayedAndroidKey,u=null;if(c?(this.observer.clearDelayedAndroidKey(),u=this.observer.readChange(),(u&&!this.state.doc.eq(a.doc)||!this.state.selection.eq(a.selection))&&(u=null)):this.observer.clear(),a.facet(ye.phrases)!=this.state.facet(ye.phrases))return this.setState(a);i=Np.create(this,a,e),i.flags|=s;let f=this.viewState.scrollTarget;try{this.updateState=2;for(let h of e){if(f&&(f=f.map(h.changes)),h.scrollIntoView){let{main:d}=h.state.selection;f=new _s(d.empty?d:W.cursor(d.head,d.head>d.anchor?-1:1))}for(let d of h.effects)d.is(vh)&&(f=d.value.clip(this.state))}this.viewState.update(i,f),this.bidiCache=Xp.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),n=this.docView.update(i),this.state.facet(gc)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(h=>h.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(Sh)!=i.state.facet(Sh)&&(this.viewState.mustMeasureContent=!0),(n||r||f||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!i.empty)for(let h of this.state.facet(ib))try{h(i)}catch(d){gn(this.state,d,"update listener")}(l||u)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),u&&!jQ(this,u)&&c.force&&Ss(this.contentDOM,c.key,c.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new oP(e),this.plugins=e.facet(ss).map(r=>new R0(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new Uk(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(ss),r=e.state.facet(ss);if(n!=r){let i=[];for(let a of r){let o=n.indexOf(a);if(o<0)i.push(new R0(a));else{let s=this.plugins[o];s.mustUpdate=e,i.push(s)}}for(let a of this.plugins)a.mustUpdate!=e&&a.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);n!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let n=e.value;if(n&&n.docViewUpdate)try{n.docViewUpdate(this)}catch(r){gn(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:a,scrollAnchorHeight:o}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let s=0;;s++){if(o<0)if(sQ(r))a=-1,o=this.viewState.heightMap.height;else{let d=this.viewState.scrollAnchorAt(i);a=d.from,o=d.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(s>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let c=[];l&4||([this.measureRequests,c]=[c,this.measureRequests]);let u=c.map(d=>{try{return d.read(this)}catch(p){return gn(this.state,p),fP}}),f=Np.create(this,this.state,[]),h=!1;f.flags|=l,n?n.flags|=l:n=f,this.updateState=2,f.empty||(this.updatePlugins(f),this.inputState.update(f),this.updateAttrs(),h=this.docView.update(f),h&&this.docViewUpdate());for(let d=0;d<c.length;d++)if(u[d]!=fP)try{let p=c[d];p.write&&p.write(u[d],this)}catch(p){gn(this.state,p)}if(h&&this.docView.updateSelection(!0),!f.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,o=-1;continue}else{let p=(a<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(a).top)-o;if(p>1||p<-1){i=i+p,r.scrollTop=i/this.scaleY,o=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let s of this.state.facet(ib))s(n)}get themeClasses(){return ub+" "+(this.state.facet(cb)?FQ:XQ)+" "+this.state.facet(Sh)}updateAttrs(){let e=hP(this,$Q,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(hi)?"true":"false",class:"cm-content",style:`${J.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),hP(this,Fx,n);let r=this.observer.ignore(()=>{let i=Bk(this.contentDOM,this.contentAttrs,n),a=Bk(this.dom,this.editorAttrs,e);return i||a});return this.editorAttrs=e,this.contentAttrs=n,r}showAnnouncements(e){let n=!0;for(let r of e)for(let i of r.effects)if(i.is(hb.announce)){n&&(this.announceDOM.textContent=""),n=!1;let a=this.announceDOM.appendChild(document.createElement("div"));a.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(gc);let e=this.state.facet(hb.cspNonce);ga.mount(this.root,this.styleModules.concat(Yue).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.plugin!=e)&&this.pluginMap.set(e,n=this.plugins.find(r=>r.plugin==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,r){return B0(this,e,qk(this,e,n,r))}moveByGroup(e,n){return B0(this,e,qk(this,e,n,r=>uue(this,e.head,r)))}visualLineSide(e,n){let r=this.bidiSpans(e),i=this.textDirectionAt(e.from),a=r[n?r.length-1:0];return W.cursor(a.side(n,i)+e.from,a.forward(!n,i)?1:-1)}moveToLineBoundary(e,n,r=!0){return cue(this,e,n,r)}moveVertically(e,n,r){return B0(this,e,fue(this,e,n,r))}domAtPos(e,n=1){return this.docView.domAtPos(e,n)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){this.readMeasured();let r=sb(this,e,n);return r&&r.pos}posAndSideAtCoords(e,n=!0){return this.readMeasured(),sb(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let r=this.docView.coordsAt(e,n);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),a=this.bidiSpans(i),o=a[qr.find(a,e-i.from,-1,n)];return Dp(r,o.dir==Te.LTR==n>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(xQ)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>efe)return dQ(e.length);let n=this.textDirectionAt(e.from),r;for(let a of this.bidiCache)if(a.from==e.from&&a.dir==n&&(a.fresh||hQ(a.isolates,r=Xk(this,e))))return a.order;r||(r=Xk(this,e));let i=Ice(e.text,n,r);return this.bidiCache.push(new Xp(e.from,e.to,n,r,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||J.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{oQ(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return vh.of(new _s(typeof e=="number"?W.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:n}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return vh.of(new _s(W.cursor(r.from),"start","start",r.top-e,n,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return ut.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return ut.define(()=>({}),{eventObservers:e})}static theme(e,n){let r=ga.newName(),i=[Sh.of(r),gc.of(fb(`.${r}`,e))];return n&&n.dark&&i.push(cb.of(!0)),i}static baseTheme(e){return Ta.lowest(gc.of(fb("."+ub,e,VQ)))}static findFromDOM(e){var n;let r=e.querySelector(".cm-content"),i=r&&ct.get(r)||ct.get(e);return((n=i==null?void 0:i.root)===null||n===void 0?void 0:n.view)||null}};ee.styleModule=gc;ee.inputHandler=OQ;ee.clipboardInputFilter=Wx;ee.clipboardOutputFilter=Xx;ee.scrollHandler=SQ;ee.focusChangeEffect=bQ;ee.perLineTextDirection=xQ;ee.exceptionSink=yQ;ee.updateListener=ib;ee.editable=hi;ee.mouseSelectionStyle=vQ;ee.dragMovesSelection=gQ;ee.clickAddsSelectionRange=mQ;ee.decorations=gg;ee.blockWrappers=kQ;ee.outerDecorations=Vx;ee.atomicRanges=Sf;ee.bidiIsolatedRanges=PQ;ee.scrollMargins=AQ;ee.darkTheme=cb;ee.cspNonce=H.define({combine:t=>t.length?t[0]:""});ee.contentAttributes=Fx;ee.editorAttributes=$Q;ee.lineWrapping=ee.contentAttributes.of({class:"cm-lineWrapping"});ee.announce=se.define();const efe=4096,fP={};class Xp{constructor(e,n,r,i,a,o){this.from=e,this.to=n,this.dir=r,this.isolates=i,this.fresh=a,this.order=o}static update(e,n){if(n.empty&&!e.some(a=>a.fresh))return e;let r=[],i=e.length?e[e.length-1].dir:Te.LTR;for(let a=Math.max(0,e.length-10);a<e.length;a++){let o=e[a];o.dir==i&&!n.touchesRange(o.from,o.to)&&r.push(new Xp(n.mapPos(o.from,1),n.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return r}}function hP(t,e,n){for(let r=t.state.facet(e),i=r.length-1;i>=0;i--){let a=r[i],o=typeof a=="function"?a(t):a;o&&Lx(o,n)}return n}const tfe=J.mac?"mac":J.windows?"win":J.linux?"linux":"key";function nfe(t,e){const n=t.split(/-(?!$)/);let r=n[n.length-1];r=="Space"&&(r=" ");let i,a,o,s;for(let l=0;l<n.length-1;++l){const c=n[l];if(/^(cmd|meta|m)$/i.test(c))s=!0;else if(/^a(lt)?$/i.test(c))i=!0;else if(/^(c|ctrl|control)$/i.test(c))a=!0;else if(/^s(hift)?$/i.test(c))o=!0;else if(/^mod$/i.test(c))e=="mac"?s=!0:a=!0;else throw new Error("Unrecognized modifier name: "+c)}return i&&(r="Alt-"+r),a&&(r="Ctrl-"+r),s&&(r="Meta-"+r),o&&(r="Shift-"+r),r}function _h(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}const rfe=Ta.default(ee.domEventHandlers({keydown(t,e){return qQ(UQ(e.state),t,e,"editor")}})),bg=H.define({enables:rfe}),dP=new WeakMap;function UQ(t){let e=t.facet(bg),n=dP.get(e);return n||dP.set(e,n=ofe(e.reduce((r,i)=>r.concat(i),[]))),n}function ife(t,e,n){return qQ(UQ(t.state),e,t,n)}let Yi=null;const afe=4e3;function ofe(t,e=tfe){let n=Object.create(null),r=Object.create(null),i=(o,s)=>{let l=r[o];if(l==null)r[o]=s;else if(l!=s)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},a=(o,s,l,c,u)=>{var f,h;let d=n[o]||(n[o]=Object.create(null)),p=s.split(/ (?!$)/).map(g=>nfe(g,e));for(let g=1;g<p.length;g++){let y=p.slice(0,g).join(" ");i(y,!0),d[y]||(d[y]={preventDefault:!0,stopPropagation:!1,run:[x=>{let _=Yi={view:x,prefix:y,scope:o};return setTimeout(()=>{Yi==_&&(Yi=null)},afe),!0}]})}let m=p.join(" ");i(m,!1);let v=d[m]||(d[m]={preventDefault:!1,stopPropagation:!1,run:((h=(f=d._any)===null||f===void 0?void 0:f.run)===null||h===void 0?void 0:h.slice())||[]});l&&v.run.push(l),c&&(v.preventDefault=!0),u&&(v.stopPropagation=!0)};for(let o of t){let s=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let c of s){let u=n[c]||(n[c]=Object.create(null));u._any||(u._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:f}=o;for(let h in u)u[h].run.push(d=>f(d,db))}let l=o[e]||o.key;if(l)for(let c of s)a(c,l,o.run,o.preventDefault,o.stopPropagation),o.shift&&a(c,"Shift-"+l,o.shift,o.preventDefault,o.stopPropagation)}return n}let db=null;function qQ(t,e,n,r){db=e;let i=Oce(e),a=fn(i,0),o=Xr(a)==i.length&&i!=" ",s="",l=!1,c=!1,u=!1;Yi&&Yi.view==n&&Yi.scope==r&&(s=Yi.prefix+" ",IQ.indexOf(e.keyCode)<0&&(c=!0,Yi=null));let f=new Set,h=v=>{if(v){for(let g of v.run)if(!f.has(g)&&(f.add(g),g(n)))return v.stopPropagation&&(u=!0),!0;v.preventDefault&&(v.stopPropagation&&(u=!0),c=!0)}return!1},d=t[r],p,m;return d&&(h(d[s+_h(i,e,!o)])?l=!0:o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(J.windows&&e.ctrlKey&&e.altKey)&&!(J.mac&&e.altKey&&!(e.ctrlKey||e.metaKey))&&(p=va[e.keyCode])&&p!=i?(h(d[s+_h(p,e,!0)])||e.shiftKey&&(m=Vu[e.keyCode])!=i&&m!=p&&h(d[s+_h(m,e,!1)]))&&(l=!0):o&&e.shiftKey&&h(d[s+_h(i,e,!0)])&&(l=!0),!l&&h(d._any)&&(l=!0)),c&&(l=!0),l&&u&&e.stopPropagation(),db=null,l}class _f{constructor(e,n,r,i,a){this.className=e,this.left=n,this.top=r,this.width=i,this.height=a}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,n){return n.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,n,r){if(r.empty){let i=e.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let a=YQ(e);return[new _f(n,i.left-a.left,i.top-a.top,null,i.bottom-i.top)]}else return sfe(e,n,r)}}function YQ(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==Te.LTR?e.left:e.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function pP(t,e,n,r){let i=t.coordsAtPos(e,n*2);if(!i)return r;let a=t.dom.getBoundingClientRect(),o=(i.top+i.bottom)/2,s=t.posAtCoords({x:a.left+1,y:o}),l=t.posAtCoords({x:a.right-1,y:o});return s==null||l==null?r:{from:Math.max(r.from,Math.min(s,l)),to:Math.min(r.to,Math.max(s,l))}}function sfe(t,e,n){if(n.to<=t.viewport.from||n.from>=t.viewport.to)return[];let r=Math.max(n.from,t.viewport.from),i=Math.min(n.to,t.viewport.to),a=t.textDirection==Te.LTR,o=t.contentDOM,s=o.getBoundingClientRect(),l=YQ(t),c=o.querySelector(".cm-line"),u=c&&window.getComputedStyle(c),f=s.left+(u?parseInt(u.paddingLeft)+Math.min(0,parseInt(u.textIndent)):0),h=s.right-(u?parseInt(u.paddingRight):0),d=ob(t,r,1),p=ob(t,i,-1),m=d.type==Lt.Text?d:null,v=p.type==Lt.Text?p:null;if(m&&(t.lineWrapping||d.widgetLineBreaks)&&(m=pP(t,r,1,m)),v&&(t.lineWrapping||p.widgetLineBreaks)&&(v=pP(t,i,-1,v)),m&&v&&m.from==v.from&&m.to==v.to)return y(x(n.from,n.to,m));{let O=m?x(n.from,null,m):_(d,!1),w=v?x(null,n.to,v):_(p,!0),$=[];return(m||d).to<(v||p).from-(m&&v?1:0)||d.widgetLineBreaks>1&&O.bottom+t.defaultLineHeight/2<w.top?$.push(g(f,O.bottom,h,w.top)):O.bottom<w.top&&t.elementAtHeight((O.bottom+w.top)/2).type==Lt.Text&&(O.bottom=w.top=(O.bottom+w.top)/2),y(O).concat($).concat(y(w))}function g(O,w,$,k){return new _f(e,O-l.left,w-l.top,Math.max(0,$-O),k-w)}function y({top:O,bottom:w,horizontal:$}){let k=[];for(let P=0;P<$.length;P+=2)k.push(g($[P],O,$[P+1],w));return k}function x(O,w,$){let k=1e9,P=-1e9,T=[];function j(C,Q,L,I,M){let R=t.coordsAtPos(C,C==$.to?-2:2),B=t.coordsAtPos(L,L==$.from?2:-2);!R||!B||(k=Math.min(R.top,B.top,k),P=Math.max(R.bottom,B.bottom,P),M==Te.LTR?T.push(a&&Q?f:R.left,a&&I?h:B.right):T.push(!a&&I?f:B.left,!a&&Q?h:R.right))}let A=O??$.from,N=w??$.to;for(let C of t.visibleRanges)if(C.to>A&&C.from<N)for(let Q=Math.max(C.from,A),L=Math.min(C.to,N);;){let I=t.state.doc.lineAt(Q);for(let M of t.bidiSpans(I)){let R=M.from+I.from,B=M.to+I.from;if(R>=L)break;B>Q&&j(Math.max(R,Q),O==null&&R<=A,Math.min(B,L),w==null&&B>=N,M.dir)}if(Q=I.to+1,Q>=L)break}return T.length==0&&j(A,O==null,N,w==null,t.textDirection),{top:k,bottom:P,horizontal:T}}function _(O,w){let $=s.top+(w?O.top:O.bottom);return{top:$,bottom:$,horizontal:[]}}}function lfe(t,e){return t.constructor==e.constructor&&t.eq(e)}class cfe{constructor(e,n){this.view=e,this.layer=n,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),n.above&&this.dom.classList.add("cm-layer-above"),n.class&&this.dom.classList.add(n.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),n.mount&&n.mount(this.dom,e)}update(e){e.startState.facet(ed)!=e.state.facet(ed)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let n=0,r=e.facet(ed);for(;n<r.length&&r[n]!=this.layer;)n++;this.dom.style.zIndex=String((this.layer.above?150:-1)-n)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:n}=this.view;(e!=this.scaleX||n!=this.scaleY)&&(this.scaleX=e,this.scaleY=n,this.dom.style.transform=`scale(${1/e}, ${1/n})`)}draw(e){if(e.length!=this.drawn.length||e.some((n,r)=>!lfe(n,this.drawn[r]))){let n=this.dom.firstChild,r=0;for(let i of e)i.update&&n&&i.constructor&&this.drawn[r].constructor&&i.update(n,this.drawn[r])?(n=n.nextSibling,r++):this.dom.insertBefore(i.draw(),n);for(;n;){let i=n.nextSibling;n.remove(),n=i}this.drawn=e,J.safari&&J.safari_version>=26&&(this.dom.style.display=this.dom.firstChild?"":"none")}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const ed=H.define();function GQ(t){return[ut.define(e=>new cfe(e,t)),ed.of(t)]}const Gu=H.define({combine(t){return oi(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,n)=>Math.min(e,n),drawRangeCursor:(e,n)=>e||n})}});function ufe(t={}){return[Gu.of(t),ffe,hfe,dfe,wQ.of(!0)]}function HQ(t){return t.startState.facet(Gu)!=t.state.facet(Gu)}const ffe=GQ({above:!0,markers(t){let{state:e}=t,n=e.facet(Gu),r=[];for(let i of e.selection.ranges){let a=i==e.selection.main;if(i.empty||n.drawRangeCursor){let o=a?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",s=i.empty?i:W.cursor(i.head,i.head>i.anchor?-1:1);for(let l of _f.forRange(t,o,s))r.push(l)}}return r},update(t,e){t.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let n=HQ(t);return n&&mP(t.state,e),t.docChanged||t.selectionSet||n},mount(t,e){mP(e.state,t)},class:"cm-cursorLayer"});function mP(t,e){e.style.animationDuration=t.facet(Gu).cursorBlinkRate+"ms"}const hfe=GQ({above:!1,markers(t){return t.state.selection.ranges.map(e=>e.empty?[]:_f.forRange(t,"cm-selectionBackground",e)).reduce((e,n)=>e.concat(n))},update(t,e){return t.docChanged||t.selectionSet||t.viewportChanged||HQ(t)},class:"cm-selectionLayer"}),dfe=Ta.highest(ee.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),KQ=se.define({map(t,e){return t==null?null:e.mapPos(t)}}),Oc=Et.define({create(){return null},update(t,e){return t!=null&&(t=e.changes.mapPos(t)),e.effects.reduce((n,r)=>r.is(KQ)?r.value:n,t)}}),pfe=ut.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let n=t.state.field(Oc);n==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(Oc)!=n||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:t}=this,e=t.state.field(Oc),n=e!=null&&t.coordsAtPos(e);if(!n)return null;let r=t.scrollDOM.getBoundingClientRect();return{left:n.left-r.left+t.scrollDOM.scrollLeft*t.scaleX,top:n.top-r.top+t.scrollDOM.scrollTop*t.scaleY,height:n.bottom-n.top}}drawCursor(t){if(this.cursor){let{scaleX:e,scaleY:n}=this.view;t?(this.cursor.style.left=t.left/e+"px",this.cursor.style.top=t.top/n+"px",this.cursor.style.height=t.height/n+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(Oc)!=t&&this.view.dispatch({effects:KQ.of(t)})}},{eventObservers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){(t.target==this.view.contentDOM||!this.view.contentDOM.contains(t.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function mfe(){return[Oc,pfe]}function gP(t,e,n,r,i){e.lastIndex=0;for(let a=t.iterRange(n,r),o=n,s;!a.next().done;o+=a.value.length)if(!a.lineBreak)for(;s=e.exec(a.value);)i(o+s.index,s)}function gfe(t,e){let n=t.visibleRanges;if(n.length==1&&n[0].from==t.viewport.from&&n[0].to==t.viewport.to)return n;let r=[];for(let{from:i,to:a}of n)i=Math.max(t.state.doc.lineAt(i).from,i-e),a=Math.min(t.state.doc.lineAt(a).to,a+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=a:r.push({from:i,to:a});return r}class vfe{constructor(e){const{regexp:n,decoration:r,decorate:i,boundary:a,maxLength:o=1e3}=e;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=n,i)this.addMatch=(s,l,c,u)=>i(u,c,c+s[0].length,s,l);else if(typeof r=="function")this.addMatch=(s,l,c,u)=>{let f=r(s,l,c);f&&u(c,c+s[0].length,f)};else if(r)this.addMatch=(s,l,c,u)=>u(c,c+s[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=a,this.maxLength=o}createDeco(e){let n=new Ci,r=n.add.bind(n);for(let{from:i,to:a}of gfe(e,this.maxLength))gP(e.state.doc,this.regexp,i,a,(o,s)=>this.addMatch(s,e,o,r));return n.finish()}updateDeco(e,n){let r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((a,o,s,l)=>{l>=e.view.viewport.from&&s<=e.view.viewport.to&&(r=Math.min(s,r),i=Math.max(l,i))}),e.viewportMoved||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,n.map(e.changes),r,i):n}updateRange(e,n,r,i){for(let a of e.visibleRanges){let o=Math.max(a.from,r),s=Math.min(a.to,i);if(s>=o){let l=e.state.doc.lineAt(o),c=l.to<s?e.state.doc.lineAt(s):l,u=Math.max(a.from,l.from),f=Math.min(a.to,c.to);if(this.boundary){for(;o>l.from;o--)if(this.boundary.test(l.text[o-1-l.from])){u=o;break}for(;s<c.to;s++)if(this.boundary.test(c.text[s-c.from])){f=s;break}}let h=[],d,p=(m,v,g)=>h.push(g.range(m,v));if(l==c)for(this.regexp.lastIndex=u-l.from;(d=this.regexp.exec(l.text))&&d.index<f-l.from;)this.addMatch(d,e,d.index+l.from,p);else gP(e.state.doc,this.regexp,u,f,(m,v)=>this.addMatch(v,e,m,p));n=n.update({filterFrom:u,filterTo:f,filter:(m,v)=>m<u||v>f,add:h})}}return n}}const pb=/x/.unicode!=null?"gu":"g",yfe=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,pb),Ofe={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let X0=null;function bfe(){var t;if(X0==null&&typeof document<"u"&&document.body){let e=document.body.style;X0=((t=e.tabSize)!==null&&t!==void 0?t:e.MozTabSize)!=null}return X0||!1}const td=H.define({combine(t){let e=oi(t,{render:null,specialChars:yfe,addSpecialChars:null});return(e.replaceTabs=!bfe())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,pb)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,pb)),e}});function xfe(t={}){return[td.of(t),wfe()]}let vP=null;function wfe(){return vP||(vP=ut.fromClass(class{constructor(t){this.view=t,this.decorations=re.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(td)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new vfe({regexp:t.specialChars,decoration:(e,n,r)=>{let{doc:i}=n.state,a=fn(e[0],0);if(a==9){let o=i.lineAt(r),s=n.state.tabSize,l=Ml(o.text,s,r-o.from);return re.replace({widget:new kfe((s-l%s)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[a]||(this.decorationCache[a]=re.replace({widget:new $fe(t,a)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(td);t.startState.facet(td)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))}const Sfe="";function _fe(t){return t>=32?Sfe:t==10?"":String.fromCharCode(9216+t)}class $fe extends si{constructor(e,n){super(),this.options=e,this.code=n}eq(e){return e.code==this.code}toDOM(e){let n=_fe(this.code),r=e.state.phrase("Control character")+" "+(Ofe[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,n);if(i)return i;let a=document.createElement("span");return a.textContent=n,a.title=r,a.setAttribute("aria-label",r),a.className="cm-specialChar",a}ignoreEvent(){return!1}}class kfe extends si{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function Pfe(){return Cfe}const Afe=re.line({class:"cm-activeLine"}),Cfe=ut.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let r of t.state.selection.ranges){let i=t.lineBlockAt(r.head);i.from>e&&(n.push(Afe.range(i.from)),e=i.from)}return re.set(n)}},{decorations:t=>t.decorations}),mb=2e3;function Efe(t,e,n){let r=Math.min(e.line,n.line),i=Math.max(e.line,n.line),a=[];if(e.off>mb||n.off>mb||e.col<0||n.col<0){let o=Math.min(e.off,n.off),s=Math.max(e.off,n.off);for(let l=r;l<=i;l++){let c=t.doc.line(l);c.length<=s&&a.push(W.range(c.from+o,c.to+s))}}else{let o=Math.min(e.col,n.col),s=Math.max(e.col,n.col);for(let l=r;l<=i;l++){let c=t.doc.line(l),u=UO(c.text,o,t.tabSize,!0);if(u<0)a.push(W.cursor(c.to));else{let f=UO(c.text,s,t.tabSize);a.push(W.range(c.from+u,c.from+f))}}}return a}function Tfe(t,e){let n=t.coordsAtPos(t.viewport.from);return n?Math.round(Math.abs((n.left-e)/t.defaultCharacterWidth)):-1}function yP(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1),r=t.state.doc.lineAt(n),i=n-r.from,a=i>mb?-1:i==r.length?Tfe(t,e.clientX):Ml(r.text,t.state.tabSize,n-r.from);return{line:r.number,col:a,off:i}}function Mfe(t,e){let n=yP(t,e),r=t.state.selection;return n?{update(i){if(i.docChanged){let a=i.changes.mapPos(i.startState.doc.line(n.line).from),o=i.state.doc.lineAt(a);n={line:o.number,col:n.col,off:Math.min(n.off,o.length)},r=r.map(i.changes)}},get(i,a,o){let s=yP(t,i);if(!s)return r;let l=Efe(t.state,n,s);return l.length?o?W.create(l.concat(r.ranges)):W.create(l):r}}:null}function jfe(t){let e=n=>n.altKey&&n.button==0;return ee.mouseSelectionStyle.of((n,r)=>e(r)?Mfe(n,r):null)}const Qfe={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},zfe={style:"cursor: crosshair"};function Ife(t={}){let[e,n]=Qfe[t.key||"Alt"],r=ut.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||n(i))},keyup(i){(i.keyCode==e||!n(i))&&this.set(!1)},mousemove(i){this.set(n(i))}}});return[r,ee.contentAttributes.of(i=>{var a;return!((a=i.plugin(r))===null||a===void 0)&&a.isDown?zfe:null})]}const $h="-10000px";class JQ{constructor(e,n,r,i){this.facet=n,this.createTooltipView=r,this.removeTooltipView=i,this.input=e.state.facet(n),this.tooltips=this.input.filter(o=>o);let a=null;this.tooltipViews=this.tooltips.map(o=>a=r(o,a))}update(e,n){var r;let i=e.state.facet(this.facet),a=i.filter(l=>l);if(i===this.input){for(let l of this.tooltipViews)l.update&&l.update(e);return!1}let o=[],s=n?[]:null;for(let l=0;l<a.length;l++){let c=a[l],u=-1;if(c){for(let f=0;f<this.tooltips.length;f++){let h=this.tooltips[f];h&&h.create==c.create&&(u=f)}if(u<0)o[l]=this.createTooltipView(c,l?o[l-1]:null),s&&(s[l]=!!c.above);else{let f=o[l]=this.tooltipViews[u];s&&(s[l]=n[u]),f.update&&f.update(e)}}}for(let l of this.tooltipViews)o.indexOf(l)<0&&(this.removeTooltipView(l),(r=l.destroy)===null||r===void 0||r.call(l));return n&&(s.forEach((l,c)=>n[c]=l),n.length=s.length),this.input=i,this.tooltips=a,this.tooltipViews=o,!0}}function Rfe(t){let e=t.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const F0=H.define({combine:t=>{var e,n,r;return{position:J.ios?"absolute":((e=t.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((n=t.find(i=>i.parent))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((r=t.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||Rfe}}}),OP=new WeakMap,Hx=ut.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(F0);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new JQ(t,Kx,(n,r)=>this.createTooltip(n,r),n=>{this.resizeObserver&&this.resizeObserver.unobserve(n.dom),n.dom.remove()}),this.above=this.manager.tooltips.map(n=>!!n.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(n=>{Date.now()>this.lastTransaction-50&&n.length>0&&n[n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let n=e||t.geometryChanged,r=t.state.facet(F0);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t,e){let n=t.create(this.view),r=e?e.dom:null;if(n.dom.classList.add("cm-tooltip"),t.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",n.dom.appendChild(i)}return n.dom.style.position=this.position,n.dom.style.top=$h,n.dom.style.left="0px",this.container.insertBefore(n.dom,r),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}destroy(){var t,e,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(t=r.destroy)===null||t===void 0||t.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(n=this.intersectionObserver)===null||n===void 0||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=1,e=1,n=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:a}=this.manager.tooltipViews[0];if(J.safari){let o=a.getBoundingClientRect();n=Math.abs(o.top+1e4)>1||Math.abs(o.left)>1}else n=!!a.offsetParent&&a.offsetParent!=this.container.ownerDocument.body}if(n||this.position=="absolute")if(this.parent){let a=this.parent.getBoundingClientRect();a.width&&a.height&&(t=a.width/this.parent.offsetWidth,e=a.height/this.parent.offsetHeight)}else({scaleX:t,scaleY:e}=this.view.viewState);let r=this.view.scrollDOM.getBoundingClientRect(),i=Ux(this.view);return{visible:{left:r.left+i.left,top:r.top+i.top,right:r.right-i.right,bottom:r.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((a,o)=>{let s=this.manager.tooltipViews[o];return s.getCoords?s.getCoords(a.pos):this.view.coordsAtPos(a.pos)}),size:this.manager.tooltipViews.map(({dom:a})=>a.getBoundingClientRect()),space:this.view.state.facet(F0).tooltipSpace(this.view),scaleX:t,scaleY:e,makeAbsolute:n}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let s of this.manager.tooltipViews)s.dom.style.position="absolute"}let{visible:n,space:r,scaleX:i,scaleY:a}=t,o=[];for(let s=0;s<this.manager.tooltips.length;s++){let l=this.manager.tooltips[s],c=this.manager.tooltipViews[s],{dom:u}=c,f=t.pos[s],h=t.size[s];if(!f||l.clip!==!1&&(f.bottom<=Math.max(n.top,r.top)||f.top>=Math.min(n.bottom,r.bottom)||f.right<Math.max(n.left,r.left)-.1||f.left>Math.min(n.right,r.right)+.1)){u.style.top=$h;continue}let d=l.arrow?c.dom.querySelector(".cm-tooltip-arrow"):null,p=d?7:0,m=h.right-h.left,v=(e=OP.get(c))!==null&&e!==void 0?e:h.bottom-h.top,g=c.offset||Nfe,y=this.view.textDirection==Te.LTR,x=h.width>r.right-r.left?y?r.left:r.right-h.width:y?Math.max(r.left,Math.min(f.left-(d?14:0)+g.x,r.right-m)):Math.min(Math.max(r.left,f.left-m+(d?14:0)-g.x),r.right-m),_=this.above[s];!l.strictSide&&(_?f.top-v-p-g.y<r.top:f.bottom+v+p+g.y>r.bottom)&&_==r.bottom-f.bottom>f.top-r.top&&(_=this.above[s]=!_);let O=(_?f.top-r.top:r.bottom-f.bottom)-p;if(O<v&&c.resize!==!1){if(O<this.view.defaultLineHeight){u.style.top=$h;continue}OP.set(c,v),u.style.height=(v=O)/a+"px"}else u.style.height&&(u.style.height="");let w=_?f.top-v-p-g.y:f.bottom+p+g.y,$=x+m;if(c.overlap!==!0)for(let k of o)k.left<$&&k.right>x&&k.top<w+v&&k.bottom>w&&(w=_?k.top-v-2-p:k.bottom+p+2);if(this.position=="absolute"?(u.style.top=(w-t.parent.top)/a+"px",bP(u,(x-t.parent.left)/i)):(u.style.top=w/a+"px",bP(u,x/i)),d){let k=f.left+(y?g.x:-g.x)-(x+14-7);d.style.left=k/i+"px"}c.overlap!==!0&&o.push({left:x,top:w,right:$,bottom:w+v}),u.classList.toggle("cm-tooltip-above",_),u.classList.toggle("cm-tooltip-below",!_),c.positioned&&c.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=$h}},{eventObservers:{scroll(){this.maybeMeasure()}}});function bP(t,e){let n=parseInt(t.style.left,10);(isNaN(n)||Math.abs(e-n)>1)&&(t.style.left=e+"px")}const Dfe=ee.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),Nfe={x:0,y:0},Kx=H.define({enables:[Hx,Dfe]}),Fp=H.define({combine:t=>t.reduce((e,n)=>e.concat(n),[])});class xg{static create(e){return new xg(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new JQ(e,Fp,(n,r)=>this.createHostedView(n,r),n=>n.dom.remove())}createHostedView(e,n){let r=e.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(r.dom,n?n.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let n of this.manager.tooltipViews)n.mount&&n.mount(e);this.mounted=!0}positioned(e){for(let n of this.manager.tooltipViews)n.positioned&&n.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let n of this.manager.tooltipViews)(e=n.destroy)===null||e===void 0||e.call(n)}passProp(e){let n;for(let r of this.manager.tooltipViews){let i=r[e];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const Lfe=Kx.compute([Fp],t=>{let e=t.facet(Fp);return e.length===0?null:{pos:Math.min(...e.map(n=>n.pos)),end:Math.max(...e.map(n=>{var r;return(r=n.end)!==null&&r!==void 0?r:n.pos})),create:xg.create,above:e[0].above,arrow:e.some(n=>n.arrow)}});class Bfe{constructor(e,n,r,i,a){this.view=e,this.source=n,this.field=r,this.setHover=i,this.hoverTime=a,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:n}=this,r=e.docView.tile.nearest(n.target);if(!r)return;let i,a=1;if(r.isWidget())i=r.posAtStart;else{if(i=e.posAtCoords(n),i==null)return;let s=e.coordsAtPos(i);if(!s||n.y<s.top||n.y>s.bottom||n.x<s.left-e.defaultCharacterWidth||n.x>s.right+e.defaultCharacterWidth)return;let l=e.bidiSpans(e.state.doc.lineAt(i)).find(u=>u.from<=i&&u.to>=i),c=l&&l.dir==Te.RTL?-1:1;a=n.x<s.left?-c:c}let o=this.source(e,i,a);if(o!=null&&o.then){let s=this.pending={pos:i};o.then(l=>{this.pending==s&&(this.pending=null,l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])}))},l=>gn(e.state,l,"hover tooltip"))}else o&&!(Array.isArray(o)&&!o.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(o)?o:[o])})}get tooltip(){let e=this.view.plugin(Hx),n=e?e.manager.tooltips.findIndex(r=>r.create==xg.create):-1;return n>-1?e.manager.tooltipViews[n]:null}mousemove(e){var n,r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:a}=this;if(i.length&&a&&!Zfe(a.dom,e)||this.pending){let{pos:o}=i[0]||this.pending,s=(r=(n=i[0])===null||n===void 0?void 0:n.end)!==null&&r!==void 0?r:o;(o==s?this.view.posAtCoords(this.lastMove)!=o:!Wfe(this.view,o,s,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:n}=this;if(n.length){let{tooltip:r}=this;r&&r.dom.contains(e.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let n=r=>{e.removeEventListener("mouseleave",n),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",n)}destroy(){clearTimeout(this.hoverTimeout),clearTimeout(this.restartTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const kh=4;function Zfe(t,e){let{left:n,right:r,top:i,bottom:a}=t.getBoundingClientRect(),o;if(o=t.querySelector(".cm-tooltip-arrow")){let s=o.getBoundingClientRect();i=Math.min(s.top,i),a=Math.max(s.bottom,a)}return e.clientX>=n-kh&&e.clientX<=r+kh&&e.clientY>=i-kh&&e.clientY<=a+kh}function Wfe(t,e,n,r,i,a){let o=t.scrollDOM.getBoundingClientRect(),s=t.documentTop+t.documentPadding.top+t.contentHeight;if(o.left>r||o.right<r||o.top>i||Math.min(o.bottom,s)<i)return!1;let l=t.posAtCoords({x:r,y:i},!1);return l>=e&&l<=n}function Xfe(t,e={}){let n=se.define(),r=Et.define({create(){return[]},update(i,a){if(i.length&&(e.hideOnChange&&(a.docChanged||a.selection)?i=[]:e.hideOn&&(i=i.filter(o=>!e.hideOn(a,o))),a.docChanged)){let o=[];for(let s of i){let l=a.changes.mapPos(s.pos,-1,Rt.TrackDel);if(l!=null){let c=Object.assign(Object.create(null),s);c.pos=l,c.end!=null&&(c.end=a.changes.mapPos(c.end)),o.push(c)}}i=o}for(let o of a.effects)o.is(n)&&(i=o.value),o.is(Ffe)&&(i=[]);return i},provide:i=>Fp.from(i)});return{active:r,extension:[r,ut.define(i=>new Bfe(i,t,r,n,e.hoverTime||300)),Lfe]}}function e3(t,e){let n=t.plugin(Hx);if(!n)return null;let r=n.manager.tooltips.indexOf(e);return r<0?null:n.manager.tooltipViews[r]}const Ffe=se.define(),xP=H.define({combine(t){let e,n;for(let r of t)e=e||r.topContainer,n=n||r.bottomContainer;return{topContainer:e,bottomContainer:n}}});function Jx(t,e){let n=t.plugin(t3),r=n?n.specs.indexOf(e):-1;return r>-1?n.panels[r]:null}const t3=ut.fromClass(class{constructor(t){this.input=t.state.facet(Hu),this.specs=this.input.filter(n=>n),this.panels=this.specs.map(n=>n(t));let e=t.state.facet(xP);this.top=new Ph(t,!0,e.topContainer),this.bottom=new Ph(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(n=>n.top)),this.bottom.sync(this.panels.filter(n=>!n.top));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(t){let e=t.state.facet(xP);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Ph(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Ph(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=t.state.facet(Hu);if(n!=this.input){let r=n.filter(l=>l),i=[],a=[],o=[],s=[];for(let l of r){let c=this.specs.indexOf(l),u;c<0?(u=l(t.view),s.push(u)):(u=this.panels[c],u.update&&u.update(t)),i.push(u),(u.top?a:o).push(u)}this.specs=r,this.panels=i,this.top.sync(a),this.bottom.sync(o);for(let l of s)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let r of this.panels)r.update&&r.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>ee.scrollMargins.of(e=>{let n=e.plugin(t);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}})});class Ph{constructor(e,n,r){this.view=e,this.top=n,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let n of this.panels)n.destroy&&e.indexOf(n)<0&&n.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let n=this.container||this.view.dom;n.insertBefore(this.dom,this.top?n.firstChild:null)}let e=this.dom.firstChild;for(let n of this.panels)if(n.dom.parentNode==this.dom){for(;e!=n.dom;)e=wP(e);e=e.nextSibling}else this.dom.insertBefore(n.dom,e);for(;e;)e=wP(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function wP(t){let e=t.nextSibling;return t.remove(),e}const Hu=H.define({enables:t3});function Vfe(t,e){let n,r=new Promise(o=>n=o),i=o=>Ufe(o,e,n);t.state.field(V0,!1)?t.dispatch({effects:n3.of(i)}):t.dispatch({effects:se.appendConfig.of(V0.init(()=>[i]))});let a=r3.of(i);return{close:a,result:r.then(o=>((t.win.queueMicrotask||(l=>t.win.setTimeout(l,10)))(()=>{t.state.field(V0).indexOf(i)>-1&&t.dispatch({effects:a})}),o))}}const V0=Et.define({create(){return[]},update(t,e){for(let n of e.effects)n.is(n3)?t=[n.value].concat(t):n.is(r3)&&(t=t.filter(r=>r!=n.value));return t},provide:t=>Hu.computeN([t],e=>e.field(t))}),n3=se.define(),r3=se.define();function Ufe(t,e,n){let r=e.content?e.content(t,()=>o(null)):null;if(!r){if(r=Pe("form"),e.input){let s=Pe("input",e.input);/^(text|password|number|email|tel|url)$/.test(s.type)&&s.classList.add("cm-textfield"),s.name||(s.name="input"),r.appendChild(Pe("label",(e.label||"")+": ",s))}else r.appendChild(document.createTextNode(e.label||""));r.appendChild(document.createTextNode(" ")),r.appendChild(Pe("button",{class:"cm-button",type:"submit"},e.submitLabel||"OK"))}let i=r.nodeName=="FORM"?[r]:r.querySelectorAll("form");for(let s=0;s<i.length;s++){let l=i[s];l.addEventListener("keydown",c=>{c.keyCode==27?(c.preventDefault(),o(null)):c.keyCode==13&&(c.preventDefault(),o(l))}),l.addEventListener("submit",c=>{c.preventDefault(),o(l)})}let a=Pe("div",r,Pe("button",{onclick:()=>o(null),"aria-label":t.state.phrase("close"),class:"cm-dialog-close",type:"button"},[""]));e.class&&(a.className=e.class),a.classList.add("cm-dialog");function o(s){a.contains(a.ownerDocument.activeElement)&&t.focus(),n(s)}return{dom:a,top:e.top,mount:()=>{if(e.focus){let s;typeof e.focus=="string"?s=r.querySelector(e.focus):s=r.querySelector("input")||r.querySelector("button"),s&&"select"in s?s.select():s&&"focus"in s&&s.focus()}}}}class Ti extends ma{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Ti.prototype.elementClass="";Ti.prototype.toDOM=void 0;Ti.prototype.mapMode=Rt.TrackBefore;Ti.prototype.startSide=Ti.prototype.endSide=-1;Ti.prototype.point=!0;const nd=H.define(),qfe=H.define(),Yfe={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>de.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},Zc=H.define();function Gfe(t){return[i3(),Zc.of({...Yfe,...t})]}const SP=H.define({combine:t=>t.some(e=>e)});function i3(t){return[Hfe]}const Hfe=ut.fromClass(class{constructor(t){this.view=t,this.domAfter=null,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(Zc).map(e=>new $P(t,e)),this.fixed=!t.state.facet(SP);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,r=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(r<(n.to-n.from)*.8)}if(t.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(SP)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let n=de.iter(this.view.state.facet(nd),this.view.viewport.from),r=[],i=this.gutters.map(a=>new Kfe(a,this.view.viewport,-this.view.documentPadding.top));for(let a of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(a.type)){let o=!0;for(let s of a.type)if(s.type==Lt.Text&&o){gb(n,r,s.from);for(let l of i)l.line(this.view,s,r);o=!1}else if(s.widget)for(let l of i)l.widget(this.view,s)}else if(a.type==Lt.Text){gb(n,r,a.from);for(let o of i)o.line(this.view,a,r)}else if(a.widget)for(let o of i)o.widget(this.view,a);for(let a of i)a.finish();t&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(t){let e=t.startState.facet(Zc),n=t.state.facet(Zc),r=t.docChanged||t.heightChanged||t.viewportChanged||!de.eq(t.startState.facet(nd),t.state.facet(nd),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let i of this.gutters)i.update(t)&&(r=!0);else{r=!0;let i=[];for(let a of n){let o=e.indexOf(a);o<0?i.push(new $P(this.view,a)):(this.gutters[o].update(t),i.push(this.gutters[o]))}for(let a of this.gutters)a.dom.remove(),i.indexOf(a)<0&&a.destroy();for(let a of i)a.config.side=="after"?this.getDOMAfter().appendChild(a.dom):this.dom.appendChild(a.dom);this.gutters=i}return r}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:t=>ee.scrollMargins.of(e=>{let n=e.plugin(t);if(!n||n.gutters.length==0||!n.fixed)return null;let r=n.dom.offsetWidth*e.scaleX,i=n.domAfter?n.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==Te.LTR?{left:r,right:i}:{right:r,left:i}})});function _P(t){return Array.isArray(t)?t:[t]}function gb(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class Kfe{constructor(e,n,r){this.gutter=e,this.height=r,this.i=0,this.cursor=de.iter(e.markers,n.from)}addElement(e,n,r){let{gutter:i}=this,a=(n.top-this.height)/e.scaleY,o=n.height/e.scaleY;if(this.i==i.elements.length){let s=new a3(e,o,a,r);i.elements.push(s),i.dom.appendChild(s.dom)}else i.elements[this.i].update(e,o,a,r);this.height=n.bottom,this.i++}line(e,n,r){let i=[];gb(this.cursor,i,n.from),r.length&&(i=i.concat(r));let a=this.gutter.config.lineMarker(e,n,i);a&&i.unshift(a);let o=this.gutter;i.length==0&&!o.config.renderEmptyElements||this.addElement(e,n,i)}widget(e,n){let r=this.gutter.config.widgetMarker(e,n.widget,n),i=r?[r]:null;for(let a of e.state.facet(qfe)){let o=a(e,n.widget,n);o&&(i||(i=[])).push(o)}i&&this.addElement(e,n,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let n=e.elements.pop();e.dom.removeChild(n.dom),n.destroy()}}}class $P{constructor(e,n){this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in n.domEventHandlers)this.dom.addEventListener(r,i=>{let a=i.target,o;if(a!=this.dom&&this.dom.contains(a)){for(;a.parentNode!=this.dom;)a=a.parentNode;let l=a.getBoundingClientRect();o=(l.top+l.bottom)/2}else o=i.clientY;let s=e.lineBlockAtHeight(o-e.documentTop);n.domEventHandlers[r](e,s,i)&&i.preventDefault()});this.markers=_P(n.markers(e)),n.initialSpacer&&(this.spacer=new a3(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let n=this.markers;if(this.markers=_P(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!de.eq(this.markers,n,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class a3{constructor(e,n,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,n,r,i)}update(e,n,r,i){this.height!=n&&(this.height=n,this.dom.style.height=n+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),Jfe(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,n){let r="cm-gutterElement",i=this.dom.firstChild;for(let a=0,o=0;;){let s=o,l=a<n.length?n[a++]:null,c=!1;if(l){let u=l.elementClass;u&&(r+=" "+u);for(let f=o;f<this.markers.length;f++)if(this.markers[f].compare(l)){s=f,c=!0;break}}else s=this.markers.length;for(;o<s;){let u=this.markers[o++];if(u.toDOM){u.destroy(i);let f=i.nextSibling;i.remove(),i=f}}if(!l)break;l.toDOM&&(c?i=i.nextSibling:this.dom.insertBefore(l.toDOM(e),i)),c&&o++}this.dom.className=r,this.markers=n}destroy(){this.setMarkers(null,[])}}function Jfe(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}const ehe=H.define(),the=H.define(),ls=H.define({combine(t){return oi(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,n){let r=Object.assign({},e);for(let i in n){let a=r[i],o=n[i];r[i]=a?(s,l,c)=>a(s,l,c)||o(s,l,c):o}return r}})}});class U0 extends Ti{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function q0(t,e){return t.state.facet(ls).formatNumber(e,t.state)}const nhe=Zc.compute([ls],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(ehe)},lineMarker(e,n,r){return r.some(i=>i.toDOM)?null:new U0(q0(e,e.state.doc.lineAt(n.from).number))},widgetMarker:(e,n,r)=>{for(let i of e.state.facet(the)){let a=i(e,n,r);if(a)return a}return null},lineMarkerChange:e=>e.startState.facet(ls)!=e.state.facet(ls),initialSpacer(e){return new U0(q0(e,kP(e.state.doc.lines)))},updateSpacer(e,n){let r=q0(n.view,kP(n.view.state.doc.lines));return r==e.number?e:new U0(r)},domEventHandlers:t.facet(ls).domEventHandlers,side:"before"}));function rhe(t={}){return[ls.of(t),i3(),nhe]}function kP(t){let e=9;for(;e<t;)e=e*10+9;return e}const ihe=new class extends Ti{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},ahe=nd.compute(["selection"],t=>{let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.head).from;i>n&&(n=i,e.push(ihe.range(i)))}return de.of(e)});function ohe(){return ahe}const o3=1024;let she=0;class Y0{constructor(e,n){this.from=e,this.to=n}}class he{constructor(e={}){this.id=she++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=e.combine||null}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Sn.match(e)),n=>{let r=e(n);return r===void 0?null:[this,r]}}}he.closedBy=new he({deserialize:t=>t.split(" ")});he.openedBy=new he({deserialize:t=>t.split(" ")});he.group=new he({deserialize:t=>t.split(" ")});he.isolate=new he({deserialize:t=>{if(t&&t!="rtl"&&t!="ltr"&&t!="auto")throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}});he.contextHash=new he({perNode:!0});he.lookAhead=new he({perNode:!0});he.mounted=new he({perNode:!0});class Wc{constructor(e,n,r,i=!1){this.tree=e,this.overlay=n,this.parser=r,this.bracketed=i}static get(e){return e&&e.props&&e.props[he.mounted.id]}}const lhe=Object.create(null);class Sn{constructor(e,n,r,i=0){this.name=e,this.props=n,this.id=r,this.flags=i}static define(e){let n=e.props&&e.props.length?Object.create(null):lhe,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new Sn(e.name||"",n,e.id,r);if(e.props){for(let a of e.props)if(Array.isArray(a)||(a=a(i)),a){if(a[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[a[0].id]=a[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(he.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let r in e)for(let i of r.split(" "))n[i]=e[r];return r=>{for(let i=r.prop(he.group),a=-1;a<(i?i.length:0);a++){let o=n[a<0?r.name:i[a]];if(o)return o}}}}Sn.none=new Sn("",Object.create(null),0,8);class ew{constructor(e){this.types=e;for(let n=0;n<e.length;n++)if(e[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let n=[];for(let r of this.types){let i=null;for(let a of e){let o=a(r);if(o){i||(i=Object.assign({},r.props));let s=o[1],l=o[0];l.combine&&l.id in i&&(s=l.combine(i[l.id],s)),i[l.id]=s}}n.push(i?new Sn(r.name,i,r.id,r.flags):r)}return new ew(n)}}const Ah=new WeakMap,PP=new WeakMap;var Ve;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays",t[t.EnterBracketed=16]="EnterBracketed"})(Ve||(Ve={}));class nt{constructor(e,n,r,i,a){if(this.type=e,this.children=n,this.positions=r,this.length=i,this.props=null,a&&a.length){this.props=Object.create(null);for(let[o,s]of a)this.props[typeof o=="number"?o:o.id]=s}}toString(){let e=Wc.get(this);if(e&&!e.overlay)return e.tree.toString();let n="";for(let r of this.children){let i=r.toString();i&&(n&&(n+=","),n+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new yb(this.topNode,e)}cursorAt(e,n=0,r=0){let i=Ah.get(this)||this.topNode,a=new yb(i);return a.moveTo(e,n),Ah.set(this,a._tree),a}get topNode(){return new wn(this,0,0,null)}resolve(e,n=0){let r=Ku(Ah.get(this)||this.topNode,e,n,!1);return Ah.set(this,r),r}resolveInner(e,n=0){let r=Ku(PP.get(this)||this.topNode,e,n,!0);return PP.set(this,r),r}resolveStack(e,n=0){return fhe(this,e,n)}iterate(e){let{enter:n,leave:r,from:i=0,to:a=this.length}=e,o=e.mode||0,s=(o&Ve.IncludeAnonymous)>0;for(let l=this.cursor(o|Ve.IncludeAnonymous);;){let c=!1;if(l.from<=a&&l.to>=i&&(!s&&l.type.isAnonymous||n(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&r&&(s||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:rw(Sn.none,this.children,this.positions,0,this.children.length,0,this.length,(n,r,i)=>new nt(this.type,n,r,i,this.propValues),e.makeTree||((n,r,i)=>new nt(Sn.none,n,r,i)))}static build(e){return hhe(e)}}nt.empty=new nt(Sn.none,[],[],0);class tw{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new tw(this.buffer,this.index)}}class Oa{constructor(e,n,r){this.buffer=e,this.length=n,this.set=r}get type(){return Sn.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],r=this.buffer[e+3],i=this.set.types[n],a=i.name;if(/\W/.test(a)&&!i.isError&&(a=JSON.stringify(a)),e+=4,r==e)return a;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return a+"("+o.join(",")+")"}findChild(e,n,r,i,a){let{buffer:o}=this,s=-1;for(let l=e;l!=n&&!(s3(a,i,o[l+1],o[l+2])&&(s=l,r>0));l=o[l+3]);return s}slice(e,n,r){let i=this.buffer,a=new Uint16Array(n-e),o=0;for(let s=e,l=0;s<n;){a[l++]=i[s++],a[l++]=i[s++]-r;let c=a[l++]=i[s++]-r;a[l++]=i[s++]-e,o=Math.max(o,c)}return new Oa(a,o,this.set)}}function s3(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function Ku(t,e,n,r){for(var i;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let o=!r&&t instanceof wn&&t.index<0?null:t.parent;if(!o)return t;t=o}let a=r?0:Ve.IgnoreOverlays;if(r)for(let o=t,s=o.parent;s;o=s,s=o.parent)o instanceof wn&&o.index<0&&((i=s.enter(e,n,a))===null||i===void 0?void 0:i.from)!=o.from&&(t=s);for(;;){let o=t.enter(e,n,a);if(!o)return t;t=o}}class l3{cursor(e=0){return new yb(this,e)}getChild(e,n=null,r=null){let i=AP(this,e,n,r);return i.length?i[0]:null}getChildren(e,n=null,r=null){return AP(this,e,n,r)}resolve(e,n=0){return Ku(this,e,n,!1)}resolveInner(e,n=0){return Ku(this,e,n,!0)}matchContext(e){return vb(this.parent,e)}enterUnfinishedNodesBefore(e){let n=this.childBefore(e),r=this;for(;n;){let i=n.lastChild;if(!i||i.to!=n.to)break;i.type.isError&&i.from==i.to?(r=n,n=i.prevSibling):n=i}return r}get node(){return this}get next(){return this.parent}}class wn extends l3{constructor(e,n,r,i){super(),this._tree=e,this.from=n,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,r,i,a=0){for(let o=this;;){for(let{children:s,positions:l}=o._tree,c=n>0?s.length:-1;e!=c;e+=n){let u=s[e],f=l[e]+o.from,h;if(!(!(a&Ve.EnterBracketed&&u instanceof nt&&(h=Wc.get(u))&&!h.overlay&&h.bracketed&&r>=f&&r<=f+u.length)&&!s3(i,r,f,f+u.length))){if(u instanceof Oa){if(a&Ve.ExcludeBuffers)continue;let d=u.findChild(0,u.buffer.length,n,r-f,i);if(d>-1)return new Yr(new che(o,u,e,f),null,d)}else if(a&Ve.IncludeAnonymous||!u.type.isAnonymous||nw(u)){let d;if(!(a&Ve.IgnoreMounts)&&(d=Wc.get(u))&&!d.overlay)return new wn(d.tree,f,e,o);let p=new wn(u,f,e,o);return a&Ve.IncludeAnonymous||!p.type.isAnonymous?p:p.nextChild(n<0?u.children.length-1:0,n,r,i,a)}}}if(a&Ve.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+n:e=n<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}prop(e){return this._tree.prop(e)}enter(e,n,r=0){let i;if(!(r&Ve.IgnoreOverlays)&&(i=Wc.get(this._tree))&&i.overlay){let a=e-this.from,o=r&Ve.EnterBracketed&&i.bracketed;for(let{from:s,to:l}of i.overlay)if((n>0||o?s<=a:s<a)&&(n<0||o?l>=a:l>a))return new wn(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function AP(t,e,n,r){let i=t.cursor(),a=[];if(!i.firstChild())return a;if(n!=null){for(let o=!1;!o;)if(o=i.type.is(n),!i.nextSibling())return a}for(;;){if(r!=null&&i.type.is(r))return a;if(i.type.is(e)&&a.push(i.node),!i.nextSibling())return r==null?a:[]}}function vb(t,e,n=e.length-1){for(let r=t;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}class che{constructor(e,n,r,i){this.parent=e,this.buffer=n,this.index=r,this.start=i}}class Yr extends l3{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,r){super(),this.context=e,this._parent=n,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,n,r){let{buffer:i}=this.context,a=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.context.start,r);return a<0?null:new Yr(this.context,this,a)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}prop(e){return this.type.prop(e)}enter(e,n,r=0){if(r&Ve.ExcludeBuffers)return null;let{buffer:i}=this.context,a=i.findChild(this.index+4,i.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return a<0?null:new Yr(this.context,this,a)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Yr(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new Yr(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],n=[],{buffer:r}=this.context,i=this.index+4,a=r.buffer[this.index+3];if(a>i){let o=r.buffer[this.index+1];e.push(r.slice(i,a,o)),n.push(0)}return new nt(this.type,e,n,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function c3(t){if(!t.length)return null;let e=0,n=t[0];for(let a=1;a<t.length;a++){let o=t[a];(o.from>n.from||o.to<n.to)&&(n=o,e=a)}let r=n instanceof wn&&n.index<0?null:n.parent,i=t.slice();return r?i[e]=r:i.splice(e,1),new uhe(i,n)}class uhe{constructor(e,n){this.heads=e,this.node=n}get next(){return c3(this.heads)}}function fhe(t,e,n){let r=t.resolveInner(e,n),i=null;for(let a=r instanceof wn?r:r.context.parent;a;a=a.parent)if(a.index<0){let o=a.parent;(i||(i=[r])).push(o.resolve(e,n)),a=o}else{let o=Wc.get(a.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let s=new wn(o.tree,o.overlay[0].from+a.from,-1,a);(i||(i=[r])).push(Ku(s,e,n,!1))}}return i?c3(i):r}class yb{get name(){return this.type.name}constructor(e,n=0){if(this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,this.mode=n&~Ve.EnterBracketed,e instanceof wn)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=n||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof wn?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,r,this.mode));let{buffer:i}=this.buffer,a=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.buffer.start,r);return a<0?!1:(this.stack.push(this.index),this.yieldBuf(a))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,r=this.mode){return this.buffer?r&Ve.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Ve.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Ve.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(n.findChild(i,this.index,-1,0,4))}else{let i=n.buffer[this.index+3];if(i<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let a=0;a<this.index;a++)if(i.buffer.buffer[a+3]<this.index)return!1;({index:n,parent:r}=i)}else({index:n,_parent:r}=this._tree);for(;r;{index:n,_parent:r}=r)if(n>-1)for(let a=n+e,o=e<0?-1:r._tree.children.length;a!=o;a+=e){let s=r._tree.children[a];if(this.mode&Ve.IncludeAnonymous||s instanceof Oa||!s.type.isAnonymous||nw(s))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,a=this.stack.length;a>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;n=o,r=a+1;break e}i=this.stack[--a]}for(let i=r;i<this.stack.length;i++)n=new Yr(this.buffer,n,this.stack[i]);return this.bufferNode=new Yr(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&n&&n(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return vb(this.node.parent,e);let{buffer:n}=this.buffer,{types:r}=n.set;for(let i=e.length-1,a=this.stack.length-1;i>=0;a--){if(a<0)return vb(this._tree,e,i);let o=r[n.buffer[this.stack[a]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}}function nw(t){return t.children.some(e=>e instanceof Oa||!e.type.isAnonymous||nw(e))}function hhe(t){var e;let{buffer:n,nodeSet:r,maxBufferLength:i=o3,reused:a=[],minRepeatType:o=r.types.length}=t,s=Array.isArray(n)?new tw(n,n.length):n,l=r.types,c=0,u=0;function f(O,w,$,k,P,T){let{id:j,start:A,end:N,size:C}=s,Q=u,L=c;if(C<0)if(s.next(),C==-1){let F=a[j];$.push(F),k.push(A-O);return}else if(C==-3){c=j;return}else if(C==-4){u=j;return}else throw new RangeError(`Unrecognized record size: ${C}`);let I=l[j],M,R,B=A-O;if(N-A<=i&&(R=v(s.pos-w,P))){let F=new Uint16Array(R.size-R.skip),X=s.pos-R.size,G=F.length;for(;s.pos>X;)G=g(R.start,F,G);M=new Oa(F,N-R.start,r),B=R.start-O}else{let F=s.pos-C;s.next();let X=[],G=[],ae=j>=o?j:-1,ge=0,ke=N;for(;s.pos>F;)ae>=0&&s.id==ae&&s.size>=0?(s.end<=ke-i&&(p(X,G,A,ge,s.end,ke,ae,Q,L),ge=X.length,ke=s.end),s.next()):T>2500?h(A,F,X,G):f(A,F,X,G,ae,T+1);if(ae>=0&&ge>0&&ge<X.length&&p(X,G,A,ge,A,ke,ae,Q,L),X.reverse(),G.reverse(),ae>-1&&ge>0){let St=d(I,L);M=rw(I,X,G,0,X.length,0,N-A,St,St)}else M=m(I,X,G,N-A,Q-N,L)}$.push(M),k.push(B)}function h(O,w,$,k){let P=[],T=0,j=-1;for(;s.pos>w;){let{id:A,start:N,end:C,size:Q}=s;if(Q>4)s.next();else{if(j>-1&&N<j)break;j<0&&(j=C-i),P.push(A,N,C),T++,s.next()}}if(T){let A=new Uint16Array(T*4),N=P[P.length-2];for(let C=P.length-3,Q=0;C>=0;C-=3)A[Q++]=P[C],A[Q++]=P[C+1]-N,A[Q++]=P[C+2]-N,A[Q++]=Q;$.push(new Oa(A,P[2]-N,r)),k.push(N-O)}}function d(O,w){return($,k,P)=>{let T=0,j=$.length-1,A,N;if(j>=0&&(A=$[j])instanceof nt){if(!j&&A.type==O&&A.length==P)return A;(N=A.prop(he.lookAhead))&&(T=k[j]+A.length+N)}return m(O,$,k,P,T,w)}}function p(O,w,$,k,P,T,j,A,N){let C=[],Q=[];for(;O.length>k;)C.push(O.pop()),Q.push(w.pop()+$-P);O.push(m(r.types[j],C,Q,T-P,A-T,N)),w.push(P-$)}function m(O,w,$,k,P,T,j){if(T){let A=[he.contextHash,T];j=j?[A].concat(j):[A]}if(P>25){let A=[he.lookAhead,P];j=j?[A].concat(j):[A]}return new nt(O,w,$,k,j)}function v(O,w){let $=s.fork(),k=0,P=0,T=0,j=$.end-i,A={size:0,start:0,skip:0};e:for(let N=$.pos-O;$.pos>N;){let C=$.size;if($.id==w&&C>=0){A.size=k,A.start=P,A.skip=T,T+=4,k+=4,$.next();continue}let Q=$.pos-C;if(C<0||Q<N||$.start<j)break;let L=$.id>=o?4:0,I=$.start;for($.next();$.pos>Q;){if($.size<0)if($.size==-3||$.size==-4)L+=4;else break e;else $.id>=o&&(L+=4);$.next()}P=I,k+=C,T+=L}return(w<0||k==O)&&(A.size=k,A.start=P,A.skip=T),A.size>4?A:void 0}function g(O,w,$){let{id:k,start:P,end:T,size:j}=s;if(s.next(),j>=0&&k<o){let A=$;if(j>4){let N=s.pos-(j-4);for(;s.pos>N;)$=g(O,w,$)}w[--$]=A,w[--$]=T-O,w[--$]=P-O,w[--$]=k}else j==-3?c=k:j==-4&&(u=k);return $}let y=[],x=[];for(;s.pos>0;)f(t.start||0,t.bufferStart||0,y,x,-1,0);let _=(e=t.length)!==null&&e!==void 0?e:y.length?x[0]+y[0].length:0;return new nt(l[t.topID],y.reverse(),x.reverse(),_)}const CP=new WeakMap;function rd(t,e){if(!t.isAnonymous||e instanceof Oa||e.type!=t)return 1;let n=CP.get(e);if(n==null){n=1;for(let r of e.children){if(r.type!=t||!(r instanceof nt)){n=1;break}n+=rd(t,r)}CP.set(e,n)}return n}function rw(t,e,n,r,i,a,o,s,l){let c=0;for(let p=r;p<i;p++)c+=rd(t,e[p]);let u=Math.ceil(c*1.5/8),f=[],h=[];function d(p,m,v,g,y){for(let x=v;x<g;){let _=x,O=m[x],w=rd(t,p[x]);for(x++;x<g;x++){let $=rd(t,p[x]);if(w+$>=u)break;w+=$}if(x==_+1){if(w>u){let $=p[_];d($.children,$.positions,0,$.children.length,m[_]+y);continue}f.push(p[_])}else{let $=m[x-1]+p[x-1].length-O;f.push(rw(t,p,m,_,x,O,$,null,l))}h.push(O+y-a)}}return d(e,n,r,i,0),(s||l)(f,h,o)}class dhe{constructor(){this.map=new WeakMap}setBuffer(e,n,r){let i=this.map.get(e);i||this.map.set(e,i=new Map),i.set(n,r)}getBuffer(e,n){let r=this.map.get(e);return r&&r.get(n)}set(e,n){e instanceof Yr?this.setBuffer(e.context.buffer,e.index,n):e instanceof wn&&this.map.set(e.tree,n)}get(e){return e instanceof Yr?this.getBuffer(e.context.buffer,e.index):e instanceof wn?this.map.get(e.tree):void 0}cursorSet(e,n){e.buffer?this.setBuffer(e.buffer.buffer,e.index,n):this.map.set(e.tree,n)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class so{constructor(e,n,r,i,a=!1,o=!1){this.from=e,this.to=n,this.tree=r,this.offset=i,this.open=(a?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],r=!1){let i=[new so(0,e.length,e,0,!1,r)];for(let a of n)a.to>e.length&&i.push(a);return i}static applyChanges(e,n,r=128){if(!n.length)return e;let i=[],a=1,o=e.length?e[0]:null;for(let s=0,l=0,c=0;;s++){let u=s<n.length?n[s]:null,f=u?u.fromA:1e9;if(f-l>=r)for(;o&&o.from<f;){let h=o;if(l>=h.from||f<=h.to||c){let d=Math.max(h.from,l)-c,p=Math.min(h.to,f)-c;h=d>=p?null:new so(d,p,h.tree,h.offset+c,s>0,!!u)}if(h&&i.push(h),o.to>f)break;o=a<e.length?e[a++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return i}}class u3{startParse(e,n,r){return typeof e=="string"&&(e=new phe(e)),r=r?r.length?r.map(i=>new Y0(i.from,i.to)):[new Y0(0,0)]:[new Y0(0,e.length)],this.createParse(e,n||[],r)}parse(e,n,r){let i=this.startParse(e,n,r);for(;;){let a=i.advance();if(a)return a}}}class phe{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}}new he({perNode:!0});var EP={};class Vp{constructor(e,n,r,i,a,o,s,l,c,u=0,f){this.p=e,this.stack=n,this.state=r,this.reducePos=i,this.pos=a,this.score=o,this.buffer=s,this.bufferBase=l,this.curContext=c,this.lookAhead=u,this.parent=f}toString(){return`[${this.stack.filter((e,n)=>n%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,n,r=0){let i=e.parser.context;return new Vp(e,[],n,r,r,0,[],0,i?new TP(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,n){this.stack.push(this.state,n,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var n;let r=e>>19,i=e&65535,{parser:a}=this.p,o=this.reducePos<this.pos-25&&this.setLookAhead(this.pos),s=a.dynamicPrecedence(i);if(s&&(this.score+=s),r==0){this.pushState(a.getGoto(this.state,i,!0),this.reducePos),i<a.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,o?8:4,!0),this.reduceContext(i,this.reducePos);return}let l=this.stack.length-(r-1)*3-(e&262144?6:0),c=l?this.stack[l-2]:this.p.ranges[0].from,u=this.reducePos-c;u>=2e3&&!(!((n=this.p.parser.nodeSet.types[i])===null||n===void 0)&&n.isAnonymous)&&(c==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=u):this.p.lastBigReductionSize<u&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=c,this.p.lastBigReductionSize=u));let f=l?this.stack[l-1]:0,h=this.bufferBase+this.buffer.length-f;if(i<a.minRepeatTerm||e&131072){let d=a.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,c,d,h+4,!0)}if(e&262144)this.state=this.stack[l];else{let d=this.stack[l-3];this.state=a.getGoto(d,i,!0)}for(;this.stack.length>l;)this.stack.pop();this.reduceContext(i,c)}storeNode(e,n,r,i=4,a=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,s=this.buffer.length;if(s==0&&o.parent&&(s=o.bufferBase-o.parent.bufferBase,o=o.parent),s>0&&o.buffer[s-4]==0&&o.buffer[s-1]>-1){if(n==r)return;if(o.buffer[s-2]>=n){o.buffer[s-2]=r;return}}}if(!a||this.pos==r)this.buffer.push(e,n,r,i);else{let o=this.buffer.length;if(o>0&&(this.buffer[o-4]!=0||this.buffer[o-1]<0)){let s=!1;for(let l=o;l>0&&this.buffer[l-2]>r;l-=4)if(this.buffer[l-1]>=0){s=!0;break}if(s)for(;o>0&&this.buffer[o-2]>r;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,i>4&&(i-=4)}this.buffer[o]=e,this.buffer[o+1]=n,this.buffer[o+2]=r,this.buffer[o+3]=i}}shift(e,n,r,i){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=i,this.shiftContext(n,r),n<=this.p.parser.maxNode&&this.buffer.push(n,r,i,4);else{let a=e,{parser:o}=this.p;this.pos=i;let s=o.stateFlag(a,1);!s&&(i>r||n<=o.maxNode)&&(this.reducePos=i),this.pushState(a,s?r:Math.min(r,this.reducePos)),this.shiftContext(n,r),n<=o.maxNode&&this.buffer.push(n,r,i,4)}}apply(e,n,r,i){e&65536?this.reduce(e):this.shift(e,n,r,i)}useNode(e,n){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(n,i),this.buffer.push(r,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,n=e.buffer.length;for(;n>0&&e.buffer[n-2]>e.reducePos;)n-=4;let r=e.buffer.slice(n),i=e.bufferBase+n;for(;e&&i==e.bufferBase;)e=e.parent;return new Vp(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,n){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,n,4),this.storeNode(0,this.pos,n,r?8:4),this.pos=this.reducePos=n,this.score-=190}canShift(e){for(let n=new mhe(this);;){let r=this.p.parser.stateSlot(n.state,4)||this.p.parser.hasAction(n.state,e);if(r==0)return!1;if(!(r&65536))return!0;n.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let n=this.p.parser.nextStates(this.state);if(n.length>8||this.stack.length>=120){let i=[];for(let a=0,o;a<n.length;a+=2)(o=n[a+1])!=this.state&&this.p.parser.hasAction(o,e)&&i.push(n[a],o);if(this.stack.length<120)for(let a=0;i.length<8&&a<n.length;a+=2){let o=n[a+1];i.some((s,l)=>l&1&&s==o)||i.push(n[a],o)}n=i}let r=[];for(let i=0;i<n.length&&r.length<4;i+=2){let a=n[i+1];if(a==this.state)continue;let o=this.split();o.pushState(a,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(n[i],this.pos),o.reducePos=this.pos,o.score-=200,r.push(o)}return r}forceReduce(){let{parser:e}=this.p,n=e.stateSlot(this.state,5);if(!(n&65536))return!1;if(!e.validAction(this.state,n)){let r=n>>19,i=n&65535,a=this.stack.length-r*3;if(a<0||e.getGoto(this.stack[a],i,!1)<0){let o=this.findForcedReduction();if(o==null)return!1;n=o}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(n),!0}findForcedReduction(){let{parser:e}=this.p,n=[],r=(i,a)=>{if(!n.includes(i))return n.push(i),e.allActions(i,o=>{if(!(o&393216))if(o&65536){let s=(o>>19)-a;if(s>1){let l=o&65535,c=this.stack.length-s*3;if(c>=0&&e.getGoto(this.stack[c],l,!1)>=0)return s<<19|65536|l}}else{let s=r(o,a+1);if(s!=null)return s}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let n=0;n<this.stack.length;n+=3)if(this.stack[n]!=e.stack[n])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(n)))}reduceContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(n)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let n=new TP(this.curContext.tracker,e);n.hash!=this.curContext.hash&&this.emitContext(),this.curContext=n}}setLookAhead(e){return e<=this.lookAhead?!1:(this.emitLookAhead(),this.lookAhead=e,!0)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class TP{constructor(e,n){this.tracker=e,this.context=n,this.hash=e.strict?e.hash(n):0}}class mhe{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let n=e&65535,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],n,!0);this.state=i}}class Up{constructor(e,n,r){this.stack=e,this.pos=n,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,n=e.bufferBase+e.buffer.length){return new Up(e,n,n-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new Up(this.stack,this.pos,this.index)}}function bc(t,e=Uint16Array){if(typeof t!="string")return t;let n=null;for(let r=0,i=0;r<t.length;){let a=0;for(;;){let o=t.charCodeAt(r++),s=!1;if(o==126){a=65535;break}o>=92&&o--,o>=34&&o--;let l=o-32;if(l>=46&&(l-=46,s=!0),a+=l,s)break;a*=46}n?n[i++]=a:n=new e(a)}return n}class id{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const MP=new id;class ghe{constructor(e,n){this.input=e,this.ranges=n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=MP,this.rangeIndex=0,this.pos=this.chunkPos=n[0].from,this.range=n[0],this.end=n[n.length-1].to,this.readNext()}resolveOffset(e,n){let r=this.range,i=this.rangeIndex,a=this.pos+e;for(;a<r.from;){if(!i)return null;let o=this.ranges[--i];a-=r.from-o.to,r=o}for(;n<0?a>r.to:a>=r.to;){if(i==this.ranges.length-1)return null;let o=this.ranges[++i];a+=o.from-r.to,r=o}return a}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let n of this.ranges)if(n.to>e)return Math.max(e,n.from);return this.end}peek(e){let n=this.chunkOff+e,r,i;if(n>=0&&n<this.chunk.length)r=this.pos+e,i=this.chunk.charCodeAt(n);else{let a=this.resolveOffset(e,1);if(a==null)return-1;if(r=a,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let o=this.rangeIndex,s=this.range;for(;s.to<=r;)s=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>s.to&&(this.chunk2=this.chunk2.slice(0,s.to-r)),i=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),i}acceptToken(e,n=0){let r=n?this.resolveOffset(n,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}acceptTokenTo(e,n){this.token.value=e,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:n}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=n,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),n=this.pos+e.length;this.chunk=n>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,n){if(n?(this.token=n,n.start=e,n.lookAhead=e+1,n.value=n.extended=-1):this.token=MP,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,n){if(e>=this.chunkPos&&n<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,n-this.chunkPos);if(e>=this.chunk2Pos&&n<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,n-this.chunk2Pos);if(e>=this.range.from&&n<=this.range.to)return this.input.read(e,n);let r="";for(let i of this.ranges){if(i.from>=n)break;i.to>e&&(r+=this.input.read(Math.max(i.from,e),Math.min(i.to,n)))}return r}}class $s{constructor(e,n){this.data=e,this.id=n}token(e,n){let{parser:r}=n.p;f3(this.data,e,n,this.id,r.data,r.tokenPrecTable)}}$s.prototype.contextual=$s.prototype.fallback=$s.prototype.extend=!1;class Ob{constructor(e,n,r){this.precTable=n,this.elseToken=r,this.data=typeof e=="string"?bc(e):e}token(e,n){let r=e.pos,i=0;for(;;){let a=e.next<0,o=e.resolveOffset(1,1);if(f3(this.data,e,n,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(a||i++,o==null)break;e.reset(o,e.token)}i&&(e.reset(r,e.token),e.acceptToken(this.elseToken,i))}}Ob.prototype.contextual=$s.prototype.fallback=$s.prototype.extend=!1;class $f{constructor(e,n={}){this.token=e,this.contextual=!!n.contextual,this.fallback=!!n.fallback,this.extend=!!n.extend}}function f3(t,e,n,r,i,a){let o=0,s=1<<r,{dialect:l}=n.p.parser;e:for(;s&t[o];){let c=t[o+1];for(let d=o+3;d<c;d+=2)if((t[d+1]&s)>0){let p=t[d];if(l.allows(p)&&(e.token.value==-1||e.token.value==p||vhe(p,e.token.value,i,a))){e.acceptToken(p);break}}let u=e.next,f=0,h=t[o+2];if(e.next<0&&h>f&&t[c+h*3-3]==65535){o=t[c+h*3-1];continue e}for(;f<h;){let d=f+h>>1,p=c+d+(d<<1),m=t[p],v=t[p+1]||65536;if(u<m)h=d;else if(u>=v)f=d+1;else{o=t[p+2],e.advance();continue e}}break}}function jP(t,e,n){for(let r=e,i;(i=t[r])!=65535;r++)if(i==n)return r-e;return-1}function vhe(t,e,n,r){let i=jP(n,r,e);return i<0||jP(n,r,t)<i}const En=typeof process<"u"&&EP&&/\bparse\b/.test(EP.LOG);let G0=null;function QP(t,e,n){let r=t.cursor(Ve.IncludeAnonymous);for(r.moveTo(e);;)if(!(n<0?r.childBefore(e):r.childAfter(e)))for(;;){if((n<0?r.to<e:r.from>e)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(t.length,Math.max(r.from+1,e+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:t.length}}class yhe{constructor(e,n){this.fragments=e,this.nodeSet=n,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?QP(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?QP(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let n=this.trees.length-1;if(n<0)return this.nextFragment(),null;let r=this.trees[n],i=this.index[n];if(i==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let a=r.children[i],o=this.start[n]+r.positions[i];if(o>e)return this.nextStart=o,null;if(a instanceof nt){if(o==e){if(o<this.safeFrom)return null;let s=o+a.length;if(s<=this.safeTo){let l=a.prop(he.lookAhead);if(!l||s+l<this.fragment.to)return a}}this.index[n]++,o+a.length>=Math.max(this.safeFrom,e)&&(this.trees.push(a),this.start.push(o),this.index.push(0))}else this.index[n]++,this.nextStart=o+a.length}}}class Ohe{constructor(e,n){this.stream=n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new id)}getActions(e){let n=0,r=null,{parser:i}=e.p,{tokenizers:a}=i,o=i.stateSlot(e.state,3),s=e.curContext?e.curContext.hash:0,l=0;for(let c=0;c<a.length;c++){if(!(1<<c&o))continue;let u=a[c],f=this.tokens[c];if(!(r&&!u.fallback)&&((u.contextual||f.start!=e.pos||f.mask!=o||f.context!=s)&&(this.updateCachedToken(f,u,e),f.mask=o,f.context=s),f.lookAhead>f.end+25&&(l=Math.max(f.lookAhead,l)),f.value!=0)){let h=n;if(f.extended>-1&&(n=this.addActions(e,f.extended,f.end,n)),n=this.addActions(e,f.value,f.end,n),!u.extend&&(r=f,n>h))break}}for(;this.actions.length>n;)this.actions.pop();return l&&e.setLookAhead(l),!r&&e.pos==this.stream.end&&(r=new id,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,n=this.addActions(e,r.value,r.end,n)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let n=new id,{pos:r,p:i}=e;return n.start=r,n.end=Math.min(r+1,i.stream.end),n.value=r==i.stream.end?i.parser.eofTerm:0,n}updateCachedToken(e,n,r){let i=this.stream.clipPos(r.pos);if(n.token(this.stream.reset(i,e),r),e.value>-1){let{parser:a}=r.p;for(let o=0;o<a.specialized.length;o++)if(a.specialized[o]==e.value){let s=a.specializers[o](this.stream.read(e.start,e.end),r);if(s>=0&&r.p.parser.dialect.allows(s>>1)){s&1?e.extended=s>>1:e.value=s>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,n,r,i){for(let a=0;a<i;a+=3)if(this.actions[a]==e)return i;return this.actions[i++]=e,this.actions[i++]=n,this.actions[i++]=r,i}addActions(e,n,r,i){let{state:a}=e,{parser:o}=e.p,{data:s}=o;for(let l=0;l<2;l++)for(let c=o.stateSlot(a,l?2:1);;c+=3){if(s[c]==65535)if(s[c+1]==1)c=fi(s,c+2);else{i==0&&s[c+1]==2&&(i=this.putAction(fi(s,c+2),n,r,i));break}s[c]==n&&(i=this.putAction(fi(s,c+1),n,r,i))}return i}}class bhe{constructor(e,n,r,i){this.parser=e,this.input=n,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new ghe(n,i),this.tokens=new Ohe(e,this.stream),this.topTerm=e.top[1];let{from:a}=i[0];this.stacks=[Vp.start(this,e.top[0],a)],this.fragments=r.length&&this.stream.end-a>e.bufferLength*4?new yhe(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,n=this.minStackPos,r=this.stacks=[],i,a;if(this.bigReductionCount>300&&e.length==1){let[o]=e;for(;o.forceReduce()&&o.stack.length&&o.stack[o.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<e.length;o++){let s=e[o];for(;;){if(this.tokens.mainToken=null,s.pos>n)r.push(s);else{if(this.advanceStack(s,r,e))continue;{i||(i=[],a=[]),i.push(s);let l=this.tokens.getMainToken(s);a.push(l.value,l.end)}}break}}if(!r.length){let o=i&&She(i);if(o)return En&&console.log("Finish with "+this.stackID(o)),this.stackToTree(o);if(this.parser.strict)throw En&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&i){let o=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,a,r);if(o)return En&&console.log("Force-finish "+this.stackID(o)),this.stackToTree(o.forceAll())}if(this.recovering){let o=this.recovering==1?1:this.recovering*3;if(r.length>o)for(r.sort((s,l)=>l.score-s.score);r.length>o;)r.pop();r.some(s=>s.reducePos>n)&&this.recovering--}else if(r.length>1){e:for(let o=0;o<r.length-1;o++){let s=r[o];for(let l=o+1;l<r.length;l++){let c=r[l];if(s.sameState(c)||s.buffer.length>500&&c.buffer.length>500)if((s.score-c.score||s.buffer.length-c.buffer.length)>0)r.splice(l--,1);else{r.splice(o--,1);continue e}}}r.length>12&&(r.sort((o,s)=>s.score-o.score),r.splice(12,r.length-12))}this.minStackPos=r[0].pos;for(let o=1;o<r.length;o++)r[o].pos<this.minStackPos&&(this.minStackPos=r[o].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,n,r){let i=e.pos,{parser:a}=this,o=En?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let c=e.curContext&&e.curContext.tracker.strict,u=c?e.curContext.hash:0;for(let f=this.fragments.nodeAt(i);f;){let h=this.parser.nodeSet.types[f.type.id]==f.type?a.getGoto(e.state,f.type.id):-1;if(h>-1&&f.length&&(!c||(f.prop(he.contextHash)||0)==u))return e.useNode(f,h),En&&console.log(o+this.stackID(e)+` (via reuse of ${a.getName(f.type.id)})`),!0;if(!(f instanceof nt)||f.children.length==0||f.positions[0]>0)break;let d=f.children[0];if(d instanceof nt&&f.positions[0]==0)f=d;else break}}let s=a.stateSlot(e.state,4);if(s>0)return e.reduce(s),En&&console.log(o+this.stackID(e)+` (via always-reduce ${a.getName(s&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let c=0;c<l.length;){let u=l[c++],f=l[c++],h=l[c++],d=c==l.length||!r,p=d?e:e.split(),m=this.tokens.mainToken;if(p.apply(u,f,m?m.start:p.pos,h),En&&console.log(o+this.stackID(p)+` (via ${u&65536?`reduce of ${a.getName(u&65535)}`:"shift"} for ${a.getName(f)} @ ${i}${p==e?"":", split"})`),d)return!0;p.pos>i?n.push(p):r.push(p)}return!1}advanceFully(e,n){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return zP(e,n),!0}}runRecovery(e,n,r){let i=null,a=!1;for(let o=0;o<e.length;o++){let s=e[o],l=n[o<<1],c=n[(o<<1)+1],u=En?this.stackID(s)+" -> ":"";if(s.deadEnd&&(a||(a=!0,s.restart(),En&&console.log(u+this.stackID(s)+" (restarted)"),this.advanceFully(s,r))))continue;let f=s.split(),h=u;for(let d=0;d<10&&f.forceReduce()&&(En&&console.log(h+this.stackID(f)+" (via force-reduce)"),!this.advanceFully(f,r));d++)En&&(h=this.stackID(f)+" -> ");for(let d of s.recoverByInsert(l))En&&console.log(u+this.stackID(d)+" (via recover-insert)"),this.advanceFully(d,r);this.stream.end>s.pos?(c==s.pos&&(c++,l=0),s.recoverByDelete(l,c),En&&console.log(u+this.stackID(s)+` (via recover-delete ${this.parser.getName(l)})`),zP(s,r)):(!i||i.score<f.score)&&(i=f)}return i}stackToTree(e){return e.close(),nt.build({buffer:Up.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let n=(G0||(G0=new WeakMap)).get(e);return n||G0.set(e,n=String.fromCodePoint(this.nextStackID++)),n+e}}function zP(t,e){for(let n=0;n<e.length;n++){let r=e[n];if(r.pos==t.pos&&r.sameState(t)){e[n].score<t.score&&(e[n]=t);return}}e.push(t)}class xhe{constructor(e,n,r){this.source=e,this.flags=n,this.disabled=r}allows(e){return!this.disabled||this.disabled[e]==0}}const H0=t=>t;class whe{constructor(e){this.start=e.start,this.shift=e.shift||H0,this.reduce=e.reduce||H0,this.reuse=e.reuse||H0,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class qp extends u3{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let n=e.nodeNames.split(" ");this.minRepeatTerm=n.length;for(let s=0;s<e.repeatNodeCount;s++)n.push("");let r=Object.keys(e.topRules).map(s=>e.topRules[s][1]),i=[];for(let s=0;s<n.length;s++)i.push([]);function a(s,l,c){i[s].push([l,l.deserialize(String(c))])}if(e.nodeProps)for(let s of e.nodeProps){let l=s[0];typeof l=="string"&&(l=he[l]);for(let c=1;c<s.length;){let u=s[c++];if(u>=0)a(u,l,s[c++]);else{let f=s[c+-u];for(let h=-u;h>0;h--)a(s[c++],l,f);c++}}}this.nodeSet=new ew(n.map((s,l)=>Sn.define({name:l>=this.minRepeatTerm?void 0:s,id:l,props:i[l],top:r.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=o3;let o=bc(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let s=0;s<this.specializerSpecs.length;s++)this.specialized[s]=this.specializerSpecs[s].term;this.specializers=this.specializerSpecs.map(IP),this.states=bc(e.states,Uint32Array),this.data=bc(e.stateData),this.goto=bc(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(s=>typeof s=="number"?new $s(o,s):s),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,n,r){let i=new bhe(this,e,n,r);for(let a of this.wrappers)i=a(i,e,n,r);return i}getGoto(e,n,r=!1){let i=this.goto;if(n>=i[0])return-1;for(let a=i[n+1];;){let o=i[a++],s=o&1,l=i[a++];if(s&&r)return l;for(let c=a+(o>>1);a<c;a++)if(i[a]==e)return l;if(s)return-1}}hasAction(e,n){let r=this.data;for(let i=0;i<2;i++)for(let a=this.stateSlot(e,i?2:1),o;;a+=3){if((o=r[a])==65535)if(r[a+1]==1)o=r[a=fi(r,a+2)];else{if(r[a+1]==2)return fi(r,a+2);break}if(o==n||o==0)return fi(r,a+1)}return 0}stateSlot(e,n){return this.states[e*6+n]}stateFlag(e,n){return(this.stateSlot(e,0)&n)>0}validAction(e,n){return!!this.allActions(e,r=>r==n?!0:null)}allActions(e,n){let r=this.stateSlot(e,4),i=r?n(r):void 0;for(let a=this.stateSlot(e,1);i==null;a+=3){if(this.data[a]==65535)if(this.data[a+1]==1)a=fi(this.data,a+2);else break;i=n(fi(this.data,a+1))}return i}nextStates(e){let n=[];for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=fi(this.data,r+2);else break;if(!(this.data[r+2]&1)){let i=this.data[r+1];n.some((a,o)=>o&1&&a==i)||n.push(this.data[r],i)}}return n}configure(e){let n=Object.assign(Object.create(qp.prototype),this);if(e.props&&(n.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);n.top=r}return e.tokenizers&&(n.tokenizers=this.tokenizers.map(r=>{let i=e.tokenizers.find(a=>a.from==r);return i?i.to:r})),e.specializers&&(n.specializers=this.specializers.slice(),n.specializerSpecs=this.specializerSpecs.map((r,i)=>{let a=e.specializers.find(s=>s.from==r.external);if(!a)return r;let o=Object.assign(Object.assign({},r),{external:a.to});return n.specializers[i]=IP(o),o})),e.contextTracker&&(n.context=e.contextTracker),e.dialect&&(n.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(n.strict=e.strict),e.wrap&&(n.wrappers=n.wrappers.concat(e.wrap)),e.bufferLength!=null&&(n.bufferLength=e.bufferLength),n}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let n=this.dynamicPrecedences;return n==null?0:n[e]||0}parseDialect(e){let n=Object.keys(this.dialects),r=n.map(()=>!1);if(e)for(let a of e.split(" ")){let o=n.indexOf(a);o>=0&&(r[o]=!0)}let i=null;for(let a=0;a<n.length;a++)if(!r[a])for(let o=this.dialects[n[a]],s;(s=this.data[o++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[s]=1;return new xhe(e,r,i)}static deserialize(e){return new qp(e)}}function fi(t,e){return t[e]|t[e+1]<<16}function She(t){let e=null;for(let n of t){let r=n.p.stoppedAt;(n.pos==n.p.stream.end||r!=null&&n.pos>r)&&n.p.parser.stateFlag(n.state,2)&&(!e||e.score<n.score)&&(e=n)}return e}function IP(t){if(t.external){let e=t.extend?1:0;return(n,r)=>t.external(n,r)<<1|e}return t.get}let _he=0;class Hn{constructor(e,n,r,i){this.name=e,this.set=n,this.base=r,this.modified=i,this.id=_he++}toString(){let{name:e}=this;for(let n of this.modified)n.name&&(e=`${n.name}(${e})`);return e}static define(e,n){let r=typeof e=="string"?e:"?";if(e instanceof Hn&&(n=e),n!=null&&n.base)throw new Error("Can not derive from a modified tag");let i=new Hn(r,[],null,[]);if(i.set.push(i),n)for(let a of n.set)i.set.push(a);return i}static defineModifier(e){let n=new Yp(e);return r=>r.modified.indexOf(n)>-1?r:Yp.get(r.base||r,r.modified.concat(n).sort((i,a)=>i.id-a.id))}}let $he=0;class Yp{constructor(e){this.name=e,this.instances=[],this.id=$he++}static get(e,n){if(!n.length)return e;let r=n[0].instances.find(s=>s.base==e&&khe(n,s.modified));if(r)return r;let i=[],a=new Hn(e.name,i,e,n);for(let s of n)s.instances.push(a);let o=Phe(n);for(let s of e.set)if(!s.modified.length)for(let l of o)i.push(Yp.get(s,l));return a}}function khe(t,e){return t.length==e.length&&t.every((n,r)=>n==e[r])}function Phe(t){let e=[[]];for(let n=0;n<t.length;n++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(t[n]));return e.sort((n,r)=>r.length-n.length)}function h3(t){let e=Object.create(null);for(let n in t){let r=t[n];Array.isArray(r)||(r=[r]);for(let i of n.split(" "))if(i){let a=[],o=2,s=i;for(let f=0;;){if(s=="..."&&f>0&&f+3==i.length){o=1;break}let h=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(s);if(!h)throw new RangeError("Invalid path: "+i);if(a.push(h[0]=="*"?"":h[0][0]=='"'?JSON.parse(h[0]):h[0]),f+=h[0].length,f==i.length)break;let d=i[f++];if(f==i.length&&d=="!"){o=0;break}if(d!="/")throw new RangeError("Invalid path: "+i);s=i.slice(f)}let l=a.length-1,c=a[l];if(!c)throw new RangeError("Invalid path: "+i);let u=new Ju(r,o,l>0?a.slice(0,l):null);e[c]=u.sort(e[c])}}return d3.add(e)}const d3=new he({combine(t,e){let n,r,i;for(;t||e;){if(!t||e&&t.depth>=e.depth?(i=e,e=e.next):(i=t,t=t.next),n&&n.mode==i.mode&&!i.context&&!n.context)continue;let a=new Ju(i.tags,i.mode,i.context);n?n.next=a:r=a,n=a}return r}});class Ju{constructor(e,n,r,i){this.tags=e,this.mode=n,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Ju.empty=new Ju([],2,null);function p3(t,e){let n=Object.create(null);for(let a of t)if(!Array.isArray(a.tag))n[a.tag.id]=a.class;else for(let o of a.tag)n[o.id]=a.class;let{scope:r,all:i=null}=e||{};return{style:a=>{let o=i;for(let s of a)for(let l of s.set){let c=n[l.id];if(c){o=o?o+" "+c:c;break}}return o},scope:r}}function Ahe(t,e){let n=null;for(let r of t){let i=r.style(e);i&&(n=n?n+" "+i:i)}return n}function Che(t,e,n,r=0,i=t.length){let a=new Ehe(r,Array.isArray(e)?e:[e],n);a.highlightRange(t.cursor(),r,i,"",a.highlighters),a.flush(i)}class Ehe{constructor(e,n,r){this.at=e,this.highlighters=n,this.span=r,this.class=""}startSpan(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,n,r,i,a){let{type:o,from:s,to:l}=e;if(s>=r||l<=n)return;o.isTop&&(a=this.highlighters.filter(d=>!d.scope||d.scope(o)));let c=i,u=The(e)||Ju.empty,f=Ahe(a,u.tags);if(f&&(c&&(c+=" "),c+=f,u.mode==1&&(i+=(i?" ":"")+f)),this.startSpan(Math.max(n,s),c),u.opaque)return;let h=e.tree&&e.tree.prop(he.mounted);if(h&&h.overlay){let d=e.node.enter(h.overlay[0].from+s,1),p=this.highlighters.filter(v=>!v.scope||v.scope(h.tree.type)),m=e.firstChild();for(let v=0,g=s;;v++){let y=v<h.overlay.length?h.overlay[v]:null,x=y?y.from+s:l,_=Math.max(n,g),O=Math.min(r,x);if(_<O&&m)for(;e.from<O&&(this.highlightRange(e,_,O,i,a),this.startSpan(Math.min(O,e.to),c),!(e.to>=x||!e.nextSibling())););if(!y||x>r)break;g=y.to+s,g>n&&(this.highlightRange(d.cursor(),Math.max(n,y.from+s),Math.min(r,g),"",p),this.startSpan(Math.min(r,g),c))}m&&e.parent()}else if(e.firstChild()){h&&(i="");do if(!(e.to<=n)){if(e.from>=r)break;this.highlightRange(e,n,r,i,a),this.startSpan(Math.min(r,e.to),c)}while(e.nextSibling());e.parent()}}}function The(t){let e=t.type.prop(d3);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const Y=Hn.define,Ch=Y(),Wi=Y(),RP=Y(Wi),DP=Y(Wi),Xi=Y(),Eh=Y(Xi),K0=Y(Xi),Lr=Y(),Ia=Y(Lr),Dr=Y(),Nr=Y(),bb=Y(),sc=Y(bb),Th=Y(),z={comment:Ch,lineComment:Y(Ch),blockComment:Y(Ch),docComment:Y(Ch),name:Wi,variableName:Y(Wi),typeName:RP,tagName:Y(RP),propertyName:DP,attributeName:Y(DP),className:Y(Wi),labelName:Y(Wi),namespace:Y(Wi),macroName:Y(Wi),literal:Xi,string:Eh,docString:Y(Eh),character:Y(Eh),attributeValue:Y(Eh),number:K0,integer:Y(K0),float:Y(K0),bool:Y(Xi),regexp:Y(Xi),escape:Y(Xi),color:Y(Xi),url:Y(Xi),keyword:Dr,self:Y(Dr),null:Y(Dr),atom:Y(Dr),unit:Y(Dr),modifier:Y(Dr),operatorKeyword:Y(Dr),controlKeyword:Y(Dr),definitionKeyword:Y(Dr),moduleKeyword:Y(Dr),operator:Nr,derefOperator:Y(Nr),arithmeticOperator:Y(Nr),logicOperator:Y(Nr),bitwiseOperator:Y(Nr),compareOperator:Y(Nr),updateOperator:Y(Nr),definitionOperator:Y(Nr),typeOperator:Y(Nr),controlOperator:Y(Nr),punctuation:bb,separator:Y(bb),bracket:sc,angleBracket:Y(sc),squareBracket:Y(sc),paren:Y(sc),brace:Y(sc),content:Lr,heading:Ia,heading1:Y(Ia),heading2:Y(Ia),heading3:Y(Ia),heading4:Y(Ia),heading5:Y(Ia),heading6:Y(Ia),contentSeparator:Y(Lr),list:Y(Lr),quote:Y(Lr),emphasis:Y(Lr),strong:Y(Lr),link:Y(Lr),monospace:Y(Lr),strikethrough:Y(Lr),inserted:Y(),deleted:Y(),changed:Y(),invalid:Y(),meta:Th,documentMeta:Y(Th),annotation:Y(Th),processingInstruction:Y(Th),definition:Hn.defineModifier("definition"),constant:Hn.defineModifier("constant"),function:Hn.defineModifier("function"),standard:Hn.defineModifier("standard"),local:Hn.defineModifier("local"),special:Hn.defineModifier("special")};for(let t in z){let e=z[t];e instanceof Hn&&(e.name=t)}p3([{tag:z.link,class:"tok-link"},{tag:z.heading,class:"tok-heading"},{tag:z.emphasis,class:"tok-emphasis"},{tag:z.strong,class:"tok-strong"},{tag:z.keyword,class:"tok-keyword"},{tag:z.atom,class:"tok-atom"},{tag:z.bool,class:"tok-bool"},{tag:z.url,class:"tok-url"},{tag:z.labelName,class:"tok-labelName"},{tag:z.inserted,class:"tok-inserted"},{tag:z.deleted,class:"tok-deleted"},{tag:z.literal,class:"tok-literal"},{tag:z.string,class:"tok-string"},{tag:z.number,class:"tok-number"},{tag:[z.regexp,z.escape,z.special(z.string)],class:"tok-string2"},{tag:z.variableName,class:"tok-variableName"},{tag:z.local(z.variableName),class:"tok-variableName tok-local"},{tag:z.definition(z.variableName),class:"tok-variableName tok-definition"},{tag:z.special(z.variableName),class:"tok-variableName2"},{tag:z.definition(z.propertyName),class:"tok-propertyName tok-definition"},{tag:z.typeName,class:"tok-typeName"},{tag:z.namespace,class:"tok-namespace"},{tag:z.className,class:"tok-className"},{tag:z.macroName,class:"tok-macroName"},{tag:z.propertyName,class:"tok-propertyName"},{tag:z.operator,class:"tok-operator"},{tag:z.comment,class:"tok-comment"},{tag:z.meta,class:"tok-meta"},{tag:z.invalid,class:"tok-invalid"},{tag:z.punctuation,class:"tok-punctuation"}]);const Mhe=316,jhe=317,NP=1,Qhe=2,zhe=3,Ihe=4,Rhe=318,Dhe=320,Nhe=321,Lhe=5,Bhe=6,Zhe=0,xb=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],m3=125,Whe=59,wb=47,Xhe=42,Fhe=43,Vhe=45,Uhe=60,qhe=44,Yhe=63,Ghe=46,Hhe=91,Khe=new whe({start:!1,shift(t,e){return e==Lhe||e==Bhe||e==Dhe?t:e==Nhe},strict:!1}),Jhe=new $f((t,e)=>{let{next:n}=t;(n==m3||n==-1||e.context)&&t.acceptToken(Rhe)},{contextual:!0,fallback:!0}),ede=new $f((t,e)=>{let{next:n}=t,r;xb.indexOf(n)>-1||n==wb&&((r=t.peek(1))==wb||r==Xhe)||n!=m3&&n!=Whe&&n!=-1&&!e.context&&t.acceptToken(Mhe)},{contextual:!0}),tde=new $f((t,e)=>{t.next==Hhe&&!e.context&&t.acceptToken(jhe)},{contextual:!0}),nde=new $f((t,e)=>{let{next:n}=t;if(n==Fhe||n==Vhe){if(t.advance(),n==t.next){t.advance();let r=!e.context&&e.canShift(NP);t.acceptToken(r?NP:Qhe)}}else n==Yhe&&t.peek(1)==Ghe&&(t.advance(),t.advance(),(t.next<48||t.next>57)&&t.acceptToken(zhe))},{contextual:!0});function J0(t,e){return t>=65&&t<=90||t>=97&&t<=122||t==95||t>=192||!e&&t>=48&&t<=57}const rde=new $f((t,e)=>{if(t.next!=Uhe||!e.dialectEnabled(Zhe)||(t.advance(),t.next==wb))return;let n=0;for(;xb.indexOf(t.next)>-1;)t.advance(),n++;if(J0(t.next,!0)){for(t.advance(),n++;J0(t.next,!1);)t.advance(),n++;for(;xb.indexOf(t.next)>-1;)t.advance(),n++;if(t.next==qhe)return;for(let r=0;;r++){if(r==7){if(!J0(t.next,!0))return;break}if(t.next!="extends".charCodeAt(r))break;t.advance(),n++}}t.acceptToken(Ihe,-n)}),ide=h3({"get set async static":z.modifier,"for while do if else switch try catch finally return throw break continue default case defer":z.controlKeyword,"in of await yield void typeof delete instanceof as satisfies":z.operatorKeyword,"let var const using function class extends":z.definitionKeyword,"import export from":z.moduleKeyword,"with debugger new":z.keyword,TemplateString:z.special(z.string),super:z.atom,BooleanLiteral:z.bool,this:z.self,null:z.null,Star:z.modifier,VariableName:z.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":z.function(z.variableName),VariableDefinition:z.definition(z.variableName),Label:z.labelName,PropertyName:z.propertyName,PrivatePropertyName:z.special(z.propertyName),"CallExpression/MemberExpression/PropertyName":z.function(z.propertyName),"FunctionDeclaration/VariableDefinition":z.function(z.definition(z.variableName)),"ClassDeclaration/VariableDefinition":z.definition(z.className),"NewExpression/VariableName":z.className,PropertyDefinition:z.definition(z.propertyName),PrivatePropertyDefinition:z.definition(z.special(z.propertyName)),UpdateOp:z.updateOperator,"LineComment Hashbang":z.lineComment,BlockComment:z.blockComment,Number:z.number,String:z.string,Escape:z.escape,ArithOp:z.arithmeticOperator,LogicOp:z.logicOperator,BitOp:z.bitwiseOperator,CompareOp:z.compareOperator,RegExp:z.regexp,Equals:z.definitionOperator,Arrow:z.function(z.punctuation),": Spread":z.punctuation,"( )":z.paren,"[ ]":z.squareBracket,"{ }":z.brace,"InterpolationStart InterpolationEnd":z.special(z.brace),".":z.derefOperator,", ;":z.separator,"@":z.meta,TypeName:z.typeName,TypeDefinition:z.definition(z.typeName),"type enum interface implements namespace module declare":z.definitionKeyword,"abstract global Privacy readonly override":z.modifier,"is keyof unique infer asserts":z.operatorKeyword,JSXAttributeValue:z.attributeValue,JSXText:z.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":z.angleBracket,"JSXIdentifier JSXNameSpacedName":z.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":z.attributeName,"JSXBuiltin/JSXIdentifier":z.standard(z.tagName)}),ade={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,in:52,out:55,const:56,extends:60,this:64,true:72,false:72,null:84,void:88,typeof:92,super:108,new:142,delete:154,yield:163,await:167,class:172,public:235,private:235,protected:235,readonly:237,instanceof:256,satisfies:259,import:292,keyof:349,unique:353,infer:359,asserts:395,is:397,abstract:417,implements:419,type:421,let:424,var:426,using:429,interface:435,enum:439,namespace:445,module:447,declare:451,global:455,defer:471,for:476,of:485,while:488,with:492,do:496,if:500,else:502,switch:506,case:512,try:518,catch:522,finally:526,return:530,throw:534,break:538,continue:542,debugger:546},ode={__proto__:null,async:129,get:131,set:133,declare:195,public:197,private:197,protected:197,static:199,abstract:201,override:203,readonly:209,accessor:211,new:401},sde={__proto__:null,"<":193},lde=qp.deserialize({version:14,states:"$F|Q%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#DaO.QQlO'#DgO.bQlO'#DrO%[QlO'#DzO0fQlO'#ESOOQ!0Lf'#E['#E[O1PQ`O'#EXOOQO'#Ep'#EpOOQO'#Il'#IlO1XQ`O'#GsO1dQ`O'#EoO1iQ`O'#EoO3hQ!0MxO'#JrO6[Q!0MxO'#JsO6uQ`O'#F]O6zQ,UO'#FtOOQ!0Lf'#Ff'#FfO7VO7dO'#FfO9XQMhO'#F|O9`Q`O'#F{OOQ!0Lf'#Js'#JsOOQ!0Lb'#Jr'#JrO9eQ`O'#GwOOQ['#K_'#K_O9pQ`O'#IYO9uQ!0LrO'#IZOOQ['#J`'#J`OOQ['#I_'#I_Q`QlOOQ`QlOOO9}Q!L^O'#DvO:UQlO'#EOO:]QlO'#EQO9kQ`O'#GsO:dQMhO'#CoO:rQ`O'#EnO:}Q`O'#EyO;hQMhO'#FeO;xQ`O'#GsOOQO'#K`'#K`O;}Q`O'#K`O<]Q`O'#G{O<]Q`O'#G|O<]Q`O'#HOO9kQ`O'#HRO=SQ`O'#HUO>kQ`O'#CeO>{Q`O'#HcO?TQ`O'#HiO?TQ`O'#HkO`QlO'#HmO?TQ`O'#HoO?TQ`O'#HrO?YQ`O'#HxO?_Q!0LsO'#IOO%[QlO'#IQO?jQ!0LsO'#ISO?uQ!0LsO'#IUO9uQ!0LrO'#IWO@QQ!0MxO'#CiOASQpO'#DlQOQ`OOO%[QlO'#EQOAjQ`O'#ETO:dQMhO'#EnOAuQ`O'#EnOBQQ!bO'#FeOOQ['#Cg'#CgOOQ!0Lb'#Dq'#DqOOQ!0Lb'#Jv'#JvO%[QlO'#JvOOQO'#Jy'#JyOOQO'#Ih'#IhOCQQpO'#EgOOQ!0Lb'#Ef'#EfOOQ!0Lb'#J}'#J}OC|Q!0MSO'#EgODWQpO'#EWOOQO'#Jx'#JxODlQpO'#JyOEyQpO'#EWODWQpO'#EgPFWO&2DjO'#CbPOOO)CD})CD}OOOO'#I`'#I`OFcO#tO,59UOOQ!0Lh,59U,59UOOOO'#Ia'#IaOFqO&jO,59UOGPQ!L^O'#DcOOOO'#Ic'#IcOGWO#@ItO,59{OOQ!0Lf,59{,59{OGfQlO'#IdOGyQ`O'#JtOIxQ!fO'#JtO+}QlO'#JtOJPQ`O,5:ROJgQ`O'#EpOJtQ`O'#KTOKPQ`O'#KSOKPQ`O'#KSOKXQ`O,5;^OK^Q`O'#KROOQ!0Ln,5:^,5:^OKeQlO,5:^OMcQ!0MxO,5:fONSQ`O,5:nONmQ!0LrO'#KQONtQ`O'#KPO9eQ`O'#KPO! YQ`O'#KPO! bQ`O,5;]O! gQ`O'#KPO!#lQ!fO'#JsOOQ!0Lh'#Ci'#CiO%[QlO'#ESO!$[Q!fO,5:sOOQS'#Jz'#JzOOQO-E<j-E<jO9kQ`O,5=_O!$rQ`O,5=_O!$wQlO,5;ZO!&zQMhO'#EkO!(eQ`O,5;ZO!(jQlO'#DyO!(tQpO,5;dO!(|QpO,5;dO%[QlO,5;dOOQ['#FT'#FTOOQ['#FV'#FVO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eOOQ['#FZ'#FZO!)[QlO,5;tOOQ!0Lf,5;y,5;yOOQ!0Lf,5;z,5;zOOQ!0Lf,5;|,5;|O%[QlO'#IpO!+_Q!0LrO,5<iO%[QlO,5;eO!&zQMhO,5;eO!+|QMhO,5;eO!-nQMhO'#E^O%[QlO,5;wOOQ!0Lf,5;{,5;{O!-uQ,UO'#FjO!.rQ,UO'#KXO!.^Q,UO'#KXO!.yQ,UO'#KXOOQO'#KX'#KXO!/_Q,UO,5<SOOOW,5<`,5<`O!/pQlO'#FvOOOW'#Io'#IoO7VO7dO,5<QO!/wQ,UO'#FxOOQ!0Lf,5<Q,5<QO!0hQ$IUO'#CyOOQ!0Lh'#C}'#C}O!0{O#@ItO'#DRO!1iQMjO,5<eO!1pQ`O,5<hO!3YQ(CWO'#GXO!3jQ`O'#GYO!3oQ`O'#GYO!5_Q(CWO'#G^O!6dQpO'#GbOOQO'#Gn'#GnO!,TQMhO'#GmOOQO'#Gp'#GpO!,TQMhO'#GoO!7VQ$IUO'#JlOOQ!0Lh'#Jl'#JlO!7aQ`O'#JkO!7oQ`O'#JjO!7wQ`O'#CuOOQ!0Lh'#C{'#C{O!8YQ`O'#C}OOQ!0Lh'#DV'#DVOOQ!0Lh'#DX'#DXO!8_Q`O,5<eO1SQ`O'#DZO!,TQMhO'#GPO!,TQMhO'#GRO!8gQ`O'#GTO!8lQ`O'#GUO!3oQ`O'#G[O!,TQMhO'#GaO<]Q`O'#JkO!8qQ`O'#EqO!9`Q`O,5<gOOQ!0Lb'#Cr'#CrO!9hQ`O'#ErO!:bQpO'#EsOOQ!0Lb'#KR'#KRO!:iQ!0LrO'#KaO9uQ!0LrO,5=cO`QlO,5>tOOQ['#Jh'#JhOOQ[,5>u,5>uOOQ[-E<]-E<]O!<hQ!0MxO,5:bO!:]QpO,5:`O!?RQ!0MxO,5:jO%[QlO,5:jO!AiQ!0MxO,5:lOOQO,5@z,5@zO!BYQMhO,5=_O!BhQ!0LrO'#JiO9`Q`O'#JiO!ByQ!0LrO,59ZO!CUQpO,59ZO!C^QMhO,59ZO:dQMhO,59ZO!CiQ`O,5;ZO!CqQ`O'#HbO!DVQ`O'#KdO%[QlO,5;}O!:]QpO,5<PO!D_Q`O,5=zO!DdQ`O,5=zO!DiQ`O,5=zO!DwQ`O,5=zO9uQ!0LrO,5=zO<]Q`O,5=jOOQO'#Cy'#CyO!EOQpO,5=gO!EWQMhO,5=hO!EcQ`O,5=jO!EhQ!bO,5=mO!EpQ`O'#K`O?YQ`O'#HWO9kQ`O'#HYO!EuQ`O'#HYO:dQMhO'#H[O!EzQ`O'#H[OOQ[,5=p,5=pO!FPQ`O'#H]O!FbQ`O'#CoO!FgQ`O,59PO!FqQ`O,59PO!HvQlO,59POOQ[,59P,59PO!IWQ!0LrO,59PO%[QlO,59PO!KcQlO'#HeOOQ['#Hf'#HfOOQ['#Hg'#HgO`QlO,5=}O!KyQ`O,5=}O`QlO,5>TO`QlO,5>VO!LOQ`O,5>XO`QlO,5>ZO!LTQ`O,5>^O!LYQlO,5>dOOQ[,5>j,5>jO%[QlO,5>jO9uQ!0LrO,5>lOOQ[,5>n,5>nO#!dQ`O,5>nOOQ[,5>p,5>pO#!dQ`O,5>pOOQ[,5>r,5>rO##QQpO'#D_O%[QlO'#JvO##sQpO'#JvO##}QpO'#DmO#$`QpO'#DmO#&qQlO'#DmO#&xQ`O'#JuO#'QQ`O,5:WO#'VQ`O'#EtO#'eQ`O'#KUO#'mQ`O,5;_O#'rQpO'#DmO#(PQpO'#EVOOQ!0Lf,5:o,5:oO%[QlO,5:oO#(WQ`O,5:oO?YQ`O,5;YO!CUQpO,5;YO!C^QMhO,5;YO:dQMhO,5;YO#(`Q`O,5@bO#(eQ07dO,5:sOOQO-E<f-E<fO#)kQ!0MSO,5;RODWQpO,5:rO#)uQpO,5:rODWQpO,5;RO!ByQ!0LrO,5:rOOQ!0Lb'#Ej'#EjOOQO,5;R,5;RO%[QlO,5;RO#*SQ!0LrO,5;RO#*_Q!0LrO,5;RO!CUQpO,5:rOOQO,5;X,5;XO#*mQ!0LrO,5;RPOOO'#I^'#I^P#+RO&2DjO,58|POOO,58|,58|OOOO-E<^-E<^OOQ!0Lh1G.p1G.pOOOO-E<_-E<_OOOO,59},59}O#+^Q!bO,59}OOOO-E<a-E<aOOQ!0Lf1G/g1G/gO#+cQ!fO,5?OO+}QlO,5?OOOQO,5?U,5?UO#+mQlO'#IdOOQO-E<b-E<bO#+zQ`O,5@`O#,SQ!fO,5@`O#,ZQ`O,5@nOOQ!0Lf1G/m1G/mO%[QlO,5@oO#,cQ`O'#IjOOQO-E<h-E<hO#,ZQ`O,5@nOOQ!0Lb1G0x1G0xOOQ!0Ln1G/x1G/xOOQ!0Ln1G0Y1G0YO%[QlO,5@lO#,wQ!0LrO,5@lO#-YQ!0LrO,5@lO#-aQ`O,5@kO9eQ`O,5@kO#-iQ`O,5@kO#-wQ`O'#ImO#-aQ`O,5@kOOQ!0Lb1G0w1G0wO!(tQpO,5:uO!)PQpO,5:uOOQS,5:w,5:wO#.iQdO,5:wO#.qQMhO1G2yO9kQ`O1G2yOOQ!0Lf1G0u1G0uO#/PQ!0MxO1G0uO#0UQ!0MvO,5;VOOQ!0Lh'#GW'#GWO#0rQ!0MzO'#JlO!$wQlO1G0uO#2}Q!fO'#JwO%[QlO'#JwO#3XQ`O,5:eOOQ!0Lh'#D_'#D_OOQ!0Lf1G1O1G1OO%[QlO1G1OOOQ!0Lf1G1f1G1fO#3^Q`O1G1OO#5rQ!0MxO1G1PO#5yQ!0MxO1G1PO#8aQ!0MxO1G1PO#8hQ!0MxO1G1PO#;OQ!0MxO1G1PO#=fQ!0MxO1G1PO#=mQ!0MxO1G1PO#=tQ!0MxO1G1PO#@[Q!0MxO1G1PO#@cQ!0MxO1G1PO#BpQ?MtO'#CiO#DkQ?MtO1G1`O#DrQ?MtO'#JsO#EVQ!0MxO,5?[OOQ!0Lb-E<n-E<nO#GdQ!0MxO1G1PO#HaQ!0MzO1G1POOQ!0Lf1G1P1G1PO#IdQMjO'#J|O#InQ`O,5:xO#IsQ!0MxO1G1cO#JgQ,UO,5<WO#JoQ,UO,5<XO#JwQ,UO'#FoO#K`Q`O'#FnOOQO'#KY'#KYOOQO'#In'#InO#KeQ,UO1G1nOOQ!0Lf1G1n1G1nOOOW1G1y1G1yO#KvQ?MtO'#JrO#LQQ`O,5<bO!)[QlO,5<bOOOW-E<m-E<mOOQ!0Lf1G1l1G1lO#LVQpO'#KXOOQ!0Lf,5<d,5<dO#L_QpO,5<dO#LdQMhO'#DTOOOO'#Ib'#IbO#LkO#@ItO,59mOOQ!0Lh,59m,59mO%[QlO1G2PO!8lQ`O'#IrO#LvQ`O,5<zOOQ!0Lh,5<w,5<wO!,TQMhO'#IuO#MdQMjO,5=XO!,TQMhO'#IwO#NVQMjO,5=ZO!&zQMhO,5=]OOQO1G2S1G2SO#NaQ!dO'#CrO#NtQ(CWO'#ErO$ |QpO'#GbO$!dQ!dO,5<sO$!kQ`O'#K[O9eQ`O'#K[O$!yQ`O,5<uO$#aQ!dO'#C{O!,TQMhO,5<tO$#kQ`O'#GZO$$PQ`O,5<tO$$UQ!dO'#GWO$$cQ!dO'#K]O$$mQ`O'#K]O!&zQMhO'#K]O$$rQ`O,5<xO$$wQlO'#JvO$%RQpO'#GcO#$`QpO'#GcO$%dQ`O'#GgO!3oQ`O'#GkO$%iQ!0LrO'#ItO$%tQpO,5<|OOQ!0Lp,5<|,5<|O$%{QpO'#GcO$&YQpO'#GdO$&kQpO'#GdO$&pQMjO,5=XO$'QQMjO,5=ZOOQ!0Lh,5=^,5=^O!,TQMhO,5@VO!,TQMhO,5@VO$'bQ`O'#IyO$'vQ`O,5@UO$(OQ`O,59aOOQ!0Lh,59i,59iO$(TQ`O,5@VO$)TQ$IYO,59uOOQ!0Lh'#Jp'#JpO$)vQMjO,5<kO$*iQMjO,5<mO@zQ`O,5<oOOQ!0Lh,5<p,5<pO$*sQ`O,5<vO$*xQMjO,5<{O$+YQ`O'#KPO!$wQlO1G2RO$+_Q`O1G2RO9eQ`O'#KSO9eQ`O'#EtO%[QlO'#EtO9eQ`O'#I{O$+dQ!0LrO,5@{OOQ[1G2}1G2}OOQ[1G4`1G4`OOQ!0Lf1G/|1G/|OOQ!0Lf1G/z1G/zO$-fQ!0MxO1G0UOOQ[1G2y1G2yO!&zQMhO1G2yO%[QlO1G2yO#.tQ`O1G2yO$/jQMhO'#EkOOQ!0Lb,5@T,5@TO$/wQ!0LrO,5@TOOQ[1G.u1G.uO!ByQ!0LrO1G.uO!CUQpO1G.uO!C^QMhO1G.uO$0YQ`O1G0uO$0_Q`O'#CiO$0jQ`O'#KeO$0rQ`O,5=|O$0wQ`O'#KeO$0|Q`O'#KeO$1[Q`O'#JRO$1jQ`O,5AOO$1rQ!fO1G1iOOQ!0Lf1G1k1G1kO9kQ`O1G3fO@zQ`O1G3fO$1yQ`O1G3fO$2OQ`O1G3fO!DiQ`O1G3fO9uQ!0LrO1G3fOOQ[1G3f1G3fO!EcQ`O1G3UO!&zQMhO1G3RO$2TQ`O1G3ROOQ[1G3S1G3SO!&zQMhO1G3SO$2YQ`O1G3SO$2bQpO'#HQOOQ[1G3U1G3UO!6_QpO'#I}O!EhQ!bO1G3XOOQ[1G3X1G3XOOQ[,5=r,5=rO$2jQMhO,5=tO9kQ`O,5=tO$%dQ`O,5=vO9`Q`O,5=vO!CUQpO,5=vO!C^QMhO,5=vO:dQMhO,5=vO$2xQ`O'#KcO$3TQ`O,5=wOOQ[1G.k1G.kO$3YQ!0LrO1G.kO@zQ`O1G.kO$3eQ`O1G.kO9uQ!0LrO1G.kO$5mQ!fO,5AQO$5zQ`O,5AQO9eQ`O,5AQO$6VQlO,5>PO$6^Q`O,5>POOQ[1G3i1G3iO`QlO1G3iOOQ[1G3o1G3oOOQ[1G3q1G3qO?TQ`O1G3sO$6cQlO1G3uO$:gQlO'#HtOOQ[1G3x1G3xO$:tQ`O'#HzO?YQ`O'#H|OOQ[1G4O1G4OO$:|QlO1G4OO9uQ!0LrO1G4UOOQ[1G4W1G4WOOQ!0Lb'#G_'#G_O9uQ!0LrO1G4YO9uQ!0LrO1G4[O$?TQ`O,5@bO!)[QlO,5;`O9eQ`O,5;`O?YQ`O,5:XO!)[QlO,5:XO!CUQpO,5:XO$?YQ?MtO,5:XOOQO,5;`,5;`O$?dQpO'#IeO$?zQ`O,5@aOOQ!0Lf1G/r1G/rO$@SQpO'#IkO$@^Q`O,5@pOOQ!0Lb1G0y1G0yO#$`QpO,5:XOOQO'#Ig'#IgO$@fQpO,5:qOOQ!0Ln,5:q,5:qO#(ZQ`O1G0ZOOQ!0Lf1G0Z1G0ZO%[QlO1G0ZOOQ!0Lf1G0t1G0tO?YQ`O1G0tO!CUQpO1G0tO!C^QMhO1G0tOOQ!0Lb1G5|1G5|O!ByQ!0LrO1G0^OOQO1G0m1G0mO%[QlO1G0mO$@mQ!0LrO1G0mO$@xQ!0LrO1G0mO!CUQpO1G0^ODWQpO1G0^O$AWQ!0LrO1G0mOOQO1G0^1G0^O$AlQ!0MxO1G0mPOOO-E<[-E<[POOO1G.h1G.hOOOO1G/i1G/iO$AvQ!bO,5<iO$BOQ!fO1G4jOOQO1G4p1G4pO%[QlO,5?OO$BYQ`O1G5zO$BbQ`O1G6YO$BjQ!fO1G6ZO9eQ`O,5?UO$BtQ!0MxO1G6WO%[QlO1G6WO$CUQ!0LrO1G6WO$CgQ`O1G6VO$CgQ`O1G6VO9eQ`O1G6VO$CoQ`O,5?XO9eQ`O,5?XOOQO,5?X,5?XO$DTQ`O,5?XO$+YQ`O,5?XOOQO-E<k-E<kOOQS1G0a1G0aOOQS1G0c1G0cO#.lQ`O1G0cOOQ[7+(e7+(eO!&zQMhO7+(eO%[QlO7+(eO$DcQ`O7+(eO$DnQMhO7+(eO$D|Q!0MzO,5=XO$GXQ!0MzO,5=ZO$IdQ!0MzO,5=XO$KuQ!0MzO,5=ZO$NWQ!0MzO,59uO%!]Q!0MzO,5<kO%$hQ!0MzO,5<mO%&sQ!0MzO,5<{OOQ!0Lf7+&a7+&aO%)UQ!0MxO7+&aO%)xQlO'#IfO%*VQ`O,5@cO%*_Q!fO,5@cOOQ!0Lf1G0P1G0PO%*iQ`O7+&jOOQ!0Lf7+&j7+&jO%*nQ?MtO,5:fO%[QlO7+&zO%*xQ?MtO,5:bO%+VQ?MtO,5:jO%+aQ?MtO,5:lO%+kQMhO'#IiO%+uQ`O,5@hOOQ!0Lh1G0d1G0dOOQO1G1r1G1rOOQO1G1s1G1sO%+}Q!jO,5<ZO!)[QlO,5<YOOQO-E<l-E<lOOQ!0Lf7+'Y7+'YOOOW7+'e7+'eOOOW1G1|1G1|O%,YQ`O1G1|OOQ!0Lf1G2O1G2OOOOO,59o,59oO%,_Q!dO,59oOOOO-E<`-E<`OOQ!0Lh1G/X1G/XO%,fQ!0MxO7+'kOOQ!0Lh,5?^,5?^O%-YQMhO1G2fP%-aQ`O'#IrPOQ!0Lh-E<p-E<pO%-}QMjO,5?aOOQ!0Lh-E<s-E<sO%.pQMjO,5?cOOQ!0Lh-E<u-E<uO%.zQ!dO1G2wO%/RQ!dO'#CrO%/iQMhO'#KSO$$wQlO'#JvOOQ!0Lh1G2_1G2_O%/sQ`O'#IqO%0[Q`O,5@vO%0[Q`O,5@vO%0dQ`O,5@vO%0oQ`O,5@vOOQO1G2a1G2aO%0}QMjO1G2`O$+YQ`O'#K[O!,TQMhO1G2`O%1_Q(CWO'#IsO%1lQ`O,5@wO!&zQMhO,5@wO%1tQ!dO,5@wOOQ!0Lh1G2d1G2dO%4UQ!fO'#CiO%4`Q`O,5=POOQ!0Lb,5<},5<}O%4hQpO,5<}OOQ!0Lb,5=O,5=OOCwQ`O,5<}O%4sQpO,5<}OOQ!0Lb,5=R,5=RO$+YQ`O,5=VOOQO,5?`,5?`OOQO-E<r-E<rOOQ!0Lp1G2h1G2hO#$`QpO,5<}O$$wQlO,5=PO%5RQ`O,5=OO%5^QpO,5=OO!,TQMhO'#IuO%6WQMjO1G2sO!,TQMhO'#IwO%6yQMjO1G2uO%7TQMjO1G5qO%7_QMjO1G5qOOQO,5?e,5?eOOQO-E<w-E<wOOQO1G.{1G.{O!,TQMhO1G5qO!,TQMhO1G5qO!:]QpO,59wO%[QlO,59wOOQ!0Lh,5<j,5<jO%7lQ`O1G2ZO!,TQMhO1G2bO%7qQ!0MxO7+'mOOQ!0Lf7+'m7+'mO!$wQlO7+'mO%8eQ`O,5;`OOQ!0Lb,5?g,5?gOOQ!0Lb-E<y-E<yO%8jQ!dO'#K^O#(ZQ`O7+(eO4UQ!fO7+(eO$DfQ`O7+(eO%8tQ!0MvO'#CiO%9XQ!0MvO,5=SO%9lQ`O,5=SO%9tQ`O,5=SOOQ!0Lb1G5o1G5oOOQ[7+$a7+$aO!ByQ!0LrO7+$aO!CUQpO7+$aO!$wQlO7+&aO%9yQ`O'#JQO%:bQ`O,5APOOQO1G3h1G3hO9kQ`O,5APO%:bQ`O,5APO%:jQ`O,5APOOQO,5?m,5?mOOQO-E=P-E=POOQ!0Lf7+'T7+'TO%:oQ`O7+)QO9uQ!0LrO7+)QO9kQ`O7+)QO@zQ`O7+)QO%:tQ`O7+)QOOQ[7+)Q7+)QOOQ[7+(p7+(pO%:yQ!0MvO7+(mO!&zQMhO7+(mO!E^Q`O7+(nOOQ[7+(n7+(nO!&zQMhO7+(nO%;TQ`O'#KbO%;`Q`O,5=lOOQO,5?i,5?iOOQO-E<{-E<{OOQ[7+(s7+(sO%<rQpO'#HZOOQ[1G3`1G3`O!&zQMhO1G3`O%[QlO1G3`O%<yQ`O1G3`O%=UQMhO1G3`O9uQ!0LrO1G3bO$%dQ`O1G3bO9`Q`O1G3bO!CUQpO1G3bO!C^QMhO1G3bO%=dQ`O'#JPO%=xQ`O,5@}O%>QQpO,5@}OOQ!0Lb1G3c1G3cOOQ[7+$V7+$VO@zQ`O7+$VO9uQ!0LrO7+$VO%>]Q`O7+$VO%[QlO1G6lO%[QlO1G6mO%>bQ!0LrO1G6lO%>lQlO1G3kO%>sQ`O1G3kO%>xQlO1G3kOOQ[7+)T7+)TO9uQ!0LrO7+)_O`QlO7+)aOOQ['#Kh'#KhOOQ['#JS'#JSO%?PQlO,5>`OOQ[,5>`,5>`O%[QlO'#HuO%?^Q`O'#HwOOQ[,5>f,5>fO9eQ`O,5>fOOQ[,5>h,5>hOOQ[7+)j7+)jOOQ[7+)p7+)pOOQ[7+)t7+)tOOQ[7+)v7+)vO%?cQpO1G5|O%?}Q?MtO1G0zO%@XQ`O1G0zOOQO1G/s1G/sO%@dQ?MtO1G/sO?YQ`O1G/sO!)[QlO'#DmOOQO,5?P,5?POOQO-E<c-E<cOOQO,5?V,5?VOOQO-E<i-E<iO!CUQpO1G/sOOQO-E<e-E<eOOQ!0Ln1G0]1G0]OOQ!0Lf7+%u7+%uO#(ZQ`O7+%uOOQ!0Lf7+&`7+&`O?YQ`O7+&`O!CUQpO7+&`OOQO7+%x7+%xO$AlQ!0MxO7+&XOOQO7+&X7+&XO%[QlO7+&XO%@nQ!0LrO7+&XO!ByQ!0LrO7+%xO!CUQpO7+%xO%@yQ!0LrO7+&XO%AXQ!0MxO7++rO%[QlO7++rO%AiQ`O7++qO%AiQ`O7++qOOQO1G4s1G4sO9eQ`O1G4sO%AqQ`O1G4sOOQS7+%}7+%}O#(ZQ`O<<LPO4UQ!fO<<LPO%BPQ`O<<LPOOQ[<<LP<<LPO!&zQMhO<<LPO%[QlO<<LPO%BXQ`O<<LPO%BdQ!0MzO,5?aO%DoQ!0MzO,5?cO%FzQ!0MzO1G2`O%I]Q!0MzO1G2sO%KhQ!0MzO1G2uO%MsQ!fO,5?QO%[QlO,5?QOOQO-E<d-E<dO%M}Q`O1G5}OOQ!0Lf<<JU<<JUO%NVQ?MtO1G0uO&!^Q?MtO1G1PO&!eQ?MtO1G1PO&$fQ?MtO1G1PO&$mQ?MtO1G1PO&&nQ?MtO1G1PO&(oQ?MtO1G1PO&(vQ?MtO1G1PO&(}Q?MtO1G1PO&+OQ?MtO1G1PO&+VQ?MtO1G1PO&+^Q!0MxO<<JfO&-UQ?MtO1G1PO&.RQ?MvO1G1PO&/UQ?MvO'#JlO&1[Q?MtO1G1cO&1iQ?MtO1G0UO&1sQMjO,5?TOOQO-E<g-E<gO!)[QlO'#FqOOQO'#KZ'#KZOOQO1G1u1G1uO&1}Q`O1G1tO&2SQ?MtO,5?[OOOW7+'h7+'hOOOO1G/Z1G/ZO&2^Q!dO1G4xOOQ!0Lh7+(Q7+(QP!&zQMhO,5?^O!,TQMhO7+(cO&2eQ`O,5?]O9eQ`O,5?]O$+YQ`O,5?]OOQO-E<o-E<oO&2sQ`O1G6bO&2sQ`O1G6bO&2{Q`O1G6bO&3WQMjO7+'zO&3hQ!dO,5?_O&3rQ`O,5?_O!&zQMhO,5?_OOQO-E<q-E<qO&3wQ!dO1G6cO&4RQ`O1G6cO&4ZQ`O1G2kO!&zQMhO1G2kOOQ!0Lb1G2i1G2iOOQ!0Lb1G2j1G2jO%4hQpO1G2iO!CUQpO1G2iOCwQ`O1G2iOOQ!0Lb1G2q1G2qO&4`QpO1G2iO&4nQ`O1G2kO$+YQ`O1G2jOCwQ`O1G2jO$$wQlO1G2kO&4vQ`O1G2jO&5jQMjO,5?aOOQ!0Lh-E<t-E<tO&6]QMjO,5?cOOQ!0Lh-E<v-E<vO!,TQMhO7++]O&6gQMjO7++]O&6qQMjO7++]OOQ!0Lh1G/c1G/cO&7OQ`O1G/cOOQ!0Lh7+'u7+'uO&7TQMjO7+'|O&7eQ!0MxO<<KXOOQ!0Lf<<KX<<KXO&8XQ`O1G0zO!&zQMhO'#IzO&8^Q`O,5@xO&:`Q!fO<<LPO!&zQMhO1G2nO&:gQ!0LrO1G2nOOQ[<<G{<<G{O!ByQ!0LrO<<G{O&:xQ!0MxO<<I{OOQ!0Lf<<I{<<I{OOQO,5?l,5?lO&;lQ`O,5?lO&;qQ`O,5?lOOQO-E=O-E=OO&<PQ`O1G6kO&<PQ`O1G6kO9kQ`O1G6kO@zQ`O<<LlOOQ[<<Ll<<LlO&<XQ`O<<LlO9uQ!0LrO<<LlO9kQ`O<<LlOOQ[<<LX<<LXO%:yQ!0MvO<<LXOOQ[<<LY<<LYO!E^Q`O<<LYO&<^QpO'#I|O&<iQ`O,5@|O!)[QlO,5@|OOQ[1G3W1G3WOOQO'#JO'#JOO9uQ!0LrO'#JOO&<qQpO,5=uOOQ[,5=u,5=uO&<xQpO'#EgO&=PQpO'#GeO&=UQ`O7+(zO&=ZQ`O7+(zOOQ[7+(z7+(zO!&zQMhO7+(zO%[QlO7+(zO&=cQ`O7+(zOOQ[7+(|7+(|O9uQ!0LrO7+(|O$%dQ`O7+(|O9`Q`O7+(|O!CUQpO7+(|O&=nQ`O,5?kOOQO-E<}-E<}OOQO'#H^'#H^O&=yQ`O1G6iO9uQ!0LrO<<GqOOQ[<<Gq<<GqO@zQ`O<<GqO&>RQ`O7+,WO&>WQ`O7+,XO%[QlO7+,WO%[QlO7+,XOOQ[7+)V7+)VO&>]Q`O7+)VO&>bQlO7+)VO&>iQ`O7+)VOOQ[<<Ly<<LyOOQ[<<L{<<L{OOQ[-E=Q-E=QOOQ[1G3z1G3zO&>nQ`O,5>aOOQ[,5>c,5>cO&>sQ`O1G4QO9eQ`O7+&fO!)[QlO7+&fOOQO7+%_7+%_O&>xQ?MtO1G6ZO?YQ`O7+%_OOQ!0Lf<<Ia<<IaOOQ!0Lf<<Iz<<IzO?YQ`O<<IzOOQO<<Is<<IsO$AlQ!0MxO<<IsO%[QlO<<IsOOQO<<Id<<IdO!ByQ!0LrO<<IdO&?SQ!0LrO<<IsO&?_Q!0MxO<= ^O&?oQ`O<= ]OOQO7+*_7+*_O9eQ`O7+*_OOQ[ANAkANAkO&?wQ!fOANAkO!&zQMhOANAkO#(ZQ`OANAkO4UQ!fOANAkO&@OQ`OANAkO%[QlOANAkO&@WQ!0MzO7+'zO&BiQ!0MzO,5?aO&DtQ!0MzO,5?cO&GPQ!0MzO7+'|O&IbQ!fO1G4lO&IlQ?MtO7+&aO&KpQ?MvO,5=XO&MwQ?MvO,5=ZO&NXQ?MvO,5=XO&NiQ?MvO,5=ZO&NyQ?MvO,59uO'#PQ?MvO,5<kO'%SQ?MvO,5<mO''hQ?MvO,5<{O')^Q?MtO7+'kO')kQ?MtO7+'mO')xQ`O,5<]OOQO7+'`7+'`OOQ!0Lh7+*d7+*dO')}QMjO<<K}OOQO1G4w1G4wO'*UQ`O1G4wO'*aQ`O1G4wO'*oQ`O7++|O'*oQ`O7++|O!&zQMhO1G4yO'*wQ!dO1G4yO'+RQ`O7++}O'+ZQ`O7+(VO'+fQ!dO7+(VOOQ!0Lb7+(T7+(TOOQ!0Lb7+(U7+(UO!CUQpO7+(TOCwQ`O7+(TO'+pQ`O7+(VO!&zQMhO7+(VO$+YQ`O7+(UO'+uQ`O7+(VOCwQ`O7+(UO'+}QMjO<<NwO!,TQMhO<<NwOOQ!0Lh7+$}7+$}O',XQ!dO,5?fOOQO-E<x-E<xO',cQ!0MvO7+(YO!&zQMhO7+(YOOQ[AN=gAN=gO9kQ`O1G5WOOQO1G5W1G5WO',sQ`O1G5WO',xQ`O7+,VO',xQ`O7+,VO9uQ!0LrOANBWO@zQ`OANBWOOQ[ANBWANBWO'-QQ`OANBWOOQ[ANAsANAsOOQ[ANAtANAtO'-VQ`O,5?hOOQO-E<z-E<zO'-bQ?MtO1G6hOOQO,5?j,5?jOOQO-E<|-E<|OOQ[1G3a1G3aO'-lQ`O,5=POOQ[<<Lf<<LfO!&zQMhO<<LfO&=UQ`O<<LfO'-qQ`O<<LfO%[QlO<<LfOOQ[<<Lh<<LhO9uQ!0LrO<<LhO$%dQ`O<<LhO9`Q`O<<LhO'-yQpO1G5VO'.UQ`O7+,TOOQ[AN=]AN=]O9uQ!0LrOAN=]OOQ[<= r<= rOOQ[<= s<= sO'.^Q`O<= rO'.cQ`O<= sOOQ[<<Lq<<LqO'.hQ`O<<LqO'.mQlO<<LqOOQ[1G3{1G3{O?YQ`O7+)lO'.tQ`O<<JQO'/PQ?MtO<<JQOOQO<<Hy<<HyOOQ!0LfAN?fAN?fOOQOAN?_AN?_O$AlQ!0MxOAN?_OOQOAN?OAN?OO%[QlOAN?_OOQO<<My<<MyOOQ[G27VG27VO!&zQMhOG27VO#(ZQ`OG27VO'/ZQ!fOG27VO4UQ!fOG27VO'/bQ`OG27VO'/jQ?MtO<<JfO'/wQ?MvO1G2`O'1mQ?MvO,5?aO'3pQ?MvO,5?cO'5sQ?MvO1G2sO'7vQ?MvO1G2uO'9yQ?MtO<<KXO':WQ?MtO<<I{OOQO1G1w1G1wO!,TQMhOANAiOOQO7+*c7+*cO':eQ`O7+*cO':pQ`O<= hO':xQ!dO7+*eOOQ!0Lb<<Kq<<KqO$+YQ`O<<KqOCwQ`O<<KqO';SQ`O<<KqO!&zQMhO<<KqOOQ!0Lb<<Ko<<KoO!CUQpO<<KoO';_Q!dO<<KqOOQ!0Lb<<Kp<<KpO';iQ`O<<KqO!&zQMhO<<KqO$+YQ`O<<KpO';nQMjOANDcO';xQ!0MvO<<KtOOQO7+*r7+*rO9kQ`O7+*rO'<YQ`O<= qOOQ[G27rG27rO9uQ!0LrOG27rO@zQ`OG27rO!)[QlO1G5SO'<bQ`O7+,SO'<jQ`O1G2kO&=UQ`OANBQOOQ[ANBQANBQO!&zQMhOANBQO'<oQ`OANBQOOQ[ANBSANBSO9uQ!0LrOANBSO$%dQ`OANBSOOQO'#H_'#H_OOQO7+*q7+*qOOQ[G22wG22wOOQ[ANE^ANE^OOQ[ANE_ANE_OOQ[ANB]ANB]O'<wQ`OANB]OOQ[<<MW<<MWO!)[QlOAN?lOOQOG24yG24yO$AlQ!0MxOG24yO#(ZQ`OLD,qOOQ[LD,qLD,qO!&zQMhOLD,qO'<|Q!fOLD,qO'=TQ?MvO7+'zO'>yQ?MvO,5?aO'@|Q?MvO,5?cO'CPQ?MvO7+'|O'DuQMjOG27TOOQO<<M}<<M}OOQ!0LbANA]ANA]O$+YQ`OANA]OCwQ`OANA]O'EVQ!dOANA]OOQ!0LbANAZANAZO'E^Q`OANA]O!&zQMhOANA]O'EiQ!dOANA]OOQ!0LbANA[ANA[OOQO<<N^<<N^OOQ[LD-^LD-^O9uQ!0LrOLD-^O'EsQ?MtO7+*nOOQO'#Gf'#GfOOQ[G27lG27lO&=UQ`OG27lO!&zQMhOG27lOOQ[G27nG27nO9uQ!0LrOG27nOOQ[G27wG27wO'E}Q?MtOG25WOOQOLD*eLD*eOOQ[!$(!]!$(!]O#(ZQ`O!$(!]O!&zQMhO!$(!]O'FXQ!0MzOG27TOOQ!0LbG26wG26wO$+YQ`OG26wO'HjQ`OG26wOCwQ`OG26wO'HuQ!dOG26wO!&zQMhOG26wOOQ[!$(!x!$(!xOOQ[LD-WLD-WO&=UQ`OLD-WOOQ[LD-YLD-YOOQ[!)9Ew!)9EwO#(ZQ`O!)9EwOOQ!0LbLD,cLD,cO$+YQ`OLD,cOCwQ`OLD,cO'H|Q`OLD,cO'IXQ!dOLD,cOOQ[!$(!r!$(!rOOQ[!.K;c!.K;cO'I`Q?MvOG27TOOQ!0Lb!$( }!$( }O$+YQ`O!$( }OCwQ`O!$( }O'KUQ`O!$( }OOQ!0Lb!)9Ei!)9EiO$+YQ`O!)9EiOCwQ`O!)9EiOOQ!0Lb!.K;T!.K;TO$+YQ`O!.K;TOOQ!0Lb!4/0o!4/0oO!)[QlO'#DzO1PQ`O'#EXO'KaQ!fO'#JrO'KhQ!L^O'#DvO'KoQlO'#EOO'KvQ!fO'#CiO'N^Q!fO'#CiO!)[QlO'#EQO'NnQlO,5;ZO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO'#IpO(!qQ`O,5<iO!)[QlO,5;eO(!yQMhO,5;eO($dQMhO,5;eO!)[QlO,5;wO!&zQMhO'#GmO(!yQMhO'#GmO!&zQMhO'#GoO(!yQMhO'#GoO1SQ`O'#DZO1SQ`O'#DZO!&zQMhO'#GPO(!yQMhO'#GPO!&zQMhO'#GRO(!yQMhO'#GRO!&zQMhO'#GaO(!yQMhO'#GaO!)[QlO,5:jO($kQpO'#D_O($uQpO'#JvO!)[QlO,5@oO'NnQlO1G0uO(%PQ?MtO'#CiO!)[QlO1G2PO!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO(%ZQ!dO'#CrO!&zQMhO,5<tO(!yQMhO,5<tO'NnQlO1G2RO!)[QlO7+&zO!&zQMhO1G2`O(!yQMhO1G2`O!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO!&zQMhO1G2bO(!yQMhO1G2bO'NnQlO7+'mO'NnQlO7+&aO!&zQMhOANAiO(!yQMhOANAiO(%nQ`O'#EoO(%sQ`O'#EoO(%{Q`O'#F]O(&QQ`O'#EyO(&VQ`O'#KTO(&bQ`O'#KRO(&mQ`O,5;ZO(&rQMjO,5<eO(&yQ`O'#GYO('OQ`O'#GYO('TQ`O,5<eO(']Q`O,5<gO('eQ`O,5;ZO('mQ?MtO1G1`O('tQ`O,5<tO('yQ`O,5<tO((OQ`O,5<vO((TQ`O,5<vO((YQ`O1G2RO((_Q`O1G0uO((dQMjO<<K}O((kQMjO<<K}O((rQMhO'#F|O9`Q`O'#F{OAuQ`O'#EnO!)[QlO,5;tO!3oQ`O'#GYO!3oQ`O'#GYO!3oQ`O'#G[O!3oQ`O'#G[O!,TQMhO7+(cO!,TQMhO7+(cO%.zQ!dO1G2wO%.zQ!dO1G2wO!&zQMhO,5=]O!&zQMhO,5=]",stateData:"()x~O'|OS'}OSTOS(ORQ~OPYOQYOSfOY!VOaqOdzOeyOl!POpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!uwO!xxO!|]O$W|O$niO%h}O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO&W!WO&^!XO&`!YO&b!ZO&d![O&g!]O&m!^O&s!_O&u!`O&w!aO&y!bO&{!cO(TSO(VTO(YUO(aVO(o[O~OWtO~P`OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa!wOs!nO!S!oO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!xO#W!pO#X!pO#[!zO#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O(O!{O~OP]XR]X[]Xa]Xj]Xr]X!Q]X!S]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X'z]X(a]X(r]X(y]X(z]X~O!g%RX~P(qO_!}O(V#PO(W!}O(X#PO~O_#QO(X#PO(Y#PO(Z#QO~Ox#SO!U#TO(b#TO(c#VO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T<ZO(VTO(YUO(aVO(o[O~O![#ZO!]#WO!Y(hP!Y(vP~P+}O!^#cO~P`OPYOQYOSfOd!jOe!iOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(VTO(YUO(aVO(o[O~Op#mO![#iO!|]O#i#lO#j#iO(T<[O!k(sP~P.iO!l#oO(T#nO~O!x#sO!|]O%h#tO~O#k#uO~O!g#vO#k#uO~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!]$_O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa(fX'z(fX'w(fX!k(fX!Y(fX!_(fX%i(fX!g(fX~P1qO#S$dO#`$eO$Q$eOP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX!_(gX%i(gX~Oa(gX'z(gX'w(gX!Y(gX!k(gXv(gX!g(gX~P4UO#`$eO~O$]$hO$_$gO$f$mO~OSfO!_$nO$i$oO$k$qO~Oh%VOj%dOk%dOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T$sO(VTO(YUO(a$uO(y$}O(z%POg(^P~Ol%[O~P7eO!l%eO~O!S%hO!_%iO(T%gO~O!g%mO~Oa%nO'z%nO~O!Q%rO~P%[O(U!lO~P%[O%n%vO~P%[Oh%VO!l%eO(T%gO(U!lO~Oe%}O!l%eO(T%gO~Oj$RO~O!_&PO(T%gO(U!lO(VTO(YUO`)WP~O!Q&SO!l&RO%j&VO&T&WO~P;SO!x#sO~O%s&YO!S)SX!_)SX(T)SX~O(T&ZO~Ol!PO!u&`O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO~Od&eOe&dO!x&bO%h&cO%{&aO~P<bOd&hOeyOl!PO!_&gO!u&`O!xxO!|]O%h}O%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO~Ob&kO#`&nO%j&iO(U!lO~P=gO!l&oO!u&sO~O!l#oO~O!_XO~Oa%nO'x&{O'z%nO~Oa%nO'x'OO'z%nO~Oa%nO'x'QO'z%nO~O'w]X!Y]Xv]X!k]X&[]X!_]X%i]X!g]X~P(qO!b'_O!c'WO!d'WO(U!lO(VTO(YUO~Os'UO!S'TO!['XO(e'SO!^(iP!^(xP~P@nOn'bO!_'`O(T%gO~Oe'gO!l%eO(T%gO~O!Q&SO!l&RO~Os!nO!S!oO!|<VO#T!pO#U!pO#W!pO#X!pO(U!lO(VTO(YUO(e!mO(o!sO~O!b'mO!c'lO!d'lO#V!pO#['nO#]'nO~PBYOa%nOh%VO!g#vO!l%eO'z%nO(r'pO~O!p'tO#`'rO~PChOs!nO!S!oO(VTO(YUO(e!mO(o!sO~O!_XOs(mX!S(mX!b(mX!c(mX!d(mX!|(mX#T(mX#U(mX#V(mX#W(mX#X(mX#[(mX#](mX(U(mX(V(mX(Y(mX(e(mX(o(mX~O!c'lO!d'lO(U!lO~PDWO(P'xO(Q'xO(R'zO~O_!}O(V'|O(W!}O(X'|O~O_#QO(X'|O(Y'|O(Z#QO~Ov(OO~P%[Ox#SO!U#TO(b#TO(c(RO~O![(TO!Y'WX!Y'^X!]'WX!]'^X~P+}O!](VO!Y(hX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!](VO!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~O!Y(hX~PHRO!Y([O~O!Y(uX!](uX!g(uX!k(uX(r(uX~O#`(uX#k#dX!^(uX~PJUO#`(]O!Y(wX!](wX~O!](^O!Y(vX~O!Y(aO~O#`$eO~PJUO!^(bO~P`OR#zO!Q#yO!S#{O!l#xO(aVOP!na[!naj!nar!na!]!na!p!na#R!na#n!na#o!na#p!na#q!na#r!na#s!na#t!na#u!na#v!na#x!na#z!na#{!na(r!na(y!na(z!na~Oa!na'z!na'w!na!Y!na!k!nav!na!_!na%i!na!g!na~PKlO!k(cO~O!g#vO#`(dO(r'pO!](tXa(tX'z(tX~O!k(tX~PNXO!S%hO!_%iO!|]O#i(iO#j(hO(T%gO~O!](jO!k(sX~O!k(lO~O!S%hO!_%iO#j(hO(T%gO~OP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~O!g#vO!k(gX~P! uOR(nO!Q(mO!l#xO#S$dO!|!{a!S!{a~O!x!{a%h!{a!_!{a#i!{a#j!{a(T!{a~P!#vO!x(rO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~O#k(xO~O![(zO!k(kP~P%[O(e(|O(o[O~O!S)OO!l#xO(e(|O(o[O~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]$_Oa$qa'z$qa'w$qa!k$qa!Y$qa!_$qa%i$qa!g$qa~Ol)dO~P!&zOh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Og(pP~P!,TO!Q)iO!g)hO!_$^X$Z$^X$]$^X$_$^X$f$^X~O!g)hO!_({X$Z({X$]({X$_({X$f({X~O!Q)iO~P!.^O!Q)iO!_({X$Z({X$]({X$_({X$f({X~O!_)kO$Z)oO$])jO$_)jO$f)pO~O![)sO~P!)[O$]$hO$_$gO$f)wO~On$zX!Q$zX#S$zX'y$zX(y$zX(z$zX~OgmXg$zXnmX!]mX#`mX~P!0SOx)yO(b)zO(c)|O~On*VO!Q*OO'y*PO(y$}O(z%PO~Og)}O~P!1WOg*WO~Oh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S*YO!_*ZO!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op*`O![*^O(T*XO!k)OP~P!1uO#k*aO~O!l*bO~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T*dO(VTO(YUO(a$uO(y$}O(z%PO~O![*gO!Y)PP~P!3tOr*sOs!nO!S*iO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO(e!mO~O!^*pO~P!5iO#S$dOn(`X!Q(`X'y(`X(y(`X(z(`X!](`X#`(`X~Og(`X$O(`X~P!6kOn*xO#`*wOg(_X!](_X~O!]*yOg(^X~Oj%dOk%dOl%dO(T&ZOg(^P~Os*|O~Og)}O(T&ZO~O!l+SO~O(T(vO~Op+WO!S%hO![#iO!_%iO!|]O#i#lO#j#iO(T%gO!k(sP~O!g#vO#k+XO~O!S%hO![+ZO!](^O!_%iO(T%gO!Y(vP~Os'[O!S+]O![+[O(VTO(YUO(e(|O~O!^(xP~P!9|O!]+^Oa)TX'z)TX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa!ja!]!ja'z!ja'w!ja!Y!ja!k!jav!ja!_!ja%i!ja!g!ja~P!:tOR#zO!Q#yO!S#{O!l#xO(aVOP!ra[!raj!rar!ra!]!ra!p!ra#R!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#v!ra#x!ra#z!ra#{!ra(r!ra(y!ra(z!ra~Oa!ra'z!ra'w!ra!Y!ra!k!rav!ra!_!ra%i!ra!g!ra~P!=[OR#zO!Q#yO!S#{O!l#xO(aVOP!ta[!taj!tar!ta!]!ta!p!ta#R!ta#n!ta#o!ta#p!ta#q!ta#r!ta#s!ta#t!ta#u!ta#v!ta#x!ta#z!ta#{!ta(r!ta(y!ta(z!ta~Oa!ta'z!ta'w!ta!Y!ta!k!tav!ta!_!ta%i!ta!g!ta~P!?rOh%VOn+gO!_'`O%i+fO~O!g+iOa(]X!_(]X'z(]X!](]X~Oa%nO!_XO'z%nO~Oh%VO!l%eO~Oh%VO!l%eO(T%gO~O!g#vO#k(xO~Ob+tO%j+uO(T+qO(VTO(YUO!^)XP~O!]+vO`)WX~O[+zO~O`+{O~O!_&PO(T%gO(U!lO`)WP~O%j,OO~P;SOh%VO#`,SO~Oh%VOn,VO!_$|O~O!_,XO~O!Q,ZO!_XO~O%n%vO~O!x,`O~Oe,eO~Ob,fO(T#nO(VTO(YUO!^)VP~Oe%}O~O%j!QO(T&ZO~P=gO[,kO`,jO~OPYOQYOSfOdzOeyOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!iuO!lZO!oYO!pYO!qYO!svO!xxO!|]O$niO%h}O(VTO(YUO(aVO(o[O~O!_!eO!u!gO$W!kO(T!dO~P!FyO`,jOa%nO'z%nO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa,pOl!OO!uwO%l!OO%m!OO%n!OO~P!IcO!l&oO~O&^,vO~O!_,xO~O&o,zO&q,{OP&laQ&laS&laY&laa&lad&lae&lal&lap&lar&las&lat&laz&la|&la!O&la!S&la!W&la!X&la!_&la!i&la!l&la!o&la!p&la!q&la!s&la!u&la!x&la!|&la$W&la$n&la%h&la%j&la%l&la%m&la%n&la%q&la%s&la%v&la%w&la%y&la&W&la&^&la&`&la&b&la&d&la&g&la&m&la&s&la&u&la&w&la&y&la&{&la'w&la(T&la(V&la(Y&la(a&la(o&la!^&la&e&lab&la&j&la~O(T-QO~Oh!eX!]!RX!^!RX!g!RX!g!eX!l!eX#`!RX~O!]!eX!^!eX~P#!iO!g-VO#`-UOh(jX!]#hX!^#hX!g(jX!l(jX~O!](jX!^(jX~P##[Oh%VO!g-XO!l%eO!]!aX!^!aX~Os!nO!S!oO(VTO(YUO(e!mO~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(VTO(YUO(aVO(o[O~O(T=QO~P#$qO!]-]O!^(iX~O!^-_O~O!g-VO#`-UO!]#hX!^#hX~O!]-`O!^(xX~O!^-bO~O!c-cO!d-cO(U!lO~P#$`O!^-fO~P'_On-iO!_'`O~O!Y-nO~Os!{a!b!{a!c!{a!d!{a#T!{a#U!{a#V!{a#W!{a#X!{a#[!{a#]!{a(U!{a(V!{a(Y!{a(e!{a(o!{a~P!#vO!p-sO#`-qO~PChO!c-uO!d-uO(U!lO~PDWOa%nO#`-qO'z%nO~Oa%nO!g#vO#`-qO'z%nO~Oa%nO!g#vO!p-sO#`-qO'z%nO(r'pO~O(P'xO(Q'xO(R-zO~Ov-{O~O!Y'Wa!]'Wa~P!:tO![.PO!Y'WX!]'WX~P%[O!](VO!Y(ha~O!Y(ha~PHRO!](^O!Y(va~O!S%hO![.TO!_%iO(T%gO!Y'^X!]'^X~O#`.VO!](ta!k(taa(ta'z(ta~O!g#vO~P#,wO!](jO!k(sa~O!S%hO!_%iO#j.ZO(T%gO~Op.`O!S%hO![.]O!_%iO!|]O#i._O#j.]O(T%gO!]'aX!k'aX~OR.dO!l#xO~Oh%VOn.gO!_'`O%i.fO~Oa#ci!]#ci'z#ci'w#ci!Y#ci!k#civ#ci!_#ci%i#ci!g#ci~P!:tOn>]O!Q*OO'y*PO(y$}O(z%PO~O#k#_aa#_a#`#_a'z#_a!]#_a!k#_a!_#_a!Y#_a~P#/sO#k(`XP(`XR(`X[(`Xa(`Xj(`Xr(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X'z(`X(a(`X(r(`X!k(`X!Y(`X'w(`Xv(`X!_(`X%i(`X!g(`X~P!6kO!].tO!k(kX~P!:tO!k.wO~O!Y.yO~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mia#mij#mir#mi!]#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#n#mi~P#3cO#n$OO~P#3cOP$[OR#zOr$aO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO[#mia#mij#mi!]#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#r#mi~P#6QO#r$QO~P#6QOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO(aVOa#mi!]#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#v#mi~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO(aVO(z#}Oa#mi!]#mi#z#mi#{#mi'z#mi(r#mi(y#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#x$UO~P#;VO#x#mi~P#;VO#v$SO~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO(aVO(y#|O(z#}Oa#mi!]#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#z#mi~P#={O#z$WO~P#={OP]XR]X[]Xj]Xr]X!Q]X!S]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X!]]X!^]X~O$O]X~P#@jOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO#z<gO#{<hO(aVO(r$YO(y#|O(z#}O~O$O.{O~P#BwO#S$dO#`<nO$Q<nO$O(gX!^(gX~P! uOa'da!]'da'z'da'w'da!k'da!Y'dav'da!_'da%i'da!g'da~P!:tO[#mia#mij#mir#mi!]#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO(y#mi(z#mi~P#EyOn>]O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P#EyO!]/POg(pX~P!1WOg/RO~Oa$Pi!]$Pi'z$Pi'w$Pi!Y$Pi!k$Piv$Pi!_$Pi%i$Pi!g$Pi~P!:tO$]/SO$_/SO~O$]/TO$_/TO~O!g)hO#`/UO!_$cX$Z$cX$]$cX$_$cX$f$cX~O![/VO~O!_)kO$Z/XO$])jO$_)jO$f/YO~O!]<iO!^(fX~P#BwO!^/ZO~O!g)hO$f({X~O$f/]O~Ov/^O~P!&zOx)yO(b)zO(c/aO~O!S/dO~O(y$}On%aa!Q%aa'y%aa(z%aa!]%aa#`%aa~Og%aa$O%aa~P#L{O(z%POn%ca!Q%ca'y%ca(y%ca!]%ca#`%ca~Og%ca$O%ca~P#MnO!]fX!gfX!kfX!k$zX(rfX~P!0SOp%WO![/mO!](^O(T/lO!Y(vP!Y)PP~P!1uOr*sO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO~Os<}O!S/nO![+[O!^*pO(e<|O!^(xP~P$ [O!k/oO~P#/sO!]/pO!g#vO(r'pO!k)OX~O!k/uO~OnoX!QoX'yoX(yoX(zoX~O!g#vO!koX~P$#OOp/wO!S%hO![*^O!_%iO(T%gO!k)OP~O#k/xO~O!Y$zX!]$zX!g%RX~P!0SO!]/yO!Y)PX~P#/sO!g/{O~O!Y/}O~OpkO(T0OO~P.iOh%VOr0TO!g#vO!l%eO(r'pO~O!g+iO~Oa%nO!]0XO'z%nO~O!^0ZO~P!5iO!c0[O!d0[O(U!lO~P#$`Os!nO!S0]O(VTO(YUO(e!mO~O#[0_O~Og%aa!]%aa#`%aa$O%aa~P!1WOg%ca!]%ca#`%ca$O%ca~P!1WOj%dOk%dOl%dO(T&ZOg'mX!]'mX~O!]*yOg(^a~Og0hO~On0jO#`0iOg(_a!](_a~OR0kO!Q0kO!S0lO#S$dOn}a'y}a(y}a(z}a!]}a#`}a~Og}a$O}a~P$(cO!Q*OO'y*POn$sa(y$sa(z$sa!]$sa#`$sa~Og$sa$O$sa~P$)_O!Q*OO'y*POn$ua(y$ua(z$ua!]$ua#`$ua~Og$ua$O$ua~P$*QO#k0oO~Og%Ta!]%Ta#`%Ta$O%Ta~P!1WO!g#vO~O#k0rO~O!]+^Oa)Ta'z)Ta~OR#zO!Q#yO!S#{O!l#xO(aVOP!ri[!rij!rir!ri!]!ri!p!ri#R!ri#n!ri#o!ri#p!ri#q!ri#r!ri#s!ri#t!ri#u!ri#v!ri#x!ri#z!ri#{!ri(r!ri(y!ri(z!ri~Oa!ri'z!ri'w!ri!Y!ri!k!riv!ri!_!ri%i!ri!g!ri~P$+oOh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op0{O%]0|O(T0zO~P$.VO!g+iOa(]a!_(]a'z(]a!](]a~O#k1SO~O[]X!]fX!^fX~O!]1TO!^)XX~O!^1VO~O[1WO~Ob1YO(T+qO(VTO(YUO~O!_&PO(T%gO`'uX!]'uX~O!]+vO`)Wa~O!k1]O~P!:tO[1`O~O`1aO~O#`1fO~On1iO!_$|O~O(e(|O!^)UP~Oh%VOn1rO!_1oO%i1qO~O[1|O!]1zO!^)VX~O!^1}O~O`2POa%nO'z%nO~O(T#nO(VTO(YUO~O#S$dO#`$eO$Q$eOP(gXR(gX[(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~Oj2SO&[2TOa(gX~P$3pOj2SO#`$eO&[2TO~Oa2VO~P%[Oa2XO~O&e2[OP&ciQ&ciS&ciY&cia&cid&cie&cil&cip&cir&cis&cit&ciz&ci|&ci!O&ci!S&ci!W&ci!X&ci!_&ci!i&ci!l&ci!o&ci!p&ci!q&ci!s&ci!u&ci!x&ci!|&ci$W&ci$n&ci%h&ci%j&ci%l&ci%m&ci%n&ci%q&ci%s&ci%v&ci%w&ci%y&ci&W&ci&^&ci&`&ci&b&ci&d&ci&g&ci&m&ci&s&ci&u&ci&w&ci&y&ci&{&ci'w&ci(T&ci(V&ci(Y&ci(a&ci(o&ci!^&cib&ci&j&ci~Ob2bO!^2`O&j2aO~P`O!_XO!l2dO~O&q,{OP&liQ&liS&liY&lia&lid&lie&lil&lip&lir&lis&lit&liz&li|&li!O&li!S&li!W&li!X&li!_&li!i&li!l&li!o&li!p&li!q&li!s&li!u&li!x&li!|&li$W&li$n&li%h&li%j&li%l&li%m&li%n&li%q&li%s&li%v&li%w&li%y&li&W&li&^&li&`&li&b&li&d&li&g&li&m&li&s&li&u&li&w&li&y&li&{&li'w&li(T&li(V&li(Y&li(a&li(o&li!^&li&e&lib&li&j&li~O!Y2jO~O!]!aa!^!aa~P#BwOs!nO!S!oO![2pO(e!mO!]'XX!^'XX~P@nO!]-]O!^(ia~O!]'_X!^'_X~P!9|O!]-`O!^(xa~O!^2wO~P'_Oa%nO#`3QO'z%nO~Oa%nO!g#vO#`3QO'z%nO~Oa%nO!g#vO!p3UO#`3QO'z%nO(r'pO~Oa%nO'z%nO~P!:tO!]$_Ov$qa~O!Y'Wi!]'Wi~P!:tO!](VO!Y(hi~O!](^O!Y(vi~O!Y(wi!](wi~P!:tO!](ti!k(tia(ti'z(ti~P!:tO#`3WO!](ti!k(tia(ti'z(ti~O!](jO!k(si~O!S%hO!_%iO!|]O#i3]O#j3[O(T%gO~O!S%hO!_%iO#j3[O(T%gO~On3dO!_'`O%i3cO~Oh%VOn3dO!_'`O%i3cO~O#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aav%aa!_%aa%i%aa!g%aa~P#L{O#k%caP%caR%ca[%caa%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%cav%ca!_%ca%i%ca!g%ca~P#MnO#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!]%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aa#`%aav%aa!_%aa%i%aa!g%aa~P#/sO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!]%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%ca#`%cav%ca!_%ca%i%ca!g%ca~P#/sO#k}aP}a[}aa}aj}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a'z}a(a}a(r}a!k}a!Y}a'w}av}a!_}a%i}a!g}a~P$(cO#k$saP$saR$sa[$saa$saj$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa'z$sa(a$sa(r$sa!k$sa!Y$sa'w$sav$sa!_$sa%i$sa!g$sa~P$)_O#k$uaP$uaR$ua[$uaa$uaj$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua'z$ua(a$ua(r$ua!k$ua!Y$ua'w$uav$ua!_$ua%i$ua!g$ua~P$*QO#k%TaP%TaR%Ta[%Taa%Taj%Tar%Ta!S%Ta!]%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta'z%Ta(a%Ta(r%Ta!k%Ta!Y%Ta'w%Ta#`%Tav%Ta!_%Ta%i%Ta!g%Ta~P#/sOa#cq!]#cq'z#cq'w#cq!Y#cq!k#cqv#cq!_#cq%i#cq!g#cq~P!:tO![3lO!]'YX!k'YX~P%[O!].tO!k(ka~O!].tO!k(ka~P!:tO!Y3oO~O$O!na!^!na~PKlO$O!ja!]!ja!^!ja~P#BwO$O!ra!^!ra~P!=[O$O!ta!^!ta~P!?rOg']X!]']X~P!,TO!]/POg(pa~OSfO!_4TO$d4UO~O!^4YO~Ov4ZO~P#/sOa$mq!]$mq'z$mq'w$mq!Y$mq!k$mqv$mq!_$mq%i$mq!g$mq~P!:tO!Y4]O~P!&zO!S4^O~O!Q*OO'y*PO(z%POn'ia(y'ia!]'ia#`'ia~Og'ia$O'ia~P%-fO!Q*OO'y*POn'ka(y'ka(z'ka!]'ka#`'ka~Og'ka$O'ka~P%.XO(r$YO~P#/sO!YfX!Y$zX!]fX!]$zX!g%RX#`fX~P!0SOp%WO(T=WO~P!1uOp4bO!S%hO![4aO!_%iO(T%gO!]'eX!k'eX~O!]/pO!k)Oa~O!]/pO!g#vO!k)Oa~O!]/pO!g#vO(r'pO!k)Oa~Og$|i!]$|i#`$|i$O$|i~P!1WO![4jO!Y'gX!]'gX~P!3tO!]/yO!Y)Pa~O!]/yO!Y)Pa~P#/sOP]XR]X[]Xj]Xr]X!Q]X!S]X!Y]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~Oj%YX!g%YX~P%2OOj4oO!g#vO~Oh%VO!g#vO!l%eO~Oh%VOr4tO!l%eO(r'pO~Or4yO!g#vO(r'pO~Os!nO!S4zO(VTO(YUO(e!mO~O(y$}On%ai!Q%ai'y%ai(z%ai!]%ai#`%ai~Og%ai$O%ai~P%5oO(z%POn%ci!Q%ci'y%ci(y%ci!]%ci#`%ci~Og%ci$O%ci~P%6bOg(_i!](_i~P!1WO#`5QOg(_i!](_i~P!1WO!k5VO~Oa$oq!]$oq'z$oq'w$oq!Y$oq!k$oqv$oq!_$oq%i$oq!g$oq~P!:tO!Y5ZO~O!]5[O!_)QX~P#/sOa$zX!_$zX%^]X'z$zX!]$zX~P!0SO%^5_OaoX!_oX'zoX!]oX~P$#OOp5`O(T#nO~O%^5_O~Ob5fO%j5gO(T+qO(VTO(YUO!]'tX!^'tX~O!]1TO!^)Xa~O[5kO~O`5lO~O[5pO~Oa%nO'z%nO~P#/sO!]5uO#`5wO!^)UX~O!^5xO~Or6OOs!nO!S*iO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!pO#W!pO#X!pO#[5}O#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O!^5|O~P%;eOn6TO!_1oO%i6SO~Oh%VOn6TO!_1oO%i6SO~Ob6[O(T#nO(VTO(YUO!]'sX!^'sX~O!]1zO!^)Va~O(VTO(YUO(e6^O~O`6bO~Oj6eO&[6fO~PNXO!k6gO~P%[Oa6iO~Oa6iO~P%[Ob2bO!^6nO&j2aO~P`O!g6pO~O!g6rOh(ji!](ji!^(ji!g(ji!l(jir(ji(r(ji~O!]#hi!^#hi~P#BwO#`6sO!]#hi!^#hi~O!]!ai!^!ai~P#BwOa%nO#`6|O'z%nO~Oa%nO!g#vO#`6|O'z%nO~O!](tq!k(tqa(tq'z(tq~P!:tO!](jO!k(sq~O!S%hO!_%iO#j7TO(T%gO~O!_'`O%i7WO~On7[O!_'`O%i7WO~O#k'iaP'iaR'ia['iaa'iaj'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia'z'ia(a'ia(r'ia!k'ia!Y'ia'w'iav'ia!_'ia%i'ia!g'ia~P%-fO#k'kaP'kaR'ka['kaa'kaj'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka'z'ka(a'ka(r'ka!k'ka!Y'ka'w'kav'ka!_'ka%i'ka!g'ka~P%.XO#k$|iP$|iR$|i[$|ia$|ij$|ir$|i!S$|i!]$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i'z$|i(a$|i(r$|i!k$|i!Y$|i'w$|i#`$|iv$|i!_$|i%i$|i!g$|i~P#/sO#k%aiP%aiR%ai[%aia%aij%air%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai'z%ai(a%ai(r%ai!k%ai!Y%ai'w%aiv%ai!_%ai%i%ai!g%ai~P%5oO#k%ciP%ciR%ci[%cia%cij%cir%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci'z%ci(a%ci(r%ci!k%ci!Y%ci'w%civ%ci!_%ci%i%ci!g%ci~P%6bO!]'Ya!k'Ya~P!:tO!].tO!k(ki~O$O#ci!]#ci!^#ci~P#BwOP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mij#mir#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#n#mi~P%NdO#n<_O~P%NdOP$[OR#zOr<kO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO[#mij#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#r#mi~P&!lO#r<aO~P&!lOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO(aVO#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#v#mi~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO(aVO(z#}O#z#mi#{#mi$O#mi(r#mi(y#mi!]#mi!^#mi~O#x<eO~P&&uO#x#mi~P&&uO#v<cO~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO(aVO(y#|O(z#}O#{#mi$O#mi(r#mi!]#mi!^#mi~O#z#mi~P&)UO#z<gO~P&)UOa#|y!]#|y'z#|y'w#|y!Y#|y!k#|yv#|y!_#|y%i#|y!g#|y~P!:tO[#mij#mir#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi!]#mi!^#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO(y#mi(z#mi~P&,QOn>^O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P&,QO#S$dOP(`XR(`X[(`Xj(`Xn(`Xr(`X!Q(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X$O(`X'y(`X(a(`X(r(`X(y(`X(z(`X!](`X!^(`X~O$O$Pi!]$Pi!^$Pi~P#BwO$O!ri!^!ri~P$+oOg']a!]']a~P!1WO!^7nO~O!]'da!^'da~P#BwO!Y7oO~P#/sO!g#vO(r'pO!]'ea!k'ea~O!]/pO!k)Oi~O!]/pO!g#vO!k)Oi~Og$|q!]$|q#`$|q$O$|q~P!1WO!Y'ga!]'ga~P#/sO!g7vO~O!]/yO!Y)Pi~P#/sO!]/yO!Y)Pi~O!Y7yO~Oh%VOr8OO!l%eO(r'pO~Oj8QO!g#vO~Or8TO!g#vO(r'pO~O!Q*OO'y*PO(z%POn'ja(y'ja!]'ja#`'ja~Og'ja$O'ja~P&5RO!Q*OO'y*POn'la(y'la(z'la!]'la#`'la~Og'la$O'la~P&5tOg(_q!](_q~P!1WO#`8VOg(_q!](_q~P!1WO!Y8WO~Og%Oq!]%Oq#`%Oq$O%Oq~P!1WOa$oy!]$oy'z$oy'w$oy!Y$oy!k$oyv$oy!_$oy%i$oy!g$oy~P!:tO!g6rO~O!]5[O!_)Qa~O!_'`OP$TaR$Ta[$Taj$Tar$Ta!Q$Ta!S$Ta!]$Ta!l$Ta!p$Ta#R$Ta#n$Ta#o$Ta#p$Ta#q$Ta#r$Ta#s$Ta#t$Ta#u$Ta#v$Ta#x$Ta#z$Ta#{$Ta(a$Ta(r$Ta(y$Ta(z$Ta~O%i7WO~P&8fO%^8[Oa%[i!_%[i'z%[i!]%[i~Oa#cy!]#cy'z#cy'w#cy!Y#cy!k#cyv#cy!_#cy%i#cy!g#cy~P!:tO[8^O~Ob8`O(T+qO(VTO(YUO~O!]1TO!^)Xi~O`8dO~O(e(|O!]'pX!^'pX~O!]5uO!^)Ua~O!^8nO~P%;eO(o!sO~P$&YO#[8oO~O!_1oO~O!_1oO%i8qO~On8tO!_1oO%i8qO~O[8yO!]'sa!^'sa~O!]1zO!^)Vi~O!k8}O~O!k9OO~O!k9RO~O!k9RO~P%[Oa9TO~O!g9UO~O!k9VO~O!](wi!^(wi~P#BwOa%nO#`9_O'z%nO~O!](ty!k(tya(ty'z(ty~P!:tO!](jO!k(sy~O%i9bO~P&8fO!_'`O%i9bO~O#k$|qP$|qR$|q[$|qa$|qj$|qr$|q!S$|q!]$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q'z$|q(a$|q(r$|q!k$|q!Y$|q'w$|q#`$|qv$|q!_$|q%i$|q!g$|q~P#/sO#k'jaP'jaR'ja['jaa'jaj'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja'z'ja(a'ja(r'ja!k'ja!Y'ja'w'jav'ja!_'ja%i'ja!g'ja~P&5RO#k'laP'laR'la['laa'laj'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la'z'la(a'la(r'la!k'la!Y'la'w'lav'la!_'la%i'la!g'la~P&5tO#k%OqP%OqR%Oq[%Oqa%Oqj%Oqr%Oq!S%Oq!]%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq'z%Oq(a%Oq(r%Oq!k%Oq!Y%Oq'w%Oq#`%Oqv%Oq!_%Oq%i%Oq!g%Oq~P#/sO!]'Yi!k'Yi~P!:tO$O#cq!]#cq!^#cq~P#BwO(y$}OP%aaR%aa[%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa$O%aa(a%aa(r%aa!]%aa!^%aa~On%aa!Q%aa'y%aa(z%aa~P&IyO(z%POP%caR%ca[%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca$O%ca(a%ca(r%ca!]%ca!^%ca~On%ca!Q%ca'y%ca(y%ca~P&LQOn>^O!Q*OO'y*PO(z%PO~P&IyOn>^O!Q*OO'y*PO(y$}O~P&LQOR0kO!Q0kO!S0lO#S$dOP}a[}aj}an}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a$O}a'y}a(a}a(r}a(y}a(z}a!]}a!^}a~O!Q*OO'y*POP$saR$sa[$saj$san$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa$O$sa(a$sa(r$sa(y$sa(z$sa!]$sa!^$sa~O!Q*OO'y*POP$uaR$ua[$uaj$uan$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua$O$ua(a$ua(r$ua(y$ua(z$ua!]$ua!^$ua~On>^O!Q*OO'y*PO(y$}O(z%PO~OP%TaR%Ta[%Taj%Tar%Ta!S%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta$O%Ta(a%Ta(r%Ta!]%Ta!^%Ta~P''VO$O$mq!]$mq!^$mq~P#BwO$O$oq!]$oq!^$oq~P#BwO!^9oO~O$O9pO~P!1WO!g#vO!]'ei!k'ei~O!g#vO(r'pO!]'ei!k'ei~O!]/pO!k)Oq~O!Y'gi!]'gi~P#/sO!]/yO!Y)Pq~Or9wO!g#vO(r'pO~O[9yO!Y9xO~P#/sO!Y9xO~Oj:PO!g#vO~Og(_y!](_y~P!1WO!]'na!_'na~P#/sOa%[q!_%[q'z%[q!]%[q~P#/sO[:UO~O!]1TO!^)Xq~O`:YO~O#`:ZO!]'pa!^'pa~O!]5uO!^)Ui~P#BwO!S:]O~O!_1oO%i:`O~O(VTO(YUO(e:eO~O!]1zO!^)Vq~O!k:hO~O!k:iO~O!k:jO~O!k:jO~P%[O#`:mO!]#hy!^#hy~O!]#hy!^#hy~P#BwO%i:rO~P&8fO!_'`O%i:rO~O$O#|y!]#|y!^#|y~P#BwOP$|iR$|i[$|ij$|ir$|i!S$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i$O$|i(a$|i(r$|i!]$|i!^$|i~P''VO!Q*OO'y*PO(z%POP'iaR'ia['iaj'ian'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia$O'ia(a'ia(r'ia(y'ia!]'ia!^'ia~O!Q*OO'y*POP'kaR'ka['kaj'kan'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka$O'ka(a'ka(r'ka(y'ka(z'ka!]'ka!^'ka~O(y$}OP%aiR%ai[%aij%ain%air%ai!Q%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai$O%ai'y%ai(a%ai(r%ai(z%ai!]%ai!^%ai~O(z%POP%ciR%ci[%cij%cin%cir%ci!Q%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci$O%ci'y%ci(a%ci(r%ci(y%ci!]%ci!^%ci~O$O$oy!]$oy!^$oy~P#BwO$O#cy!]#cy!^#cy~P#BwO!g#vO!]'eq!k'eq~O!]/pO!k)Oy~O!Y'gq!]'gq~P#/sOr:|O!g#vO(r'pO~O[;QO!Y;PO~P#/sO!Y;PO~Og(_!R!](_!R~P!1WOa%[y!_%[y'z%[y!]%[y~P#/sO!]1TO!^)Xy~O!]5uO!^)Uq~O(T;XO~O!_1oO%i;[O~O!k;_O~O%i;dO~P&8fOP$|qR$|q[$|qj$|qr$|q!S$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q$O$|q(a$|q(r$|q!]$|q!^$|q~P''VO!Q*OO'y*PO(z%POP'jaR'ja['jaj'jan'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja$O'ja(a'ja(r'ja(y'ja!]'ja!^'ja~O!Q*OO'y*POP'laR'la['laj'lan'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la$O'la(a'la(r'la(y'la(z'la!]'la!^'la~OP%OqR%Oq[%Oqj%Oqr%Oq!S%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq$O%Oq(a%Oq(r%Oq!]%Oq!^%Oq~P''VOg%e!Z!]%e!Z#`%e!Z$O%e!Z~P!1WO!Y;hO~P#/sOr;iO!g#vO(r'pO~O[;kO!Y;hO~P#/sO!]'pq!^'pq~P#BwO!]#h!Z!^#h!Z~P#BwO#k%e!ZP%e!ZR%e!Z[%e!Za%e!Zj%e!Zr%e!Z!S%e!Z!]%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z'z%e!Z(a%e!Z(r%e!Z!k%e!Z!Y%e!Z'w%e!Z#`%e!Zv%e!Z!_%e!Z%i%e!Z!g%e!Z~P#/sOr;tO!g#vO(r'pO~O!Y;uO~P#/sOr;|O!g#vO(r'pO~O!Y;}O~P#/sOP%e!ZR%e!Z[%e!Zj%e!Zr%e!Z!S%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z$O%e!Z(a%e!Z(r%e!Z!]%e!Z!^%e!Z~P''VOr<QO!g#vO(r'pO~Ov(fX~P1qO!Q%rO~P!)[O(U!lO~P!)[O!YfX!]fX#`fX~P%2OOP]XR]X[]Xj]Xr]X!Q]X!S]X!]]X!]fX!l]X!p]X#R]X#S]X#`]X#`fX#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~O!gfX!k]X!kfX(rfX~P'LTOP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_XO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]<iO!^$qa~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<tO!S${O!_$|O!i>WO!l$xO#j<zO$W%`O$t<vO$v<xO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Ol)dO~P(!yOr!eX(r!eX~P#!iOr(jX(r(jX~P##[O!^]X!^fX~P'LTO!YfX!Y$zX!]fX!]$zX#`fX~P!0SO#k<^O~O!g#vO#k<^O~O#`<nO~Oj<bO~O#`=OO!](wX!^(wX~O#`<nO!](uX!^(uX~O#k=PO~Og=RO~P!1WO#k=XO~O#k=YO~Og=RO(T&ZO~O!g#vO#k=ZO~O!g#vO#k=PO~O$O=[O~P#BwO#k=]O~O#k=^O~O#k=cO~O#k=dO~O#k=eO~O#k=fO~O$O=gO~P!1WO$O=hO~P!1WOl=sO~P7eOk#S#T#U#W#X#[#i#j#u$n$t$v$y%]%^%h%i%j%q%s%v%w%y%{~(OT#o!X'|(U#ps#n#qr!Q'}$]'}(T$_(e~",goto:"$9Y)]PPPPPP)^PP)aP)rP+W/]PPPP6mPP7TPP=QPPP@tPA^PA^PPPA^PCfPA^PA^PA^PCjPCoPD^PIWPPPI[PPPPI[L_PPPLeMVPI[PI[PP! eI[PPPI[PI[P!#lI[P!'S!(X!(bP!)U!)Y!)U!,gPPPPPPP!-W!(XPP!-h!/YP!2iI[I[!2n!5z!:h!:h!>gPPP!>oI[PPPPPPPPP!BOP!C]PPI[!DnPI[PI[I[I[I[I[PI[!FQP!I[P!LbP!Lf!Lp!Lt!LtP!IXP!Lx!LxP#!OP#!SI[PI[#!Y#%_CjA^PA^PA^A^P#&lA^A^#)OA^#+vA^#.SA^A^#.r#1W#1W#1]#1f#1W#1qPP#1WPA^#2ZA^#6YA^A^6mPPP#:_PPP#:x#:xP#:xP#;`#:xPP#;fP#;]P#;]#;y#;]#<e#<k#<n)aP#<q)aP#<z#<z#<zP)aP)aP)aP)aPP)aP#=Q#=TP#=T)aP#=XP#=[P)aP)aP)aP)aP)aP)a)aPP#=b#=h#=s#=y#>P#>V#>]#>k#>q#>{#?R#?]#?c#?s#?y#@k#@}#AT#AZ#Ai#BO#Cs#DR#DY#Et#FS#Gt#HS#HY#H`#Hf#Hp#Hv#H|#IW#Ij#IpPPPPPPPPPPP#IvPPPPPPP#Jk#Mx$ b$ i$ qPPP$']P$'f$*_$0x$0{$1O$1}$2Q$2X$2aP$2g$2jP$3W$3[$4S$5b$5g$5}PP$6S$6Y$6^$6a$6e$6i$7e$7|$8e$8i$8l$8o$8y$8|$9Q$9UR!|RoqOXst!Z#d%m&r&t&u&w,s,x2[2_Y!vQ'`-e1o5{Q%tvQ%|yQ&T|Q&j!VS'W!e-]Q'f!iS'l!r!yU*k$|*Z*oQ+o%}S+|&V&WQ,d&dQ-c'_Q-m'gQ-u'mQ0[*qQ1b,OQ1y,eR<{<Y%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_S#q]<V!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU+P%]<s<tQ+t&PQ,f&gQ,m&oQ0x+gQ0}+iQ1Y+uQ2R,kQ3`.gQ5`0|Q5f1TQ6[1zQ7Y3dQ8`5gR9e7['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S!S!nQ!r!v!y!z$|'W'_'`'l'm'n*k*o*q*r-]-c-e-u0[0_1o5{5}%[$ti#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q&X|Q'U!eS'[%i-`Q+t&PQ,P&WQ,f&gQ0n+SQ1Y+uQ1_+{Q2Q,jQ2R,kQ5f1TQ5o1aQ6[1zQ6_1|Q6`2PQ8`5gQ8c5lQ8|6bQ:X8dQ:f8yQ;V:YR<}*ZrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R,h&k&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'b'r(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>R>S[#]WZ#W#Z'X(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ%wxQ%{yW&Q|&V&W,OQ&_!TQ'c!hQ'e!iQ(q#sS+n%|%}Q+r&PQ,_&bQ,c&dS-l'f'gQ.i(rQ1R+oQ1X+uQ1Z+vQ1^+zQ1t,`S1x,d,eQ2|-mQ5e1TQ5i1WQ5n1`Q6Z1yQ8_5gQ8b5kQ8f5pQ:T8^R;T:U!U$zi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y!^%yy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{Q+h%wQ,T&[Q,W&]Q,b&dQ.h(qQ1s,_U1w,c,d,eQ3e.iQ6U1tS6Y1x1yQ8x6Z#f>T#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o>U<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hW%Ti%V*y>PS&[!Q&iQ&]!RQ&^!SU*}%[%d=sR,R&Y%]%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^T)z$u){V+P%]<s<tW'[!e%i*Z-`S(}#y#zQ+c%rQ+y&SS.b(m(nQ1j,XQ5T0kR8i5u'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S$i$^c#Y#e%q%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.|.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ'Y!eR2q-]!W!nQ!e!r!v!y!z$|'W'_'`'l'm'n*Z*k*o*q*r-]-c-e-u0[0_1o5{5}R1l,ZnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&y!^Q'v!xS(s#u<^Q+l%zQ,]&_Q,^&aQ-j'dQ-w'oS.r(x=PS0q+X=ZQ1P+mQ1n,[Q2c,zQ2e,{Q2m-WQ2z-kQ2}-oS5Y0r=eQ5a1QS5d1S=fQ6t2oQ6x2{Q6}3SQ8]5bQ9Y6vQ9Z6yQ9^7OR:l9V$d$]c#Y#e%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vS(o#p'iQ)P#zS+b%q.|S.c(n(pR3^.d'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS#q]<VQ&t!XQ&u!YQ&w![Q&x!]R2Z,vQ'a!hQ+e%wQ-h'cS.e(q+hQ2x-gW3b.h.i0w0yQ6w2yW7U3_3a3e5^U9a7V7X7ZU:q9c9d9fS;b:p:sQ;p;cR;x;qU!wQ'`-eT5y1o5{!Q_OXZ`st!V!Z#d#h%e%m&i&k&r&t&u&w(j,s,x.[2[2_]!pQ!r'`-e1o5{T#q]<V%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S(}#y#zS.b(m(n!s=l$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU$fd)_,mS(p#p'iU*v%R(w4OU0m+O.n7gQ5^0xQ7V3`Q9d7YR:s9em!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}Q't!uS(f#g2US-s'k'wQ/s*]Q0R*jQ3U-vQ4f/tQ4r0TQ4s0UQ4x0^Q7r4`S7}4t4vS8R4y4{Q9r7sQ9v7yQ9{8OQ:Q8TS:{9w9xS;g:|;PS;s;h;iS;{;t;uS<P;|;}R<S<QQ#wbQ's!uS(e#g2US(g#m+WQ+Y%fQ+j%xQ+p&OU-r'k't'wQ.W(fU/r*]*`/wQ0S*jQ0V*lQ1O+kQ1u,aS3R-s-vQ3Z.`S4e/s/tQ4n0PS4q0R0^Q4u0WQ6W1vQ7P3US7q4`4bQ7u4fU7|4r4x4{Q8P4wQ8v6XS9q7r7sQ9u7yQ9}8RQ:O8SQ:c8wQ:y9rS:z9v9xQ;S:QQ;^:dS;f:{;PS;r;g;hS;z;s;uS<O;{;}Q<R<PQ<T<SQ=o=jQ={=tR=|=uV!wQ'`-e%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S#wz!j!r=i$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=o>R%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Q%fj!^%xy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{S&Oz!jQ+k%yQ,a&dW1v,b,c,d,eU6X1w1x1yS8w6Y6ZQ:d8x!r=j$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ=t>QR=u>R%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Y#bWZ#W#Z(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ,n&o!p=k$Z$n)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=n'XU']!e%i*ZR2s-`%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ,m&oQ0x+gQ3`.gQ7Y3dR9e7[!b$Tc#Y%q(S(Y(t(y)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!P<d)^)q-Z.|2k2n3p3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!f$Vc#Y%q(S(Y(t(y)W)X)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!T<f)^)q-Z.|2k2n3p3v3w3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!^$Zc#Y%q(S(Y(t(y)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<WQ4_/kz>S)^)q-Z.|2k2n3p4P4X6u7b7k7l8k9X9g9m9n;W;`=vQ>X>ZR>Y>['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS$oh$pR4U/U'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$kf$qQ$ifS)j$l)nR)v$qT$jf$qT)l$l)n'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$oh$pQ$rhR)u$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_!s>Q$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S#glOPXZst!Z!`!o#S#d#o#{$n%m&k&n&o&r&t&u&w&{'T'b)O)s*i+]+g,p,s,x-i.g/V/n0]0l1r2S2T2V2X2[2_2a3d4T4z6T6e6f6i7[8t9T!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^Q+T%aQ/c*Oo4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!U$yi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>YQ*c$zU*l$|*Z*oQ+U%bQ0W*m#f=q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n=r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hQ=w>TQ=x>UQ=y>VR=z>W!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hnoOXst!Z#d%m&r&t&u&w,s,x2[2_S*f${*YQ-R'OQ-S'QR4i/y%[%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q,U&]Q1h,WQ5s1gR8h5tV*n$|*Z*oU*n$|*Z*oT5z1o5{S0P*i/nQ4w0]T8S4z:]Q+j%xQ0V*lQ1O+kQ1u,aQ6W1vQ8v6XQ:c8wR;^:d!U%Oi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Yx*R$v)e*S*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>OS0`*t0a#f<o#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<p<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!d=S(u)c*[*e.j.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[`=T3}7c7f7j9h:t:w;yS=_.l3iT=`7e9k!U%Qi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y|*T$v)e*U*t+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>OS0b*u0c#f<q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!h=U(u)c*[*e.k.l.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[d=V3}7d7e7j9h9i:t:u:w;yS=a.m3jT=b7f9lrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q&f!UR,p&ornOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R&f!UQ,Y&^R1d,RsnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q1p,_S6R1s1tU8p6P6Q6US:_8r8sS;Y:^:aQ;m;ZR;w;nQ&m!VR,i&iR6_1|R:f8yW&Q|&V&W,OR1Z+vQ&r!WR,s&sR,y&xT2],x2_R,}&yQ,|&yR2f,}Q'y!{R-y'ySsOtQ#dXT%ps#dQ#OTR'{#OQ#RUR'}#RQ){$uR/`){Q#UVR(Q#UQ#XWU(W#X(X.QQ(X#YR.Q(YQ-^'YR2r-^Q.u(yS3m.u3nR3n.vQ-e'`R2v-eY!rQ'`-e1o5{R'j!rQ/Q)eR4S/QU#_W%h*YU(_#_(`.RQ(`#`R.R(ZQ-a']R2t-at`OXst!V!Z#d%m&i&k&r&t&u&w,s,x2[2_S#hZ%eU#r`#h.[R.[(jQ(k#jQ.X(gW.a(k.X3X7RQ3X.YR7R3YQ)n$lR/W)nQ$phR)t$pQ$`cU)a$`-|<jQ-|<WR<j)qQ/q*]W4c/q4d7t9sU4d/r/s/tS7t4e4fR9s7u$e*Q$v(u)c)e*[*e*t*u+Q+R+V.l.m.o.p.q/_/g/i/k/v/|0d0e0v1e3f3g3h3}4R4[4g4h4l4|5O5R5S5W5r7]7^7_7`7e7f7h7i7j7p7w7z8U8X8Z9h9i9j9t9|:R:S:t:u:v:w:x:};R;e;j;v;y=p=}>O>Z>[Q/z*eU4k/z4m7xQ4m/|R7x4lS*o$|*ZR0Y*ox*S$v)e*t*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>O!d.j(u)c*[*e.l.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/h*S.j7ca7c3}7e7f7j9h:t:w;yQ0a*tQ3i.lU4}0a3i9kR9k7e|*U$v)e*t*u+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>O!h.k(u)c*[*e.l.m.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/j*U.k7de7d3}7e7f7j9h9i:t:u:w;yQ0c*uQ3j.mU5P0c3j9lR9l7fQ*z%UR0g*zQ5]0vR8Y5]Q+_%kR0u+_Q5v1jS8j5v:[R:[8kQ,[&_R1m,[Q5{1oR8m5{Q1{,fS6]1{8zR8z6_Q1U+rW5h1U5j8a:VQ5j1XQ8a5iR:V8bQ+w&QR1[+wQ2_,xR6m2_YrOXst#dQ&v!ZQ+a%mQ,r&rQ,t&tQ,u&uQ,w&wQ2Y,sS2],x2_R6l2[Q%opQ&z!_Q&}!aQ'P!bQ'R!cQ'q!uQ+`%lQ+l%zQ,Q&XQ,h&mQ-P&|W-p'k's't'wQ-w'oQ0X*nQ1P+mQ1c,PS2O,i,lQ2g-OQ2h-RQ2i-SQ2}-oW3P-r-s-v-xQ5a1QQ5m1_Q5q1eQ6V1uQ6a2QQ6k2ZU6z3O3R3UQ6}3SQ8]5bQ8e5oQ8g5rQ8l5zQ8u6WQ8{6`S9[6{7PQ9^7OQ:W8cQ:b8vQ:g8|Q:n9]Q;U:XQ;]:cQ;a:oQ;l;VR;o;^Q%zyQ'd!iQ'o!uU+m%{%|%}Q-W'VU-k'e'f'gS-o'k'uQ0Q*jS1Q+n+oQ2o-YS2{-l-mQ3S-tS4p0R0UQ5b1RQ6v2uQ6y2|Q7O3TU7{4r4s4vQ9z7}R;O9{S$wi>PR*{%VU%Ui%V>PR0f*yQ$viS(u#v+iS)c$b$cQ)e$dQ*[$xS*e${*YQ*t%OQ*u%QQ+Q%^Q+R%_Q+V%cQ.l<oQ.m<qQ.o<uQ.p<wQ.q<yQ/_)yQ/g*RQ/i*TQ/k*VQ/v*aS/|*g/mQ0d*wQ0e*xl0v+f,V.f1i1q3c6S7W8q9b:`:r;[;dQ1e,SQ3f=SQ3g=UQ3h=XS3}<l<mQ4R/PS4[/d4^Q4g/xQ4h/yQ4l/{Q4|0`Q5O0bQ5R0iQ5S0jQ5W0oQ5r1fQ7]=]Q7^=_Q7_=aQ7`=cQ7e<pQ7f<rQ7h<vQ7i<xQ7j<zQ7p4_Q7w4jQ7z4oQ8U5QQ8X5[Q8Z5_Q9h=YQ9i=TQ9j=VQ9t7vQ9|8QQ:R8VQ:S8[Q:t=^Q:u=`Q:v=bQ:w=dQ:x9pQ:}9yQ;R:PQ;e=gQ;j;QQ;v;kQ;y=hQ=p>PQ=}>XQ>O>YQ>Z>]R>[>^Q+O%]Q.n<sR7g<tnpOXst!Z#d%m&r&t&u&w,s,x2[2_Q!fPS#fZ#oQ&|!`W'h!o*i0]4zQ(P#SQ)Q#{Q)r$nS,l&k&nQ,q&oQ-O&{S-T'T/nQ-g'bQ.x)OQ/[)sQ0s+]Q0y+gQ2W,pQ2y-iQ3a.gQ4W/VQ5U0lQ6Q1rQ6c2SQ6d2TQ6h2VQ6j2XQ6o2aQ7Z3dQ7m4TQ8s6TQ9P6eQ9Q6fQ9S6iQ9f7[Q:a8tR:k9T#[cOPXZst!Z!`!o#d#o#{%m&k&n&o&r&t&u&w&{'T'b)O*i+]+g,p,s,x-i.g/n0]0l1r2S2T2V2X2[2_2a3d4z6T6e6f6i7[8t9TQ#YWQ#eYQ%quQ%svS%uw!gS(S#W(VQ(Y#ZQ(t#uQ(y#xQ)R$OQ)S$PQ)T$QQ)U$RQ)V$SQ)W$TQ)X$UQ)Y$VQ)Z$WQ)[$XQ)^$ZQ)`$_Q)b$aQ)g$eW)q$n)s/V4TQ+d%tQ+x&RS-Z'X2pQ-x'rS-}(T.PQ.S(]Q.U(dQ.s(xQ.v(zQ.z<UQ.|<XQ.}<YQ/O<]Q/b)}Q0p+XQ2k-UQ2n-XQ3O-qQ3V.VQ3k.tQ3p<^Q3q<_Q3r<`Q3s<aQ3t<bQ3u<cQ3v<dQ3w<eQ3x<fQ3y<gQ3z<hQ3{.{Q3|<kQ4P<nQ4Q<{Q4X<iQ5X0rQ5c1SQ6u=OQ6{3QQ7Q3WQ7a3lQ7b=PQ7k=RQ7l=ZQ8k5wQ9X6sQ9]6|Q9g=[Q9m=eQ9n=fQ:o9_Q;W:ZQ;`:mQ<W#SR=v>SR#[WR'Z!el!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}S'V!e-]U*j$|*Z*oS-Y'W'_S0U*k*qQ0^*rQ2u-cQ4v0[R4{0_R({#xQ!fQT-d'`-e]!qQ!r'`-e1o5{Q#p]R'i<VR)f$dY!uQ'`-e1o5{Q'k!rS'u!v!yS'w!z5}S-t'l'mQ-v'nR3T-uT#kZ%eS#jZ%eS%km,oU(g#h#i#lS.Y(h(iQ.^(jQ0t+^Q3Y.ZU3Z.[.]._S7S3[3]R9`7Td#^W#W#Z%h(T(^*Y+Z.T/mr#gZm#h#i#l%e(h(i(j+^.Z.[.]._3[3]7TS*]$x*bQ/t*^Q2U,oQ2l-VQ4`/pQ6q2dQ7s4aQ9W6rT=m'X+[V#aW%h*YU#`W%h*YS(U#W(^U(Z#Z+Z/mS-['X+[T.O(T.TV'^!e%i*ZQ$lfR)x$qT)m$l)nR4V/UT*_$x*bT*h${*YQ0w+fQ1g,VQ3_.fQ5t1iQ6P1qQ7X3cQ8r6SQ9c7WQ:^8qQ:p9bQ;Z:`Q;c:rQ;n;[R;q;dnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&l!VR,h&itmOXst!U!V!Z#d%m&i&r&t&u&w,s,x2[2_R,o&oT%lm,oR1k,XR,g&gQ&U|S+}&V&WR1^,OR+s&PT&p!W&sT&q!W&sT2^,x2_",nodeNames:" ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList in out const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration defer ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:380,context:Khe,nodeProps:[["isolate",-8,5,6,14,37,39,51,53,55,""],["group",-26,9,17,19,68,207,211,215,216,218,221,224,234,237,243,245,247,249,252,258,264,266,268,270,272,274,275,"Statement",-34,13,14,32,35,36,42,51,54,55,57,62,70,72,76,80,82,84,85,110,111,120,121,136,139,141,142,143,144,145,147,148,167,169,171,"Expression",-23,31,33,37,41,43,45,173,175,177,178,180,181,182,184,185,186,188,189,190,201,203,205,206,"Type",-3,88,103,109,"ClassItem"],["openedBy",23,"<",38,"InterpolationStart",56,"[",60,"{",73,"(",160,"JSXStartCloseTag"],["closedBy",-2,24,168,">",40,"InterpolationEnd",50,"]",61,"}",74,")",165,"JSXEndTag"]],propSources:[ide],skippedNodes:[0,5,6,278],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$i&j(Wp(Z!b'|0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(X#S$i&j'}0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$i&j(Wp(Z!b'}0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$i&j!p),Q(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(V':f$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$i&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$d`$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$d``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$d`$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(Z!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$d`(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$i&j(Wp(Z!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$i&j(Wp(Z!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$i&j(Z!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$i&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(Z!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$i&j(WpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(WpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Wp(Z!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$i&j(o%1l(Wp(Z!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$i&j(Wp(Z!b$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$i&j(Wp(Z!b$]#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$i&j(Wp(Z!b#p(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$i&j$Q(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(z+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$i&j#z(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(Y';W$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$i&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$d`$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(WpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$d`(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!l/.^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!k!Lf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$i&j(Wp(Z!b(U%&f#q(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$i&j(Wp(Z!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$i&j(Wp(Z!br+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!]+Jf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$i&j(Wp(Z!b!Q.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_![!L^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$i&j(Wp(Z!b#o(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$i&j(Z!b!X7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$i&j!X7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$i&j!X7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!X7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!X7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$i&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$i&j(Z!b!X7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(Z!b!X7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(Z!b!X7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(Z!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$i&j(Z!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$i&j(Wp!X7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$i&j(Wp!X7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Wp!X7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Wp!X7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(WpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$i&j(WpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$i&j(Wp(Z!b!X7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Wp(Z!b!X7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Wp(Z!b!X7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Wp(Z!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$i&j(Wp(Z!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$i&j(Wp(Z!b(O0/l!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$i&j(Wp(Z!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$i&j(Z!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$i&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(Z!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$i&j(WpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(WpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Wp(Z!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$i&j$Q(Ch(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Z#t$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!g$b$i&j$O)Lv(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#R-<U(Wp(Z!b$n7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$k&j(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#r(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$Q(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#s(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#`*!Y$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#k(Cl$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#s(Ch$f#|$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#s(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(r(Ct$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$i&j#{(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!|$Ip$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!S0,v$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$i&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$i&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$i&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$i&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$i&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!Y#)l$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#x(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$i&j(Wp(Z!b(a+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$i&j(Wp(Z!b(T,2j$_#t(e$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$i&j(Wp(Z!b$_#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!_#Hb(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(y+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_!^(CdvBr$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!q7`$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$i&j(Wp(Z!b'|0/l$]#t(T,2j(e$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$i&j(Wp(Z!b'}0/l$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[ede,tde,nde,rde,2,3,4,5,6,7,8,9,10,11,12,13,14,Jhe,new Ob("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOx~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!U~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(c~~",141,340),new Ob("j~RQYZXz{^~^O(Q~~aP!P!Qd~iO(R~~",25,323)],topRules:{Script:[0,7],SingleExpression:[1,276],SingleClassItem:[2,277]},dialects:{jsx:0,ts:15175},dynamicPrecedences:{80:1,82:1,94:1,169:1,199:1},specialized:[{term:327,get:t=>ade[t]||-1},{term:343,get:t=>ode[t]||-1},{term:95,get:t=>sde[t]||-1}],tokenPrec:15201});var ev;const cs=new he;function g3(t){return H.define({combine:t?e=>e.concat(t):void 0})}const iw=new he;class _r{constructor(e,n,r=[],i=""){this.data=e,this.name=i,ye.prototype.hasOwnProperty("tree")||Object.defineProperty(ye.prototype,"tree",{get(){return xt(this)}}),this.parser=n,this.extension=[ba.of(this),ye.languageData.of((a,o,s)=>{let l=LP(a,o,s),c=l.type.prop(cs);if(!c)return[];let u=a.facet(c),f=l.type.prop(iw);if(f){let h=l.resolve(o-l.from,s);for(let d of f)if(d.test(h,a)){let p=a.facet(d.facet);return d.type=="replace"?p:p.concat(u)}}return u})].concat(r)}isActiveAt(e,n,r=-1){return LP(e,n,r).type.prop(cs)==this.data}findRegions(e){let n=e.facet(ba);if((n==null?void 0:n.data)==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let r=[],i=(a,o)=>{if(a.prop(cs)==this.data){r.push({from:o,to:o+a.length});return}let s=a.prop(he.mounted);if(s){if(s.tree.prop(cs)==this.data){if(s.overlay)for(let l of s.overlay)r.push({from:l.from+o,to:l.to+o});else r.push({from:o,to:o+a.length});return}else if(s.overlay){let l=r.length;if(i(s.tree,s.overlay[0].from+o),r.length>l)return}}for(let l=0;l<a.children.length;l++){let c=a.children[l];c instanceof nt&&i(c,a.positions[l]+o)}};return i(xt(e),0),r}get allowsNesting(){return!0}}_r.setState=se.define();function LP(t,e,n){let r=t.facet(ba),i=xt(t).topNode;if(!r||r.allowsNesting)for(let a=i;a;a=a.enter(e,n,Ve.ExcludeBuffers|Ve.EnterBracketed))a.type.isTop&&(i=a);return i}class Gp extends _r{constructor(e,n,r){super(e,n,[],r),this.parser=n}static define(e){let n=g3(e.languageData);return new Gp(n,e.parser.configure({props:[cs.add(r=>r.isTop?n:void 0)]}),e.name)}configure(e,n){return new Gp(this.data,this.parser.configure(e),n||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function xt(t){let e=t.field(_r.state,!1);return e?e.tree:nt.empty}class cde{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let r=this.cursorPos-this.string.length;return e<r||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-r,n-r)}}let lc=null;class Hp{constructor(e,n,r=[],i,a,o,s,l){this.parser=e,this.state=n,this.fragments=r,this.tree=i,this.treeLen=a,this.viewport=o,this.skipped=s,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,n,r){return new Hp(e,n,[],nt.empty,0,r,[],null)}startParse(){return this.parser.startParse(new cde(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=nt.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(so.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(so.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=lc;lc=this;try{return e()}finally{lc=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=BP(e,n.from,n.to);return e}changes(e,n){let{fragments:r,tree:i,treeLen:a,viewport:o,skipped:s}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,u,f,h)=>l.push({fromA:c,toA:u,fromB:f,toB:h})),r=so.applyChanges(r,l),i=nt.empty,a=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){s=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),f=e.mapPos(c.to,-1);u<f&&s.push({from:u,to:f})}}}return new Hp(this.parser,n,r,i,a,o,s,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:a}=this.skipped[r];i<e.to&&a>e.from&&(this.fragments=BP(this.fragments,i,a),this.skipped.splice(r--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends u3{createParse(n,r,i){let a=i[0].from,o=i[i.length-1].to;return{parsedPos:a,advance(){let l=lc;if(l){for(let c of i)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new nt(Sn.none,[],[],o-a)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return lc}}function BP(t,e,n){return so.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class fl{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new fl(n)}static init(e){let n=Math.min(3e3,e.doc.length),r=Hp.create(e.facet(ba).parser,e,{from:0,to:n});return r.work(20,n)||r.takeTree(),new fl(r)}}_r.state=Et.define({create:fl.init,update(t,e){for(let n of e.effects)if(n.is(_r.setState))return n.value;return e.startState.facet(ba)!=e.state.facet(ba)?fl.init(e.state):t.apply(e)}});let v3=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(v3=t=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(t,{timeout:400})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const tv=typeof navigator<"u"&&(!((ev=navigator.scheduling)===null||ev===void 0)&&ev.isInputPending)?()=>navigator.scheduling.isInputPending():null,ude=ut.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field(_r.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field(_r.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=v3(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,a=r.field(_r.state);if(a.tree==a.context.tree&&a.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!tv?Math.max(25,e.timeRemaining()-5):1e9),s=a.context.treeLen<i&&r.doc.length>i+1e3,l=a.context.work(()=>tv&&tv()||Date.now()>o,i+(s?0:1e5));this.chunkBudget-=Date.now()-n,(l||this.chunkBudget<=0)&&(a.context.takeTree(),this.view.dispatch({effects:_r.setState.of(new fl(a.context))})),this.chunkBudget>0&&!(l&&!s)&&this.scheduleWork(),this.checkAsyncSchedule(a.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>gn(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),ba=H.define({combine(t){return t.length?t[0]:null},enables:t=>[_r.state,ude,ee.contentAttributes.compute([t],e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}})]});class fde{constructor(e,n=[]){this.language=e,this.support=n,this.extension=[e,n]}}const hde=H.define(),wg=H.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(n=>n!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function Kp(t){let e=t.facet(wg);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function ef(t,e){let n="",r=t.tabSize,i=t.facet(wg)[0];if(i=="	"){for(;e>=r;)n+="	",e-=r;i=" "}for(let a=0;a<e;a++)n+=i;return n}function aw(t,e){t instanceof ye&&(t=new Sg(t));for(let r of t.state.facet(hde)){let i=r(t,e);if(i!==void 0)return i}let n=xt(t.state);return n.length>=e?dde(t,n,e):null}class Sg{constructor(e,n={}){this.state=e,this.options=n,this.unit=Kp(e)}lineAt(e,n=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:a}=this.options;return i!=null&&i>=r.from&&i<=r.to?a&&i==e?{text:"",from:e}:(n<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,n=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,n);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,n=1){let{text:r,from:i}=this.lineAt(e,n),a=this.countColumn(r,e-i),o=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return o>-1&&(a+=o-this.countColumn(r,r.search(/\S|$/))),a}countColumn(e,n=e.length){return Ml(e,this.state.tabSize,n)}lineIndent(e,n=1){let{text:r,from:i}=this.lineAt(e,n),a=this.options.overrideIndentation;if(a){let o=a(i);if(o>-1)return o}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const y3=new he;function dde(t,e,n){let r=e.resolveStack(n),i=e.resolveInner(n,-1).resolve(n,0).enterUnfinishedNodesBefore(n);if(i!=r.node){let a=[];for(let o=i;o&&!(o.from<r.node.from||o.to>r.node.to||o.from==r.node.from&&o.type==r.node.type);o=o.parent)a.push(o);for(let o=a.length-1;o>=0;o--)r={node:a[o],next:r}}return O3(r,t,n)}function O3(t,e,n){for(let r=t;r;r=r.next){let i=mde(r.node);if(i)return i(ow.create(e,n,r))}return 0}function pde(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function mde(t){let e=t.type.prop(y3);if(e)return e;let n=t.firstChild,r;if(n&&(r=n.type.prop(he.closedBy))){let i=t.lastChild,a=i&&r.indexOf(i.name)>-1;return o=>b3(o,!0,1,void 0,a&&!pde(o)?i.from:void 0)}return t.parent==null?gde:null}function gde(){return 0}class ow extends Sg{constructor(e,n,r){super(e.state,e.options),this.base=e,this.pos=n,this.context=r}get node(){return this.context.node}static create(e,n,r){return new ow(e,n,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let n=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(n.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(vde(r,e))break;n=this.state.doc.lineAt(r.from)}return this.lineIndent(n.from)}continue(){return O3(this.context.next,this.base,this.pos)}}function vde(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function yde(t){let e=t.node,n=e.childAfter(e.from),r=e.lastChild;if(!n)return null;let i=t.options.simulateBreak,a=t.state.doc.lineAt(n.from),o=i==null||i<=a.from?a.to:Math.min(a.to,i);for(let s=n.to;;){let l=e.childAfter(s);if(!l||l==r)return null;if(!l.type.isSkipped){if(l.from>=o)return null;let c=/^ */.exec(a.text.slice(n.to-a.from))[0].length;return{from:n.from,to:n.to+c}}s=l.to}}function Ode({closing:t,align:e=!0,units:n=1}){return r=>b3(r,e,n,t)}function b3(t,e,n,r,i){let a=t.textAfter,o=a.match(/^\s*/)[0].length,s=r&&a.slice(o,o+r.length)==r||i==t.pos+o,l=e?yde(t):null;return l?s?t.column(l.from):t.column(l.to):t.baseIndent+(s?0:t.unit*n)}const bde=t=>t.baseIndent;function nv({except:t,units:e=1}={}){return n=>{let r=t&&t.test(n.textAfter);return n.baseIndent+(r?0:e*n.unit)}}const xde=200;function wde(){return ye.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let n=t.newDoc,{head:r}=t.newSelection.main,i=n.lineAt(r);if(r>i.from+xde)return t;let a=n.sliceString(i.from,r);if(!e.some(c=>c.test(a)))return t;let{state:o}=t,s=-1,l=[];for(let{head:c}of o.selection.ranges){let u=o.doc.lineAt(c);if(u.from==s)continue;s=u.from;let f=aw(o,u.from);if(f==null)continue;let h=/^\s*/.exec(u.text)[0],d=ef(o,f);h!=d&&l.push({from:u.from,to:u.from+h.length,insert:d})}return l.length?[t,{changes:l,sequential:!0}]:t})}const Sde=H.define(),x3=new he;function _de(t){let e=t.firstChild,n=t.lastChild;return e&&e.to<n.from?{from:e.to,to:n.type.isError?t.to:n.from}:null}function $de(t,e,n){let r=xt(t);if(r.length<n)return null;let i=r.resolveStack(n,1),a=null;for(let o=i;o;o=o.next){let s=o.node;if(s.to<=n||s.from>n)continue;if(a&&s.from<e)break;let l=s.type.prop(x3);if(l&&(s.to<r.length-50||r.length==t.doc.length||!kde(s))){let c=l(s,t);c&&c.from<=n&&c.from>=e&&c.to>n&&(a=c)}}return a}function kde(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function Jp(t,e,n){for(let r of t.facet(Sde)){let i=r(t,e,n);if(i)return i}return $de(t,e,n)}function w3(t,e){let n=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);return n>=r?void 0:{from:n,to:r}}const _g=se.define({map:w3}),kf=se.define({map:w3});function S3(t){let e=[];for(let{head:n}of t.state.selection.ranges)e.some(r=>r.from<=n&&r.to>=n)||e.push(t.lineBlockAt(n));return e}const $o=Et.define({create(){return re.none},update(t,e){e.isUserEvent("delete")&&e.changes.iterChangedRanges((n,r)=>t=ZP(t,n,r)),t=t.map(e.changes);for(let n of e.effects)if(n.is(_g)&&!Pde(t,n.value.from,n.value.to)){let{preparePlaceholder:r}=e.state.facet(k3),i=r?re.replace({widget:new Qde(r(e.state,n.value))}):WP;t=t.update({add:[i.range(n.value.from,n.value.to)]})}else n.is(kf)&&(t=t.update({filter:(r,i)=>n.value.from!=r||n.value.to!=i,filterFrom:n.value.from,filterTo:n.value.to}));return e.selection&&(t=ZP(t,e.selection.main.head)),t},provide:t=>ee.decorations.from(t),toJSON(t,e){let n=[];return t.between(0,e.doc.length,(r,i)=>{n.push(r,i)}),n},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let n=0;n<t.length;){let r=t[n++],i=t[n++];if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(WP.range(r,i))}return re.set(e,!0)}});function ZP(t,e,n=e){let r=!1;return t.between(e,n,(i,a)=>{i<n&&a>e&&(r=!0)}),r?t.update({filterFrom:e,filterTo:n,filter:(i,a)=>i>=n||a<=e}):t}function em(t,e,n){var r;let i=null;return(r=t.field($o,!1))===null||r===void 0||r.between(e,n,(a,o)=>{(!i||i.from>a)&&(i={from:a,to:o})}),i}function Pde(t,e,n){let r=!1;return t.between(e,e,(i,a)=>{i==e&&a==n&&(r=!0)}),r}function _3(t,e){return t.field($o,!1)?e:e.concat(se.appendConfig.of(P3()))}const Ade=t=>{for(let e of S3(t)){let n=Jp(t.state,e.from,e.to);if(n)return t.dispatch({effects:_3(t.state,[_g.of(n),$3(t,n)])}),!0}return!1},Cde=t=>{if(!t.state.field($o,!1))return!1;let e=[];for(let n of S3(t)){let r=em(t.state,n.from,n.to);r&&e.push(kf.of(r),$3(t,r,!1))}return e.length&&t.dispatch({effects:e}),e.length>0};function $3(t,e,n=!0){let r=t.state.doc.lineAt(e.from).number,i=t.state.doc.lineAt(e.to).number;return ee.announce.of(`${t.state.phrase(n?"Folded lines":"Unfolded lines")} ${r} ${t.state.phrase("to")} ${i}.`)}const Ede=t=>{let{state:e}=t,n=[];for(let r=0;r<e.doc.length;){let i=t.lineBlockAt(r),a=Jp(e,i.from,i.to);a&&n.push(_g.of(a)),r=(a?t.lineBlockAt(a.to):i).to+1}return n.length&&t.dispatch({effects:_3(t.state,n)}),!!n.length},Tde=t=>{let e=t.state.field($o,!1);if(!e||!e.size)return!1;let n=[];return e.between(0,t.state.doc.length,(r,i)=>{n.push(kf.of({from:r,to:i}))}),t.dispatch({effects:n}),!0},Mde=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:Ade},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:Cde},{key:"Ctrl-Alt-[",run:Ede},{key:"Ctrl-Alt-]",run:Tde}],jde={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},k3=H.define({combine(t){return oi(t,jde)}});function P3(t){return[$o,Rde]}function A3(t,e){let{state:n}=t,r=n.facet(k3),i=o=>{let s=t.lineBlockAt(t.posAtDOM(o.target)),l=em(t.state,s.from,s.to);l&&t.dispatch({effects:kf.of(l)}),o.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(t,i,e);let a=document.createElement("span");return a.textContent=r.placeholderText,a.setAttribute("aria-label",n.phrase("folded code")),a.title=n.phrase("unfold"),a.className="cm-foldPlaceholder",a.onclick=i,a}const WP=re.replace({widget:new class extends si{toDOM(t){return A3(t,null)}}});class Qde extends si{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return A3(e,this.value)}}const zde={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class rv extends Ti{constructor(e,n){super(),this.config=e,this.open=n}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let n=document.createElement("span");return n.textContent=this.open?this.config.openText:this.config.closedText,n.title=e.state.phrase(this.open?"Fold line":"Unfold line"),n}}function Ide(t={}){let e={...zde,...t},n=new rv(e,!0),r=new rv(e,!1),i=ut.fromClass(class{constructor(o){this.from=o.viewport.from,this.markers=this.buildMarkers(o)}update(o){(o.docChanged||o.viewportChanged||o.startState.facet(ba)!=o.state.facet(ba)||o.startState.field($o,!1)!=o.state.field($o,!1)||xt(o.startState)!=xt(o.state)||e.foldingChanged(o))&&(this.markers=this.buildMarkers(o.view))}buildMarkers(o){let s=new Ci;for(let l of o.viewportLineBlocks){let c=em(o.state,l.from,l.to)?r:Jp(o.state,l.from,l.to)?n:null;c&&s.add(l.from,l.from,c)}return s.finish()}}),{domEventHandlers:a}=e;return[i,Gfe({class:"cm-foldGutter",markers(o){var s;return((s=o.plugin(i))===null||s===void 0?void 0:s.markers)||de.empty},initialSpacer(){return new rv(e,!1)},domEventHandlers:{...a,click:(o,s,l)=>{if(a.click&&a.click(o,s,l))return!0;let c=em(o.state,s.from,s.to);if(c)return o.dispatch({effects:kf.of(c)}),!0;let u=Jp(o.state,s.from,s.to);return u?(o.dispatch({effects:_g.of(u)}),!0):!1}}}),P3()]}const Rde=ee.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Pf{constructor(e,n){this.specs=e;let r;function i(s){let l=ga.newName();return(r||(r=Object.create(null)))["."+l]=s,l}const a=typeof n.all=="string"?n.all:n.all?i(n.all):void 0,o=n.scope;this.scope=o instanceof _r?s=>s.prop(cs)==o.data:o?s=>s==o:void 0,this.style=p3(e.map(s=>({tag:s.tag,class:s.class||i(Object.assign({},s,{tag:null}))})),{all:a}).style,this.module=r?new ga(r):null,this.themeType=n.themeType}static define(e,n){return new Pf(e,n||{})}}const Sb=H.define(),C3=H.define({combine(t){return t.length?[t[0]]:null}});function iv(t){let e=t.facet(Sb);return e.length?e:t.facet(C3)}function E3(t,e){let n=[Nde],r;return t instanceof Pf&&(t.module&&n.push(ee.styleModule.of(t.module)),r=t.themeType),e!=null&&e.fallback?n.push(C3.of(t)):r?n.push(Sb.computeN([ee.darkTheme],i=>i.facet(ee.darkTheme)==(r=="dark")?[t]:[])):n.push(Sb.of(t)),n}class Dde{constructor(e){this.markCache=Object.create(null),this.tree=xt(e.state),this.decorations=this.buildDeco(e,iv(e.state)),this.decoratedTo=e.viewport.to}update(e){let n=xt(e.state),r=iv(e.state),i=r!=iv(e.startState),{viewport:a}=e.view,o=e.changes.mapPos(this.decoratedTo,1);n.length<a.to&&!i&&n.type==this.tree.type&&o>=a.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=o):(n!=this.tree||e.viewportChanged||i)&&(this.tree=n,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=a.to)}buildDeco(e,n){if(!n||!this.tree.length)return re.none;let r=new Ci;for(let{from:i,to:a}of e.visibleRanges)Che(this.tree,n,(o,s,l)=>{r.add(o,s,this.markCache[l]||(this.markCache[l]=re.mark({class:l})))},i,a);return r.finish()}}const Nde=Ta.high(ut.fromClass(Dde,{decorations:t=>t.decorations})),Lde=Pf.define([{tag:z.meta,color:"#404740"},{tag:z.link,textDecoration:"underline"},{tag:z.heading,textDecoration:"underline",fontWeight:"bold"},{tag:z.emphasis,fontStyle:"italic"},{tag:z.strong,fontWeight:"bold"},{tag:z.strikethrough,textDecoration:"line-through"},{tag:z.keyword,color:"#708"},{tag:[z.atom,z.bool,z.url,z.contentSeparator,z.labelName],color:"#219"},{tag:[z.literal,z.inserted],color:"#164"},{tag:[z.string,z.deleted],color:"#a11"},{tag:[z.regexp,z.escape,z.special(z.string)],color:"#e40"},{tag:z.definition(z.variableName),color:"#00f"},{tag:z.local(z.variableName),color:"#30a"},{tag:[z.typeName,z.namespace],color:"#085"},{tag:z.className,color:"#167"},{tag:[z.special(z.variableName),z.macroName],color:"#256"},{tag:z.definition(z.propertyName),color:"#00c"},{tag:z.comment,color:"#940"},{tag:z.invalid,color:"#f00"}]),Bde=ee.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),T3=1e4,M3="()[]{}",j3=H.define({combine(t){return oi(t,{afterCursor:!0,brackets:M3,maxScanDistance:T3,renderMatch:Xde})}}),Zde=re.mark({class:"cm-matchingBracket"}),Wde=re.mark({class:"cm-nonmatchingBracket"});function Xde(t){let e=[],n=t.matched?Zde:Wde;return e.push(n.range(t.start.from,t.start.to)),t.end&&e.push(n.range(t.end.from,t.end.to)),e}const Fde=Et.define({create(){return re.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],r=e.state.facet(j3);for(let i of e.state.selection.ranges){if(!i.empty)continue;let a=Gr(e.state,i.head,-1,r)||i.head>0&&Gr(e.state,i.head-1,1,r)||r.afterCursor&&(Gr(e.state,i.head,1,r)||i.head<e.state.doc.length&&Gr(e.state,i.head+1,-1,r));a&&(n=n.concat(r.renderMatch(a,e.state)))}return re.set(n,!0)},provide:t=>ee.decorations.from(t)}),Vde=[Fde,Bde];function Ude(t={}){return[j3.of(t),Vde]}const qde=new he;function _b(t,e,n){let r=t.prop(e<0?he.openedBy:he.closedBy);if(r)return r;if(t.name.length==1){let i=n.indexOf(t.name);if(i>-1&&i%2==(e<0?1:0))return[n[i+e]]}return null}function $b(t){let e=t.type.prop(qde);return e?e(t.node):t}function Gr(t,e,n,r={}){let i=r.maxScanDistance||T3,a=r.brackets||M3,o=xt(t),s=o.resolveInner(e,n);for(let l=s;l;l=l.parent){let c=_b(l.type,n,a);if(c&&l.from<l.to){let u=$b(l);if(u&&(n>0?e>=u.from&&e<u.to:e>u.from&&e<=u.to))return Yde(t,e,n,l,u,c,a)}}return Gde(t,e,n,o,s.type,i,a)}function Yde(t,e,n,r,i,a,o){let s=r.parent,l={from:i.from,to:i.to},c=0,u=s==null?void 0:s.cursor();if(u&&(n<0?u.childBefore(r.from):u.childAfter(r.to)))do if(n<0?u.to<=r.from:u.from>=r.to){if(c==0&&a.indexOf(u.type.name)>-1&&u.from<u.to){let f=$b(u);return{start:l,end:f?{from:f.from,to:f.to}:void 0,matched:!0}}else if(_b(u.type,n,o))c++;else if(_b(u.type,-n,o)){if(c==0){let f=$b(u);return{start:l,end:f&&f.from<f.to?{from:f.from,to:f.to}:void 0,matched:!1}}c--}}while(n<0?u.prevSibling():u.nextSibling());return{start:l,matched:!1}}function Gde(t,e,n,r,i,a,o){let s=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),l=o.indexOf(s);if(l<0||l%2==0!=n>0)return null;let c={from:n<0?e-1:e,to:n>0?e+1:e},u=t.doc.iterRange(e,n>0?t.doc.length:0),f=0;for(let h=0;!u.next().done&&h<=a;){let d=u.value;n<0&&(h+=d.length);let p=e+h*n;for(let m=n>0?0:d.length-1,v=n>0?d.length:-1;m!=v;m+=n){let g=o.indexOf(d[m]);if(!(g<0||r.resolveInner(p+m,1).type!=i))if(g%2==0==n>0)f++;else{if(f==1)return{start:c,end:{from:p+m,to:p+m+1},matched:g>>1==l>>1};f--}}n>0&&(h+=d.length)}return u.done?{start:c,matched:!1}:null}const Hde=Object.create(null),XP=[Sn.none],FP=[],VP=Object.create(null),Kde=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Kde[t]=Jde(Hde,e);function av(t,e){FP.indexOf(t)>-1||(FP.push(t),console.warn(e))}function Jde(t,e){let n=[];for(let s of e.split(" ")){let l=[];for(let c of s.split(".")){let u=t[c]||z[c];u?typeof u=="function"?l.length?l=l.map(u):av(c,`Modifier ${c} used at start of tag`):l.length?av(c,`Tag ${c} used as modifier`):l=Array.isArray(u)?u:[u]:av(c,`Unknown highlighting tag ${c}`)}for(let c of l)n.push(c)}if(!n.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+n.map(s=>s.id),a=VP[i];if(a)return a.id;let o=VP[i]=Sn.define({id:XP.length,name:r,props:[h3({[r]:n})]});return XP.push(o),o.id}Te.RTL,Te.LTR;class Q3{constructor(e,n,r,i){this.state=e,this.pos=n,this.explicit=r,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let n=xt(this.state).resolveInner(this.pos,-1);for(;n&&e.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(e){let n=this.state.doc.lineAt(this.pos),r=Math.max(n.from,this.pos-250),i=n.text.slice(r-n.from,this.pos-n.from),a=i.search(I3(e,!1));return a<0?null:{from:r+a,to:this.pos,text:i.slice(a)}}get aborted(){return this.abortListeners==null}addEventListener(e,n,r){e=="abort"&&this.abortListeners&&(this.abortListeners.push(n),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function UP(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function epe(t){let e=Object.create(null),n=Object.create(null);for(let{label:i}of t){e[i[0]]=!0;for(let a=1;a<i.length;a++)n[i[a]]=!0}let r=UP(e)+UP(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function z3(t){let e=t.map(i=>typeof i=="string"?{label:i}:i),[n,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:epe(e);return i=>{let a=i.matchBefore(r);return a||i.explicit?{from:a?a.from:i.pos,options:e,validFor:n}:null}}function tpe(t,e){return n=>{for(let r=xt(n.state).resolveInner(n.pos,-1);r;r=r.parent){if(t.indexOf(r.name)>-1)return null;if(r.type.isTop)break}return e(n)}}class qP{constructor(e,n,r,i){this.completion=e,this.source=n,this.match=r,this.score=i}}function lo(t){return t.selection.main.from}function I3(t,e){var n;let{source:r}=t,i=e&&r[0]!="^",a=r[r.length-1]!="$";return!i&&!a?t:new RegExp(`${i?"^":""}(?:${r})${a?"$":""}`,(n=t.flags)!==null&&n!==void 0?n:t.ignoreCase?"i":"")}const sw=Ii.define();function npe(t,e,n,r){let{main:i}=t.selection,a=n-i.from,o=r-i.from;return{...t.changeByRange(s=>{if(s!=i&&n!=r&&t.sliceDoc(s.from+a,s.from+o)!=t.sliceDoc(n,r))return{range:s};let l=t.toText(e);return{changes:{from:s.from+a,to:r==i.from?s.to:s.from+o,insert:l},range:W.cursor(s.from+a+l.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}const YP=new WeakMap;function rpe(t){if(!Array.isArray(t))return t;let e=YP.get(t);return e||YP.set(t,e=z3(t)),e}const tm=se.define(),tf=se.define();class ipe{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let n=0;n<e.length;){let r=fn(e,n),i=Xr(r);this.chars.push(r);let a=e.slice(n,n+i),o=a.toUpperCase();this.folded.push(fn(o==a?a.toLowerCase():o,0)),n+=i}this.astral=e.length!=this.chars.length}ret(e,n){return this.score=e,this.matched=n,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:n,folded:r,any:i,precise:a,byWord:o}=this;if(n.length==1){let y=fn(e,0),x=Xr(y),_=x==e.length?0:-100;if(y!=n[0])if(y==r[0])_+=-200;else return null;return this.ret(_,[0,x])}let s=e.indexOf(this.pattern);if(s==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=n.length,c=0;if(s<0){for(let y=0,x=Math.min(e.length,200);y<x&&c<l;){let _=fn(e,y);(_==n[c]||_==r[c])&&(i[c++]=y),y+=Xr(_)}if(c<l)return null}let u=0,f=0,h=!1,d=0,p=-1,m=-1,v=/[a-z]/.test(e),g=!0;for(let y=0,x=Math.min(e.length,200),_=0;y<x&&f<l;){let O=fn(e,y);s<0&&(u<l&&O==n[u]&&(a[u++]=y),d<l&&(O==n[d]||O==r[d]?(d==0&&(p=y),m=y+1,d++):d=0));let w,$=O<255?O>=48&&O<=57||O>=97&&O<=122?2:O>=65&&O<=90?1:0:(w=zx(O))!=w.toLowerCase()?1:w!=w.toUpperCase()?2:0;(!y||$==1&&v||_==0&&$!=0)&&(n[f]==O||r[f]==O&&(h=!0)?o[f++]=y:o.length&&(g=!1)),_=$,y+=Xr(O)}return f==l&&o[0]==0&&g?this.result(-100+(h?-200:0),o,e):d==l&&p==0?this.ret(-200-e.length+(m==e.length?0:-100),[0,m]):s>-1?this.ret(-700-e.length,[s,s+this.pattern.length]):d==l?this.ret(-900-e.length,[p,m]):f==l?this.result(-100+(h?-200:0)+-700+(g?0:-1100),o,e):n.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,n,r){let i=[],a=0;for(let o of n){let s=o+(this.astral?Xr(fn(r,o)):1);a&&i[a-1]==o?i[a-1]=s:(i[a++]=o,i[a++]=s)}return this.ret(e-r.length,i)}}class ape{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let n=e.slice(0,this.pattern.length),r=n==this.pattern?0:n.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,n.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}}const kt=H.define({combine(t){return oi(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:ope,filterStrict:!1,compareCompletions:(e,n)=>(e.sortText||e.label).localeCompare(n.sortText||n.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,n)=>e&&n,closeOnBlur:(e,n)=>e&&n,icons:(e,n)=>e&&n,tooltipClass:(e,n)=>r=>GP(e(r),n(r)),optionClass:(e,n)=>r=>GP(e(r),n(r)),addToOptions:(e,n)=>e.concat(n),filterStrict:(e,n)=>e||n})}});function GP(t,e){return t?e?t+" "+e:t:e}function ope(t,e,n,r,i,a){let o=t.textDirection==Te.RTL,s=o,l=!1,c="top",u,f,h=e.left-i.left,d=i.right-e.right,p=r.right-r.left,m=r.bottom-r.top;if(s&&h<Math.min(p,d)?s=!1:!s&&d<Math.min(p,h)&&(s=!0),p<=(s?h:d))u=Math.max(i.top,Math.min(n.top,i.bottom-m))-e.top,f=Math.min(400,s?h:d);else{l=!0,f=Math.min(400,(o?e.right:i.right-e.left)-30);let y=i.bottom-e.bottom;y>=m||y>e.top?u=n.bottom-e.top:(c="bottom",u=e.bottom-n.top)}let v=(e.bottom-e.top)/a.offsetHeight,g=(e.right-e.left)/a.offsetWidth;return{style:`${c}: ${u/v}px; max-width: ${f/g}px`,class:"cm-completionInfo-"+(l?o?"left-narrow":"right-narrow":s?"left":"right")}}function spe(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(n){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),n.type&&r.classList.add(...n.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(n,r,i,a){let o=document.createElement("span");o.className="cm-completionLabel";let s=n.displayLabel||n.label,l=0;for(let c=0;c<a.length;){let u=a[c++],f=a[c++];u>l&&o.appendChild(document.createTextNode(s.slice(l,u)));let h=o.appendChild(document.createElement("span"));h.appendChild(document.createTextNode(s.slice(u,f))),h.className="cm-completionMatchedText",l=f}return l<s.length&&o.appendChild(document.createTextNode(s.slice(l))),o},position:50},{render(n){if(!n.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=n.detail,r},position:80}),e.sort((n,r)=>n.position-r.position).map(n=>n.render)}function ov(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let i=Math.floor(e/n);return{from:i*n,to:(i+1)*n}}let r=Math.floor((t-e)/n);return{from:t-(r+1)*n,to:t-r*n}}class lpe{constructor(e,n,r){this.view=e,this.stateField=n,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let i=e.state.field(n),{options:a,selected:o}=i.open,s=e.state.facet(kt);this.optionContent=spe(s),this.optionClass=s.optionClass,this.tooltipClass=s.tooltipClass,this.range=ov(a.length,o,s.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",l=>{let{options:c}=e.state.field(n).open;for(let u=l.target,f;u&&u!=this.dom;u=u.parentNode)if(u.nodeName=="LI"&&(f=/-(\d+)$/.exec(u.id))&&+f[1]<c.length){this.applyCompletion(e,c[+f[1]]),l.preventDefault();return}}),this.dom.addEventListener("focusout",l=>{let c=e.state.field(this.stateField,!1);c&&c.tooltip&&e.state.facet(kt).closeOnBlur&&l.relatedTarget!=e.contentDOM&&e.dispatch({effects:tf.of(null)})}),this.showOptions(a,i.id)}mount(){this.updateSel()}showOptions(e,n){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,n,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var n;let r=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=i){let{options:a,selected:o,disabled:s}=r.open;(!i.open||i.open.options!=a)&&(this.range=ov(a.length,o,e.state.facet(kt).maxRenderedOptions),this.showOptions(a,r.id)),this.updateSel(),s!=((n=i.open)===null||n===void 0?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!s)}}updateTooltipClass(e){let n=this.tooltipClass(e);if(n!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of n.split(" "))r&&this.dom.classList.add(r);this.currentClass=n}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),n=e.open;(n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=ov(n.options.length,n.selected,this.view.state.facet(kt).maxRenderedOptions),this.showOptions(n.options,e.id));let r=this.updateSelectedOption(n.selected);if(r){this.destroyInfo();let{completion:i}=n.options[n.selected],{info:a}=i;if(!a)return;let o=typeof a=="string"?document.createTextNode(a):a(i);if(!o)return;"then"in o?o.then(s=>{s&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(s,i)}).catch(s=>gn(this.view.state,s,"completion info")):(this.addInfoPane(o,i),r.setAttribute("aria-describedby",this.info.id))}}addInfoPane(e,n){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",r.id="cm-completionInfo-"+Math.floor(Math.random()*65535).toString(16),e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:a}=e;r.appendChild(i),this.infoDestroy=a||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let n=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!="LI"||!r.id?i--:i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),n=r):r.hasAttribute("aria-selected")&&(r.removeAttribute("aria-selected"),r.removeAttribute("aria-describedby"));return n&&upe(this.list,n),n}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let n=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),a=this.space;if(!a){let o=this.dom.ownerDocument.documentElement;a={left:0,top:0,right:o.clientWidth,bottom:o.clientHeight}}return i.top>Math.min(a.bottom,n.bottom)-10||i.bottom<Math.max(a.top,n.top)+10?null:this.view.state.facet(kt).positionInfo(this.view,n,i,r,a,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,n,r){const i=document.createElement("ul");i.id=n,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions")),i.addEventListener("mousedown",o=>{o.target==i&&o.preventDefault()});let a=null;for(let o=r.from;o<r.to;o++){let{completion:s,match:l}=e[o],{section:c}=s;if(c){let h=typeof c=="string"?c:c.name;if(h!=a&&(o>r.from||r.from==0))if(a=h,typeof c!="string"&&c.header)i.appendChild(c.header(c));else{let d=i.appendChild(document.createElement("completion-section"));d.textContent=h}}const u=i.appendChild(document.createElement("li"));u.id=n+"-"+o,u.setAttribute("role","option");let f=this.optionClass(s);f&&(u.className=f);for(let h of this.optionContent){let d=h(s,this.view.state,this.view,l);d&&u.appendChild(d)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function cpe(t,e){return n=>new lpe(n,t,e)}function upe(t,e){let n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=n.height/t.offsetHeight;r.top<n.top?t.scrollTop-=(n.top-r.top)/i:r.bottom>n.bottom&&(t.scrollTop+=(r.bottom-n.bottom)/i)}function HP(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function fpe(t,e){let n=[],r=null,i=null,a=u=>{n.push(u);let{section:f}=u.completion;if(f){r||(r=[]);let h=typeof f=="string"?f:f.name;r.some(d=>d.name==h)||r.push(typeof f=="string"?{name:h}:f)}},o=e.facet(kt);for(let u of t)if(u.hasResult()){let f=u.result.getMatch;if(u.result.filter===!1)for(let h of u.result.options)a(new qP(h,u.source,f?f(h):[],1e9-n.length));else{let h=e.sliceDoc(u.from,u.to),d,p=o.filterStrict?new ape(h):new ipe(h);for(let m of u.result.options)if(d=p.match(m.label)){let v=m.displayLabel?f?f(m,d.matched):[]:d.matched,g=d.score+(m.boost||0);if(a(new qP(m,u.source,v,g)),typeof m.section=="object"&&m.section.rank==="dynamic"){let{name:y}=m.section;i||(i=Object.create(null)),i[y]=Math.max(g,i[y]||-1e9)}}}}if(r){let u=Object.create(null),f=0,h=(d,p)=>(d.rank==="dynamic"&&p.rank==="dynamic"?i[p.name]-i[d.name]:0)||(typeof d.rank=="number"?d.rank:1e9)-(typeof p.rank=="number"?p.rank:1e9)||(d.name<p.name?-1:1);for(let d of r.sort(h))f-=1e5,u[d.name]=f;for(let d of n){let{section:p}=d.completion;p&&(d.score+=u[typeof p=="string"?p:p.name])}}let s=[],l=null,c=o.compareCompletions;for(let u of n.sort((f,h)=>h.score-f.score||c(f.completion,h.completion))){let f=u.completion;!l||l.label!=f.label||l.detail!=f.detail||l.type!=null&&f.type!=null&&l.type!=f.type||l.apply!=f.apply||l.boost!=f.boost?s.push(u):HP(u.completion)>HP(l)&&(s[s.length-1]=u),l=u.completion}return s}class us{constructor(e,n,r,i,a,o){this.options=e,this.attrs=n,this.tooltip=r,this.timestamp=i,this.selected=a,this.disabled=o}setSelected(e,n){return e==this.selected||e>=this.options.length?this:new us(this.options,KP(n,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,n,r,i,a,o){if(i&&!o&&e.some(c=>c.isPending))return i.setDisabled();let s=fpe(e,n);if(!s.length)return i&&e.some(c=>c.isPending)?i.setDisabled():null;let l=n.facet(kt).selectOnOpen?0:-1;if(i&&i.selected!=l&&i.selected!=-1){let c=i.options[i.selected].completion;for(let u=0;u<s.length;u++)if(s[u].completion==c){l=u;break}}return new us(s,KP(r,l),{pos:e.reduce((c,u)=>u.hasResult()?Math.min(c,u.from):c,1e8),create:vpe,above:a.aboveCursor},i?i.timestamp:Date.now(),l,!1)}map(e){return new us(this.options,this.attrs,{...this.tooltip,pos:e.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new us(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class nm{constructor(e,n,r){this.active=e,this.id=n,this.open=r}static start(){return new nm(mpe,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:n}=e,r=n.facet(kt),a=(r.override||n.languageDataAt("autocomplete",lo(n)).map(rpe)).map(l=>(this.active.find(u=>u.source==l)||new tr(l,this.active.some(u=>u.state!=0)?1:0)).update(e,r));a.length==this.active.length&&a.every((l,c)=>l==this.active[c])&&(a=this.active);let o=this.open,s=e.effects.some(l=>l.is(lw));o&&e.docChanged&&(o=o.map(e.changes)),e.selection||a.some(l=>l.hasResult()&&e.changes.touchesRange(l.from,l.to))||!hpe(a,this.active)||s?o=us.build(a,n,this.id,o,r,s):o&&o.disabled&&!a.some(l=>l.isPending)&&(o=null),!o&&a.every(l=>!l.isPending)&&a.some(l=>l.hasResult())&&(a=a.map(l=>l.hasResult()?new tr(l.source,0):l));for(let l of e.effects)l.is(D3)&&(o=o&&o.setSelected(l.value,this.id));return a==this.active&&o==this.open?this:new nm(a,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?dpe:ppe}}function hpe(t,e){if(t==e)return!0;for(let n=0,r=0;;){for(;n<t.length&&!t[n].hasResult();)n++;for(;r<e.length&&!e[r].hasResult();)r++;let i=n==t.length,a=r==e.length;if(i||a)return i==a;if(t[n++].result!=e[r++].result)return!1}}const dpe={"aria-autocomplete":"list"},ppe={};function KP(t,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}const mpe=[];function R3(t,e){if(t.isUserEvent("input.complete")){let r=t.annotation(sw);if(r&&e.activateOnCompletion(r))return 12}let n=t.isUserEvent("input.type");return n&&e.activateOnTyping?5:n?1:t.isUserEvent("delete.backward")?2:t.selection?8:t.docChanged?16:0}class tr{constructor(e,n,r=!1){this.source=e,this.state=n,this.explicit=r}hasResult(){return!1}get isPending(){return this.state==1}update(e,n){let r=R3(e,n),i=this;(r&8||r&16&&this.touches(e))&&(i=new tr(i.source,0)),r&4&&i.state==0&&(i=new tr(this.source,1)),i=i.updateFor(e,r);for(let a of e.effects)if(a.is(tm))i=new tr(i.source,1,a.value);else if(a.is(tf))i=new tr(i.source,0);else if(a.is(lw))for(let o of a.value)o.source==i.source&&(i=o);return i}updateFor(e,n){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(lo(e.state))}}class ks extends tr{constructor(e,n,r,i,a,o){super(e,3,n),this.limit=r,this.result=i,this.from=a,this.to=o}hasResult(){return!0}updateFor(e,n){var r;if(!(n&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let a=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),s=lo(e.state);if(s>o||!i||n&2&&(lo(e.startState)==this.from||s<this.limit))return new tr(this.source,n&4?1:0);let l=e.changes.mapPos(this.limit);return gpe(i.validFor,e.state,a,o)?new ks(this.source,this.explicit,l,i,a,o):i.update&&(i=i.update(i,a,o,new Q3(e.state,s,!1)))?new ks(this.source,this.explicit,l,i,i.from,(r=i.to)!==null&&r!==void 0?r:lo(e.state)):new tr(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new ks(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new tr(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function gpe(t,e,n,r){if(!t)return!1;let i=e.sliceDoc(n,r);return typeof t=="function"?t(i,n,r,e):I3(t,!0).test(i)}const lw=se.define({map(t,e){return t.map(n=>n.map(e))}}),D3=se.define(),hn=Et.define({create(){return nm.start()},update(t,e){return t.update(e)},provide:t=>[Kx.from(t,e=>e.tooltip),ee.contentAttributes.from(t,e=>e.attrs)]});function cw(t,e){const n=e.completion.apply||e.completion.label;let r=t.state.field(hn).active.find(i=>i.source==e.source);return r instanceof ks?(typeof n=="string"?t.dispatch({...npe(t.state,n,r.from,r.to),annotations:sw.of(e.completion)}):n(t,e.completion,r.from,r.to),!0):!1}const vpe=cpe(hn,cw);function Mh(t,e="option"){return n=>{let r=n.state.field(hn,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(kt).interactionDelay)return!1;let i=1,a;e=="page"&&(a=e3(n,r.open.tooltip))&&(i=Math.max(2,Math.floor(a.dom.offsetHeight/a.dom.querySelector("li").offsetHeight)-1));let{length:o}=r.open.options,s=r.open.selected>-1?r.open.selected+i*(t?1:-1):t?0:o-1;return s<0?s=e=="page"?0:o-1:s>=o&&(s=e=="page"?o-1:0),n.dispatch({effects:D3.of(s)}),!0}}const ype=t=>{let e=t.state.field(hn,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(kt).interactionDelay?!1:cw(t,e.open.options[e.open.selected])},sv=t=>t.state.field(hn,!1)?(t.dispatch({effects:tm.of(!0)}),!0):!1,Ope=t=>{let e=t.state.field(hn,!1);return!e||!e.active.some(n=>n.state!=0)?!1:(t.dispatch({effects:tf.of(null)}),!0)};class bpe{constructor(e,n){this.active=e,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}}const xpe=50,wpe=1e3,Spe=ut.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of t.state.field(hn).active)e.isPending&&this.startQuery(e)}update(t){let e=t.state.field(hn),n=t.state.facet(kt);if(!t.selectionSet&&!t.docChanged&&t.startState.field(hn)==e)return;let r=t.transactions.some(a=>{let o=R3(a,n);return o&8||(a.selection||a.docChanged)&&!(o&3)});for(let a=0;a<this.running.length;a++){let o=this.running[a];if(r||o.context.abortOnDocChange&&t.docChanged||o.updates.length+t.transactions.length>xpe&&Date.now()-o.time>wpe){for(let s of o.context.abortListeners)try{s()}catch(l){gn(this.view.state,l)}o.context.abortListeners=null,this.running.splice(a--,1)}else o.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some(a=>a.effects.some(o=>o.is(tm)))&&(this.pendingStart=!0);let i=this.pendingStart?50:n.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(a=>a.isPending&&!this.running.some(o=>o.active.source==a.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let a of t.transactions)a.isUserEvent("input.type")?this.composing=2:this.composing==2&&a.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,e=t.field(hn);for(let n of e.active)n.isPending&&!this.running.some(r=>r.active.source==n.source)&&this.startQuery(n);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(kt).updateSyncTime))}startQuery(t){let{state:e}=this.view,n=lo(e),r=new Q3(e,n,t.explicit,this.view),i=new bpe(t,r);this.running.push(i),Promise.resolve(t.source(r)).then(a=>{i.context.aborted||(i.done=a||null,this.scheduleAccept())},a=>{this.view.dispatch({effects:tf.of(null)}),gn(this.view.state,a)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(kt).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(kt),r=this.view.state.field(hn);for(let i=0;i<this.running.length;i++){let a=this.running[i];if(a.done===void 0)continue;if(this.running.splice(i--,1),a.done){let s=lo(a.updates.length?a.updates[0].startState:this.view.state),l=Math.min(s,a.done.from+(a.active.explicit?0:1)),c=new ks(a.active.source,a.active.explicit,l,a.done,a.done.from,(t=a.done.to)!==null&&t!==void 0?t:s);for(let u of a.updates)c=c.update(u,n);if(c.hasResult()){e.push(c);continue}}let o=r.active.find(s=>s.source==a.active.source);if(o&&o.isPending)if(a.done==null){let s=new tr(a.active.source,0);for(let l of a.updates)s=s.update(l,n);s.isPending||e.push(s)}else this.startQuery(o)}(e.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:lw.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(hn,!1);if(e&&e.tooltip&&this.view.state.facet(kt).closeOnBlur){let n=e.open&&e3(this.view,e.open.tooltip);(!n||!n.dom.contains(t.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:tf.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:tm.of(!1)}),20),this.composing=0}}}),_pe=typeof navigator=="object"&&/Win/.test(navigator.platform),$pe=Ta.highest(ee.domEventHandlers({keydown(t,e){let n=e.state.field(hn,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||t.key.length>1||t.ctrlKey&&!(_pe&&t.altKey)||t.metaKey)return!1;let r=n.open.options[n.open.selected],i=n.active.find(o=>o.source==r.source),a=r.completion.commitCharacters||i.result.commitCharacters;return a&&a.indexOf(t.key)>-1&&cw(e,r),!1}})),N3=ee.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class kpe{constructor(e,n,r,i){this.field=e,this.line=n,this.from=r,this.to=i}}class uw{constructor(e,n,r){this.field=e,this.from=n,this.to=r}map(e){let n=e.mapPos(this.from,-1,Rt.TrackDel),r=e.mapPos(this.to,1,Rt.TrackDel);return n==null||r==null?null:new uw(this.field,n,r)}}class fw{constructor(e,n){this.lines=e,this.fieldPositions=n}instantiate(e,n){let r=[],i=[n],a=e.doc.lineAt(n),o=/^\s*/.exec(a.text)[0];for(let l of this.lines){if(r.length){let c=o,u=/^\t*/.exec(l)[0].length;for(let f=0;f<u;f++)c+=e.facet(wg);i.push(n+c.length-u),l=c+l.slice(u)}r.push(l),n+=l.length+1}let s=this.fieldPositions.map(l=>new uw(l.field,i[l.line]+l.from,i[l.line]+l.to));return{text:r,ranges:s}}static parse(e){let n=[],r=[],i=[],a;for(let o of e.split(/\r\n?|\n/)){for(;a=/[#$]\{(?:(\d+)(?::([^{}]*))?|((?:\\[{}]|[^{}])*))\}/.exec(o);){let s=a[1]?+a[1]:null,l=a[2]||a[3]||"",c=-1,u=l.replace(/\\[{}]/g,f=>f[1]);for(let f=0;f<n.length;f++)(s!=null?n[f].seq==s:u&&n[f].name==u)&&(c=f);if(c<0){let f=0;for(;f<n.length&&(s==null||n[f].seq!=null&&n[f].seq<s);)f++;n.splice(f,0,{seq:s,name:u}),c=f;for(let h of i)h.field>=c&&h.field++}for(let f of i)if(f.line==r.length&&f.from>a.index){let h=a[2]?3+(a[1]||"").length:2;f.from-=h,f.to-=h}i.push(new kpe(c,r.length,a.index,a.index+u.length)),o=o.slice(0,a.index)+l+o.slice(a.index+a[0].length)}o=o.replace(/\\([{}])/g,(s,l,c)=>{for(let u of i)u.line==r.length&&u.from>c&&(u.from--,u.to--);return l}),r.push(o)}return new fw(r,i)}}let Ppe=re.widget({widget:new class extends si{toDOM(){let t=document.createElement("span");return t.className="cm-snippetFieldPosition",t}ignoreEvent(){return!1}}}),Ape=re.mark({class:"cm-snippetField"});class jl{constructor(e,n){this.ranges=e,this.active=n,this.deco=re.set(e.map(r=>(r.from==r.to?Ppe:Ape).range(r.from,r.to)),!0)}map(e){let n=[];for(let r of this.ranges){let i=r.map(e);if(!i)return null;n.push(i)}return new jl(n,this.active)}selectionInsideField(e){return e.ranges.every(n=>this.ranges.some(r=>r.field==this.active&&r.from<=n.from&&r.to>=n.to))}}const Af=se.define({map(t,e){return t&&t.map(e)}}),Cpe=se.define(),nf=Et.define({create(){return null},update(t,e){for(let n of e.effects){if(n.is(Af))return n.value;if(n.is(Cpe)&&t)return new jl(t.ranges,n.value)}return t&&e.docChanged&&(t=t.map(e.changes)),t&&e.selection&&!t.selectionInsideField(e.selection)&&(t=null),t},provide:t=>ee.decorations.from(t,e=>e?e.deco:re.none)});function hw(t,e){return W.create(t.filter(n=>n.field==e).map(n=>W.range(n.from,n.to)))}function Epe(t){let e=fw.parse(t);return(n,r,i,a)=>{let{text:o,ranges:s}=e.instantiate(n.state,i),{main:l}=n.state.selection,c={changes:{from:i,to:a==l.from?l.to:a,insert:Oe.of(o)},scrollIntoView:!0,annotations:r?[sw.of(r),st.userEvent.of("input.complete")]:void 0};if(s.length&&(c.selection=hw(s,0)),s.some(u=>u.field>0)){let u=new jl(s,0),f=c.effects=[Af.of(u)];n.state.field(nf,!1)===void 0&&f.push(se.appendConfig.of([nf,zpe,Ipe,N3]))}n.dispatch(n.state.update(c))}}function L3(t){return({state:e,dispatch:n})=>{let r=e.field(nf,!1);if(!r||t<0&&r.active==0)return!1;let i=r.active+t,a=t>0&&!r.ranges.some(o=>o.field==i+t);return n(e.update({selection:hw(r.ranges,i),effects:Af.of(a?null:new jl(r.ranges,i)),scrollIntoView:!0})),!0}}const Tpe=({state:t,dispatch:e})=>t.field(nf,!1)?(e(t.update({effects:Af.of(null)})),!0):!1,Mpe=L3(1),jpe=L3(-1),Qpe=[{key:"Tab",run:Mpe,shift:jpe},{key:"Escape",run:Tpe}],JP=H.define({combine(t){return t.length?t[0]:Qpe}}),zpe=Ta.highest(bg.compute([JP],t=>t.facet(JP)));function cn(t,e){return{...e,apply:Epe(t)}}const Ipe=ee.domEventHandlers({mousedown(t,e){let n=e.state.field(nf,!1),r;if(!n||(r=e.posAtCoords({x:t.clientX,y:t.clientY}))==null)return!1;let i=n.ranges.find(a=>a.from<=r&&a.to>=r);return!i||i.field==n.active?!1:(e.dispatch({selection:hw(n.ranges,i.field),effects:Af.of(n.ranges.some(a=>a.field>i.field)?new jl(n.ranges,i.field):null),scrollIntoView:!0}),!0)}}),rf={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},to=se.define({map(t,e){let n=e.mapPos(t,-1,Rt.TrackAfter);return n??void 0}}),dw=new class extends ma{};dw.startSide=1;dw.endSide=-1;const B3=Et.define({create(){return de.empty},update(t,e){if(t=t.map(e.changes),e.selection){let n=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:r=>r>=n.from&&r<=n.to})}for(let n of e.effects)n.is(to)&&(t=t.update({add:[dw.range(n.value,n.value+1)]}));return t}});function Rpe(){return[Npe,B3]}const lv="()[]{}<>";function Z3(t){for(let e=0;e<lv.length;e+=2)if(lv.charCodeAt(e)==t)return lv.charAt(e+1);return zx(t<128?t:t+1)}function W3(t,e){return t.languageDataAt("closeBrackets",e)[0]||rf}const Dpe=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),Npe=ee.inputHandler.of((t,e,n,r)=>{if((Dpe?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let i=t.state.selection.main;if(r.length>2||r.length==2&&Xr(fn(r,0))==1||e!=i.from||n!=i.to)return!1;let a=Zpe(t.state,r);return a?(t.dispatch(a),!0):!1}),Lpe=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=W3(t,t.selection.main.head).brackets||rf.brackets,i=null,a=t.changeByRange(o=>{if(o.empty){let s=Wpe(t.doc,o.head);for(let l of r)if(l==s&&$g(t.doc,o.head)==Z3(fn(l,0)))return{changes:{from:o.head-l.length,to:o.head+l.length},range:W.cursor(o.head-l.length)}}return{range:i=o}});return i||e(t.update(a,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},Bpe=[{key:"Backspace",run:Lpe}];function Zpe(t,e){let n=W3(t,t.selection.main.head),r=n.brackets||rf.brackets;for(let i of r){let a=Z3(fn(i,0));if(e==i)return a==i?Vpe(t,i,r.indexOf(i+i+i)>-1,n):Xpe(t,i,a,n.before||rf.before);if(e==a&&X3(t,t.selection.main.from))return Fpe(t,i,a)}return null}function X3(t,e){let n=!1;return t.field(B3).between(0,t.doc.length,r=>{r==e&&(n=!0)}),n}function $g(t,e){let n=t.sliceString(e,e+2);return n.slice(0,Xr(fn(n,0)))}function Wpe(t,e){let n=t.sliceString(e-2,e);return Xr(fn(n,0))==n.length?n:n.slice(1)}function Xpe(t,e,n,r){let i=null,a=t.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:n,from:o.to}],effects:to.of(o.to+e.length),range:W.range(o.anchor+e.length,o.head+e.length)};let s=$g(t.doc,o.head);return!s||/\s/.test(s)||r.indexOf(s)>-1?{changes:{insert:e+n,from:o.head},effects:to.of(o.head+e.length),range:W.cursor(o.head+e.length)}:{range:i=o}});return i?null:t.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function Fpe(t,e,n){let r=null,i=t.changeByRange(a=>a.empty&&$g(t.doc,a.head)==n?{changes:{from:a.head,to:a.head+n.length,insert:n},range:W.cursor(a.head+n.length)}:r={range:a});return r?null:t.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function Vpe(t,e,n,r){let i=r.stringPrefixes||rf.stringPrefixes,a=null,o=t.changeByRange(s=>{if(!s.empty)return{changes:[{insert:e,from:s.from},{insert:e,from:s.to}],effects:to.of(s.to+e.length),range:W.range(s.anchor+e.length,s.head+e.length)};let l=s.head,c=$g(t.doc,l),u;if(c==e){if(eA(t,l))return{changes:{insert:e+e,from:l},effects:to.of(l+e.length),range:W.cursor(l+e.length)};if(X3(t,l)){let h=n&&t.sliceDoc(l,l+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:l,to:l+h.length,insert:h},range:W.cursor(l+h.length)}}}else{if(n&&t.sliceDoc(l-2*e.length,l)==e+e&&(u=tA(t,l-2*e.length,i))>-1&&eA(t,u))return{changes:{insert:e+e+e+e,from:l},effects:to.of(l+e.length),range:W.cursor(l+e.length)};if(t.charCategorizer(l)(c)!=We.Word&&tA(t,l,i)>-1&&!Upe(t,l,e,i))return{changes:{insert:e+e,from:l},effects:to.of(l+e.length),range:W.cursor(l+e.length)}}return{range:a=s}});return a?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function eA(t,e){let n=xt(t).resolveInner(e+1);return n.parent&&n.from==e}function Upe(t,e,n,r){let i=xt(t).resolveInner(e,-1),a=r.reduce((o,s)=>Math.max(o,s.length),0);for(let o=0;o<5;o++){let s=t.sliceDoc(i.from,Math.min(i.to,i.from+n.length+a)),l=s.indexOf(n);if(!l||l>-1&&r.indexOf(s.slice(0,l))>-1){let u=i.firstChild;for(;u&&u.from==i.from&&u.to-u.from>n.length+l;){if(t.sliceDoc(u.to-n.length,u.to)==n)return!1;u=u.firstChild}return!0}let c=i.to==e&&i.parent;if(!c)break;i=c}return!1}function tA(t,e,n){let r=t.charCategorizer(e);if(r(t.sliceDoc(e-1,e))!=We.Word)return e;for(let i of n){let a=e-i.length;if(t.sliceDoc(a,e)==i&&r(t.sliceDoc(a-1,a))!=We.Word)return a}return-1}function qpe(t={}){return[$pe,hn,kt.of(t),Spe,Ype,N3]}const F3=[{key:"Ctrl-Space",run:sv},{mac:"Alt-`",run:sv},{mac:"Alt-i",run:sv},{key:"Escape",run:Ope},{key:"ArrowDown",run:Mh(!0)},{key:"ArrowUp",run:Mh(!1)},{key:"PageDown",run:Mh(!0,"page")},{key:"PageUp",run:Mh(!1,"page")},{key:"Enter",run:ype}],Ype=Ta.highest(bg.computeN([kt],t=>t.facet(kt).defaultKeymap?[F3]:[])),V3=[cn("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),cn("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),cn("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),cn("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),cn("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),cn(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),cn("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),cn(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),cn(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),cn('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),cn('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],Gpe=V3.concat([cn("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),cn("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),cn("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),nA=new dhe,U3=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function cc(t){return(e,n)=>{let r=e.node.getChild("VariableDefinition");return r&&n(r,t),!0}}const Hpe=["FunctionDeclaration"],Kpe={FunctionDeclaration:cc("function"),ClassDeclaration:cc("class"),ClassExpression:()=>!0,EnumDeclaration:cc("constant"),TypeAliasDeclaration:cc("type"),NamespaceDeclaration:cc("namespace"),VariableDefinition(t,e){t.matchContext(Hpe)||e(t,"variable")},TypeDefinition(t,e){e(t,"type")},__proto__:null};function q3(t,e){let n=nA.get(e);if(n)return n;let r=[],i=!0;function a(o,s){let l=t.sliceString(o.from,o.to);r.push({label:l,type:s})}return e.cursor(Ve.IncludeAnonymous).iterate(o=>{if(i)i=!1;else if(o.name){let s=Kpe[o.name];if(s&&s(o,a)||U3.has(o.name))return!1}else if(o.to-o.from>8192){for(let s of q3(t,o.node))r.push(s);return!1}}),nA.set(e,r),r}const rA=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,Y3=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName","JSXText","JSXAttributeValue","JSXOpenTag","JSXCloseTag","JSXSelfClosingTag",".","?."];function Jpe(t){let e=xt(t.state).resolveInner(t.pos,-1);if(Y3.indexOf(e.name)>-1)return null;let n=e.name=="VariableName"||e.to-e.from<20&&rA.test(t.state.sliceDoc(e.from,e.to));if(!n&&!t.explicit)return null;let r=[];for(let i=e;i;i=i.parent)U3.has(i.name)&&(r=r.concat(q3(t.state.doc,i)));return{options:r,from:n?e.from:t.pos,validFor:rA}}const co=Gp.define({name:"javascript",parser:lde.configure({props:[y3.add({IfStatement:nv({except:/^\s*({|else\b)/}),TryStatement:nv({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:bde,SwitchBody:t=>{let e=t.textAfter,n=/^\s*\}/.test(e),r=/^\s*(case|default)\b/.test(e);return t.baseIndent+(n?0:r?1:2)*t.unit},Block:Ode({closing:"}"}),ArrowFunction:t=>t.baseIndent+t.unit,"TemplateString BlockComment":()=>null,"Statement Property":nv({except:/^\s*{/}),JSXElement(t){let e=/^\s*<\//.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},JSXEscape(t){let e=/\s*\}/.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},"JSXOpenTag JSXSelfClosingTag"(t){return t.column(t.node.from)+t.unit}}),x3.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":_de,BlockComment(t){return{from:t.from+2,to:t.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),G3={test:t=>/^JSX/.test(t.name),facet:g3({commentTokens:{block:{open:"{/*",close:"*/}"}}})},eme=co.configure({dialect:"ts"},"typescript"),tme=co.configure({dialect:"jsx",props:[iw.add(t=>t.isTop?[G3]:void 0)]}),nme=co.configure({dialect:"jsx ts",props:[iw.add(t=>t.isTop?[G3]:void 0)]},"typescript");let H3=t=>({label:t,type:"keyword"});const K3="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(H3),rme=K3.concat(["declare","implements","private","protected","public"].map(H3));function ime(t={}){let e=t.jsx?t.typescript?nme:tme:t.typescript?eme:co,n=t.typescript?Gpe.concat(rme):V3.concat(K3);return new fde(e,[co.data.of({autocomplete:tpe(Y3,z3(n))}),co.data.of({autocomplete:Jpe}),t.jsx?sme:[]])}function ame(t){for(;;){if(t.name=="JSXOpenTag"||t.name=="JSXSelfClosingTag"||t.name=="JSXFragmentTag")return t;if(t.name=="JSXEscape"||!t.parent)return null;t=t.parent}}function iA(t,e,n=t.length){for(let r=e==null?void 0:e.firstChild;r;r=r.nextSibling)if(r.name=="JSXIdentifier"||r.name=="JSXBuiltin"||r.name=="JSXNamespacedName"||r.name=="JSXMemberExpression")return t.sliceString(r.from,Math.min(r.to,n));return""}const ome=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),sme=ee.inputHandler.of((t,e,n,r,i)=>{if((ome?t.composing:t.compositionStarted)||t.state.readOnly||e!=n||r!=">"&&r!="/"||!co.isActiveAt(t.state,e,-1))return!1;let a=i(),{state:o}=a,s=o.changeByRange(l=>{var c;let{head:u}=l,f=xt(o).resolveInner(u-1,-1),h;if(f.name=="JSXStartTag"&&(f=f.parent),!(o.doc.sliceString(u-1,u)!=r||f.name=="JSXAttributeValue"&&f.to>u)){if(r==">"&&f.name=="JSXFragmentTag")return{range:l,changes:{from:u,insert:"</>"}};if(r=="/"&&f.name=="JSXStartCloseTag"){let d=f.parent,p=d.parent;if(p&&d.from==u-2&&((h=iA(o.doc,p.firstChild,u))||((c=p.firstChild)===null||c===void 0?void 0:c.name)=="JSXFragmentTag")){let m=`${h}>`;return{range:W.cursor(u+m.length,-1),changes:{from:u,insert:m}}}}else if(r==">"){let d=ame(f);if(d&&d.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(o.doc.sliceString(u,u+2))&&(h=iA(o.doc,d,u)))return{range:l,changes:{from:u,insert:`</${h}>`}}}}return{range:l}});return s.changes.empty?!1:(t.dispatch([a,o.update(s,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),lme="#e5c07b",aA="#e06c75",cme="#56b6c2",ume="#ffffff",ad="#abb2bf",kb="#7d8799",fme="#61afef",hme="#98c379",oA="#d19a66",dme="#c678dd",pme="#21252b",sA="#2c313a",lA="#282c34",cv="#353a42",mme="#3E4451",cA="#528bff",gme=ee.theme({"&":{color:ad,backgroundColor:lA},".cm-content":{caretColor:cA},".cm-cursor, .cm-dropCursor":{borderLeftColor:cA},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:mme},".cm-panels":{backgroundColor:pme,color:ad},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:lA,color:kb,border:"none"},".cm-activeLineGutter":{backgroundColor:sA},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:cv},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:cv,borderBottomColor:cv},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:sA,color:ad}}},{dark:!0}),vme=Pf.define([{tag:z.keyword,color:dme},{tag:[z.name,z.deleted,z.character,z.propertyName,z.macroName],color:aA},{tag:[z.function(z.variableName),z.labelName],color:fme},{tag:[z.color,z.constant(z.name),z.standard(z.name)],color:oA},{tag:[z.definition(z.name),z.separator],color:ad},{tag:[z.typeName,z.className,z.number,z.changed,z.annotation,z.modifier,z.self,z.namespace],color:lme},{tag:[z.operator,z.operatorKeyword,z.url,z.escape,z.regexp,z.link,z.special(z.string)],color:cme},{tag:[z.meta,z.comment],color:kb},{tag:z.strong,fontWeight:"bold"},{tag:z.emphasis,fontStyle:"italic"},{tag:z.strikethrough,textDecoration:"line-through"},{tag:z.link,color:kb,textDecoration:"underline"},{tag:z.heading,fontWeight:"bold",color:aA},{tag:[z.atom,z.bool,z.special(z.variableName)],color:oA},{tag:[z.processingInstruction,z.string,z.inserted],color:hme},{tag:z.invalid,color:ume}]),yme=[gme,E3(vme)],Ome=t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),r=mw(t.state,n.from);return r.line?bme(t):r.block?wme(t):!1};function pw(t,e){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=t(e,n);return i?(r(n.update(i)),!0):!1}}const bme=pw($me,0),xme=pw(J3,0),wme=pw((t,e)=>J3(t,e,_me(e)),0);function mw(t,e){let n=t.languageDataAt("commentTokens",e,1);return n.length?n[0]:{}}const uc=50;function Sme(t,{open:e,close:n},r,i){let a=t.sliceDoc(r-uc,r),o=t.sliceDoc(i,i+uc),s=/\s*$/.exec(a)[0].length,l=/^\s*/.exec(o)[0].length,c=a.length-s;if(a.slice(c-e.length,c)==e&&o.slice(l,l+n.length)==n)return{open:{pos:r-s,margin:s&&1},close:{pos:i+l,margin:l&&1}};let u,f;i-r<=2*uc?u=f=t.sliceDoc(r,i):(u=t.sliceDoc(r,r+uc),f=t.sliceDoc(i-uc,i));let h=/^\s*/.exec(u)[0].length,d=/\s*$/.exec(f)[0].length,p=f.length-d-n.length;return u.slice(h,h+e.length)==e&&f.slice(p,p+n.length)==n?{open:{pos:r+h+e.length,margin:/\s/.test(u.charAt(h+e.length))?1:0},close:{pos:i-d-n.length,margin:/\s/.test(f.charAt(p-1))?1:0}}:null}function _me(t){let e=[];for(let n of t.selection.ranges){let r=t.doc.lineAt(n.from),i=n.to<=r.to?r:t.doc.lineAt(n.to);i.from>r.from&&i.from==n.to&&(i=n.to==r.to+1?r:t.doc.lineAt(n.to-1));let a=e.length-1;a>=0&&e[a].to>r.from?e[a].to=i.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return e}function J3(t,e,n=e.selection.ranges){let r=n.map(a=>mw(e,a.from).block);if(!r.every(a=>a))return null;let i=n.map((a,o)=>Sme(e,r[o],a.from,a.to));if(t!=2&&!i.every(a=>a))return{changes:e.changes(n.map((a,o)=>i[o]?[]:[{from:a.from,insert:r[o].open+" "},{from:a.to,insert:" "+r[o].close}]))};if(t!=1&&i.some(a=>a)){let a=[];for(let o=0,s;o<i.length;o++)if(s=i[o]){let l=r[o],{open:c,close:u}=s;a.push({from:c.pos-l.open.length,to:c.pos+c.margin},{from:u.pos-u.margin,to:u.pos+l.close.length})}return{changes:a}}return null}function $me(t,e,n=e.selection.ranges){let r=[],i=-1;e:for(let{from:a,to:o}of n){let s=r.length,l=1e9,c;for(let u=a;u<=o;){let f=e.doc.lineAt(u);if(c==null&&(c=mw(e,f.from).line,!c))continue e;if(f.from>i&&(a==o||o>f.from)){i=f.from;let h=/^\s*/.exec(f.text)[0].length,d=h==f.length,p=f.text.slice(h,h+c.length)==c?h:-1;h<f.text.length&&h<l&&(l=h),r.push({line:f,comment:p,token:c,indent:h,empty:d,single:!1})}u=f.to+1}if(l<1e9)for(let u=s;u<r.length;u++)r[u].indent<r[u].line.text.length&&(r[u].indent=l);r.length==s+1&&(r[s].single=!0)}if(t!=2&&r.some(a=>a.comment<0&&(!a.empty||a.single))){let a=[];for(let{line:s,token:l,indent:c,empty:u,single:f}of r)(f||!u)&&a.push({from:s.from+c,insert:l+" "});let o=e.changes(a);return{changes:o,selection:e.selection.map(o,1)}}else if(t!=1&&r.some(a=>a.comment>=0)){let a=[];for(let{line:o,comment:s,token:l}of r)if(s>=0){let c=o.from+s,u=c+l.length;o.text[u-o.from]==" "&&u++,a.push({from:c,to:u})}return{changes:a}}return null}const Pb=Ii.define(),kme=Ii.define(),Pme=H.define(),e4=H.define({combine(t){return oi(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,n)=>(r,i)=>e(r,i)||n(r,i)})}}),t4=Et.define({create(){return Hr.empty},update(t,e){let n=e.state.facet(e4),r=e.annotation(Pb);if(r){let l=vn.fromTransaction(e,r.selection),c=r.side,u=c==0?t.undone:t.done;return l?u=rm(u,u.length,n.minDepth,l):u=i4(u,e.startState.selection),new Hr(c==0?r.rest:u,c==0?u:r.rest)}let i=e.annotation(kme);if((i=="full"||i=="before")&&(t=t.isolate()),e.annotation(st.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let a=vn.fromTransaction(e),o=e.annotation(st.time),s=e.annotation(st.userEvent);return a?t=t.addChanges(a,o,s,n,e):e.selection&&(t=t.addSelection(e.startState.selection,o,s,n.newGroupDelay)),(i=="full"||i=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new Hr(t.done.map(vn.fromJSON),t.undone.map(vn.fromJSON))}});function Ame(t={}){return[t4,e4.of(t),ee.domEventHandlers({beforeinput(e,n){let r=e.inputType=="historyUndo"?n4:e.inputType=="historyRedo"?Ab:null;return r?(e.preventDefault(),r(n)):!1}})]}function kg(t,e){return function({state:n,dispatch:r}){if(!e&&n.readOnly)return!1;let i=n.field(t4,!1);if(!i)return!1;let a=i.pop(t,n,e);return a?(r(a),!0):!1}}const n4=kg(0,!1),Ab=kg(1,!1),Cme=kg(0,!0),Eme=kg(1,!0);class vn{constructor(e,n,r,i,a){this.changes=e,this.effects=n,this.mapped=r,this.startSelection=i,this.selectionsAfter=a}setSelAfter(e){return new vn(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,n,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new vn(e.changes&&vt.fromJSON(e.changes),[],e.mapped&&ri.fromJSON(e.mapped),e.startSelection&&W.fromJSON(e.startSelection),e.selectionsAfter.map(W.fromJSON))}static fromTransaction(e,n){let r=nr;for(let i of e.startState.facet(Pme)){let a=i(e);a.length&&(r=r.concat(a))}return!r.length&&e.changes.empty?null:new vn(e.changes.invert(e.startState.doc),r,void 0,n||e.startState.selection,nr)}static selection(e){return new vn(void 0,nr,void 0,void 0,e)}}function rm(t,e,n,r){let i=e+1>n+20?e-n-1:0,a=t.slice(i,e);return a.push(r),a}function Tme(t,e){let n=[],r=!1;return t.iterChangedRanges((i,a)=>n.push(i,a)),e.iterChangedRanges((i,a,o,s)=>{for(let l=0;l<n.length;){let c=n[l++],u=n[l++];s>=c&&o<=u&&(r=!0)}}),r}function Mme(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((n,r)=>n.empty!=e.ranges[r].empty).length===0}function r4(t,e){return t.length?e.length?t.concat(e):t:e}const nr=[],jme=200;function i4(t,e){if(t.length){let n=t[t.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-jme));return r.length&&r[r.length-1].eq(e)?t:(r.push(e),rm(t,t.length-1,1e9,n.setSelAfter(r)))}else return[vn.selection([e])]}function Qme(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function uv(t,e){if(!t.length)return t;let n=t.length,r=nr;for(;n;){let i=zme(t[n-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let a=t.slice(0,n);return a[n-1]=i,a}else e=i.mapped,n--,r=i.selectionsAfter}return r.length?[vn.selection(r)]:nr}function zme(t,e,n){let r=r4(t.selectionsAfter.length?t.selectionsAfter.map(s=>s.map(e)):nr,n);if(!t.changes)return vn.selection(r);let i=t.changes.map(e),a=e.mapDesc(t.changes,!0),o=t.mapped?t.mapped.composeDesc(a):a;return new vn(i,se.mapEffects(t.effects,e),o,t.startSelection.map(a),r)}const Ime=/^(input\.type|delete)($|\.)/;class Hr{constructor(e,n,r=0,i=void 0){this.done=e,this.undone=n,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new Hr(this.done,this.undone):this}addChanges(e,n,r,i,a){let o=this.done,s=o[o.length-1];return s&&s.changes&&!s.changes.empty&&e.changes&&(!r||Ime.test(r))&&(!s.selectionsAfter.length&&n-this.prevTime<i.newGroupDelay&&i.joinToEvent(a,Tme(s.changes,e.changes))||r=="input.type.compose")?o=rm(o,o.length-1,i.minDepth,new vn(e.changes.compose(s.changes),r4(se.mapEffects(e.effects,s.changes),s.effects),s.mapped,s.startSelection,nr)):o=rm(o,o.length,i.minDepth,e),new Hr(o,nr,n,r)}addSelection(e,n,r,i){let a=this.done.length?this.done[this.done.length-1].selectionsAfter:nr;return a.length>0&&n-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&Mme(a[a.length-1],e)?this:new Hr(i4(this.done,e),this.undone,n,r)}addMapping(e){return new Hr(uv(this.done,e),uv(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,n,r){let i=e==0?this.done:this.undone;if(i.length==0)return null;let a=i[i.length-1],o=a.selectionsAfter[0]||(a.startSelection?a.startSelection.map(a.changes.invertedDesc,1):n.selection);if(r&&a.selectionsAfter.length)return n.update({selection:a.selectionsAfter[a.selectionsAfter.length-1],annotations:Pb.of({side:e,rest:Qme(i),selection:o}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(a.changes){let s=i.length==1?nr:i.slice(0,i.length-1);return a.mapped&&(s=uv(s,a.mapped)),n.update({changes:a.changes,selection:a.startSelection,effects:a.effects,annotations:Pb.of({side:e,rest:s,selection:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}Hr.empty=new Hr(nr,nr);const Rme=[{key:"Mod-z",run:n4,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Ab,preventDefault:!0},{linux:"Ctrl-Shift-z",run:Ab,preventDefault:!0},{key:"Mod-u",run:Cme,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:Eme,preventDefault:!0}];function Ql(t,e){return W.create(t.ranges.map(e),t.mainIndex)}function Mr(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function jr({state:t,dispatch:e},n){let r=Ql(t.selection,n);return r.eq(t.selection,!0)?!1:(e(Mr(t,r)),!0)}function Pg(t,e){return W.cursor(e?t.to:t.from)}function a4(t,e){return jr(t,n=>n.empty?t.moveByChar(n,e):Pg(n,e))}function Ht(t){return t.textDirectionAt(t.state.selection.main.head)==Te.LTR}const o4=t=>a4(t,!Ht(t)),s4=t=>a4(t,Ht(t));function l4(t,e){return jr(t,n=>n.empty?t.moveByGroup(n,e):Pg(n,e))}const Dme=t=>l4(t,!Ht(t)),Nme=t=>l4(t,Ht(t));function Lme(t,e,n){if(e.type.prop(n))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function Ag(t,e,n){let r=xt(t).resolveInner(e.head),i=n?he.closedBy:he.openedBy;for(let l=e.head;;){let c=n?r.childAfter(l):r.childBefore(l);if(!c)break;Lme(t,c,i)?r=c:l=n?c.to:c.from}let a=r.type.prop(i),o,s;return a&&(o=n?Gr(t,r.from,1):Gr(t,r.to,-1))&&o.matched?s=n?o.end.to:o.end.from:s=n?r.to:r.from,W.cursor(s,n?-1:1)}const Bme=t=>jr(t,e=>Ag(t.state,e,!Ht(t))),Zme=t=>jr(t,e=>Ag(t.state,e,Ht(t)));function c4(t,e){return jr(t,n=>{if(!n.empty)return Pg(n,e);let r=t.moveVertically(n,e);return r.head!=n.head?r:t.moveToLineBoundary(n,e)})}const u4=t=>c4(t,!1),f4=t=>c4(t,!0);function h4(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,n=0,r=0,i;if(e){for(let a of t.state.facet(ee.scrollMargins)){let o=a(t);o!=null&&o.top&&(n=Math.max(o==null?void 0:o.top,n)),o!=null&&o.bottom&&(r=Math.max(o==null?void 0:o.bottom,r))}i=t.scrollDOM.clientHeight-n-r}else i=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:r,selfScroll:e,height:Math.max(t.defaultLineHeight,i-5)}}function d4(t,e){let n=h4(t),{state:r}=t,i=Ql(r.selection,o=>o.empty?t.moveVertically(o,e,n.height):Pg(o,e));if(i.eq(r.selection))return!1;let a;if(n.selfScroll){let o=t.coordsAtPos(r.selection.main.head),s=t.scrollDOM.getBoundingClientRect(),l=s.top+n.marginTop,c=s.bottom-n.marginBottom;o&&o.top>l&&o.bottom<c&&(a=ee.scrollIntoView(i.main.head,{y:"start",yMargin:o.top-l}))}return t.dispatch(Mr(r,i),{effects:a}),!0}const uA=t=>d4(t,!1),Cb=t=>d4(t,!0);function Ma(t,e,n){let r=t.lineBlockAt(e.head),i=t.moveToLineBoundary(e,n);if(i.head==e.head&&i.head!=(n?r.to:r.from)&&(i=t.moveToLineBoundary(e,n,!1)),!n&&i.head==r.from&&r.length){let a=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;a&&e.head!=r.from+a&&(i=W.cursor(r.from+a))}return i}const Wme=t=>jr(t,e=>Ma(t,e,!0)),Xme=t=>jr(t,e=>Ma(t,e,!1)),Fme=t=>jr(t,e=>Ma(t,e,!Ht(t))),Vme=t=>jr(t,e=>Ma(t,e,Ht(t))),Ume=t=>jr(t,e=>W.cursor(t.lineBlockAt(e.head).from,1)),qme=t=>jr(t,e=>W.cursor(t.lineBlockAt(e.head).to,-1));function Yme(t,e,n){let r=!1,i=Ql(t.selection,a=>{let o=Gr(t,a.head,-1)||Gr(t,a.head,1)||a.head>0&&Gr(t,a.head-1,1)||a.head<t.doc.length&&Gr(t,a.head+1,-1);if(!o||!o.end)return a;r=!0;let s=o.start.from==a.head?o.end.to:o.end.from;return W.cursor(s)});return r?(e(Mr(t,i)),!0):!1}const Gme=({state:t,dispatch:e})=>Yme(t,e);function fr(t,e){let n=Ql(t.state.selection,r=>{let i=e(r);return W.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return n.eq(t.state.selection)?!1:(t.dispatch(Mr(t.state,n)),!0)}function p4(t,e){return fr(t,n=>t.moveByChar(n,e))}const m4=t=>p4(t,!Ht(t)),g4=t=>p4(t,Ht(t));function v4(t,e){return fr(t,n=>t.moveByGroup(n,e))}const Hme=t=>v4(t,!Ht(t)),Kme=t=>v4(t,Ht(t)),Jme=t=>fr(t,e=>Ag(t.state,e,!Ht(t))),ege=t=>fr(t,e=>Ag(t.state,e,Ht(t)));function y4(t,e){return fr(t,n=>t.moveVertically(n,e))}const O4=t=>y4(t,!1),b4=t=>y4(t,!0);function x4(t,e){return fr(t,n=>t.moveVertically(n,e,h4(t).height))}const fA=t=>x4(t,!1),hA=t=>x4(t,!0),tge=t=>fr(t,e=>Ma(t,e,!0)),nge=t=>fr(t,e=>Ma(t,e,!1)),rge=t=>fr(t,e=>Ma(t,e,!Ht(t))),ige=t=>fr(t,e=>Ma(t,e,Ht(t))),age=t=>fr(t,e=>W.cursor(t.lineBlockAt(e.head).from)),oge=t=>fr(t,e=>W.cursor(t.lineBlockAt(e.head).to)),dA=({state:t,dispatch:e})=>(e(Mr(t,{anchor:0})),!0),pA=({state:t,dispatch:e})=>(e(Mr(t,{anchor:t.doc.length})),!0),mA=({state:t,dispatch:e})=>(e(Mr(t,{anchor:t.selection.main.anchor,head:0})),!0),gA=({state:t,dispatch:e})=>(e(Mr(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),sge=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),lge=({state:t,dispatch:e})=>{let n=Cg(t).map(({from:r,to:i})=>W.range(r,Math.min(i+1,t.doc.length)));return e(t.update({selection:W.create(n),userEvent:"select"})),!0},cge=({state:t,dispatch:e})=>{let n=Ql(t.selection,r=>{let i=xt(t),a=i.resolveStack(r.from,1);if(r.empty){let o=i.resolveStack(r.from,-1);o.node.from>=a.node.from&&o.node.to<=a.node.to&&(a=o)}for(let o=a;o;o=o.next){let{node:s}=o;if((s.from<r.from&&s.to>=r.to||s.to>r.to&&s.from<=r.from)&&o.next)return W.range(s.to,s.from)}return r});return n.eq(t.selection)?!1:(e(Mr(t,n)),!0)};function w4(t,e){let{state:n}=t,r=n.selection,i=n.selection.ranges.slice();for(let a of n.selection.ranges){let o=n.doc.lineAt(a.head);if(e?o.to<t.state.doc.length:o.from>0)for(let s=a;;){let l=t.moveVertically(s,e);if(l.head<o.from||l.head>o.to){i.some(c=>c.head==l.head)||i.push(l);break}else{if(l.head==s.head)break;s=l}}}return i.length==r.ranges.length?!1:(t.dispatch(Mr(n,W.create(i,i.length-1))),!0)}const uge=t=>w4(t,!1),fge=t=>w4(t,!0),hge=({state:t,dispatch:e})=>{let n=t.selection,r=null;return n.ranges.length>1?r=W.create([n.main]):n.main.empty||(r=W.create([W.cursor(n.main.head)])),r?(e(Mr(t,r)),!0):!1};function Cf(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:r}=t,i=r.changeByRange(a=>{let{from:o,to:s}=a;if(o==s){let l=e(a);l<o?(n="delete.backward",l=jh(t,l,!1)):l>o&&(n="delete.forward",l=jh(t,l,!0)),o=Math.min(o,l),s=Math.max(s,l)}else o=jh(t,o,!1),s=jh(t,s,!0);return o==s?{range:a}:{changes:{from:o,to:s},range:W.cursor(o,o<a.head?-1:1)}});return i.changes.empty?!1:(t.dispatch(r.update(i,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?ee.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function jh(t,e,n){if(t instanceof ee)for(let r of t.state.facet(ee.atomicRanges).map(i=>i(t)))r.between(e,e,(i,a)=>{i<e&&a>e&&(e=n?a:i)});return e}const S4=(t,e,n)=>Cf(t,r=>{let i=r.from,{state:a}=t,o=a.doc.lineAt(i),s,l;if(n&&!e&&i>o.from&&i<o.from+200&&!/[^ \t]/.test(s=o.text.slice(0,i-o.from))){if(s[s.length-1]=="	")return i-1;let c=Ml(s,a.tabSize),u=c%Kp(a)||Kp(a);for(let f=0;f<u&&s[s.length-1-f]==" ";f++)i--;l=i}else l=Pt(o.text,i-o.from,e,e)+o.from,l==i&&o.number!=(e?a.doc.lines:1)?l+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(o.text.slice(l-o.from,i-o.from))&&(l=Pt(o.text,l-o.from,!1,!1)+o.from);return l}),Eb=t=>S4(t,!1,!0),_4=t=>S4(t,!0,!1),$4=(t,e)=>Cf(t,n=>{let r=n.head,{state:i}=t,a=i.doc.lineAt(r),o=i.charCategorizer(r);for(let s=null;;){if(r==(e?a.to:a.from)){r==n.head&&a.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let l=Pt(a.text,r-a.from,e)+a.from,c=a.text.slice(Math.min(r,l)-a.from,Math.max(r,l)-a.from),u=o(c);if(s!=null&&u!=s)break;(c!=" "||r!=n.head)&&(s=u),r=l}return r}),k4=t=>$4(t,!1),dge=t=>$4(t,!0),pge=t=>Cf(t,e=>{let n=t.lineBlockAt(e.head).to;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),mge=t=>Cf(t,e=>{let n=t.moveToLineBoundary(e,!1).head;return e.head>n?n:Math.max(0,e.head-1)}),gge=t=>Cf(t,e=>{let n=t.moveToLineBoundary(e,!0).head;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),vge=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:Oe.of(["",""])},range:W.cursor(r.from)}));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},yge=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>{if(!r.empty||r.from==0||r.from==t.doc.length)return{range:r};let i=r.from,a=t.doc.lineAt(i),o=i==a.from?i-1:Pt(a.text,i-a.from,!1)+a.from,s=i==a.to?i+1:Pt(a.text,i-a.from,!0)+a.from;return{changes:{from:o,to:s,insert:t.doc.slice(i,s).append(t.doc.slice(o,i))},range:W.cursor(s)}});return n.changes.empty?!1:(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Cg(t){let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.from),a=t.doc.lineAt(r.to);if(!r.empty&&r.to==a.from&&(a=t.doc.lineAt(r.to-1)),n>=i.number){let o=e[e.length-1];o.to=a.to,o.ranges.push(r)}else e.push({from:i.from,to:a.to,ranges:[r]});n=a.number+1}return e}function P4(t,e,n){if(t.readOnly)return!1;let r=[],i=[];for(let a of Cg(t)){if(n?a.to==t.doc.length:a.from==0)continue;let o=t.doc.lineAt(n?a.to+1:a.from-1),s=o.length+1;if(n){r.push({from:a.to,to:o.to},{from:a.from,insert:o.text+t.lineBreak});for(let l of a.ranges)i.push(W.range(Math.min(t.doc.length,l.anchor+s),Math.min(t.doc.length,l.head+s)))}else{r.push({from:o.from,to:a.from},{from:a.to,insert:t.lineBreak+o.text});for(let l of a.ranges)i.push(W.range(l.anchor-s,l.head-s))}}return r.length?(e(t.update({changes:r,scrollIntoView:!0,selection:W.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const Oge=({state:t,dispatch:e})=>P4(t,e,!1),bge=({state:t,dispatch:e})=>P4(t,e,!0);function A4(t,e,n){if(t.readOnly)return!1;let r=[];for(let a of Cg(t))n?r.push({from:a.from,insert:t.doc.slice(a.from,a.to)+t.lineBreak}):r.push({from:a.to,insert:t.lineBreak+t.doc.slice(a.from,a.to)});let i=t.changes(r);return e(t.update({changes:i,selection:t.selection.map(i,n?1:-1),scrollIntoView:!0,userEvent:"input.copyline"})),!0}const xge=({state:t,dispatch:e})=>A4(t,e,!1),wge=({state:t,dispatch:e})=>A4(t,e,!0),Sge=t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(Cg(e).map(({from:i,to:a})=>(i>0?i--:a<e.doc.length&&a++,{from:i,to:a}))),r=Ql(e.selection,i=>{let a;if(t.lineWrapping){let o=t.lineBlockAt(i.head),s=t.coordsAtPos(i.head,i.assoc||1);s&&(a=o.bottom+t.documentTop-s.bottom+t.defaultLineHeight/2)}return t.moveVertically(i,!0,a)}).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function _ge(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=xt(t).resolveInner(e),r=n.childBefore(e),i=n.childAfter(e),a;return r&&i&&r.to<=e&&i.from>=e&&(a=r.type.prop(he.closedBy))&&a.indexOf(i.name)>-1&&t.doc.lineAt(r.to).from==t.doc.lineAt(i.from).from&&!/\S/.test(t.sliceDoc(r.to,i.from))?{from:r.to,to:i.from}:null}const vA=C4(!1),$ge=C4(!0);function C4(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:a,to:o}=i,s=e.doc.lineAt(a),l=!t&&a==o&&_ge(e,a);t&&(a=o=(o<=s.to?s:e.doc.lineAt(o)).to);let c=new Sg(e,{simulateBreak:a,simulateDoubleBreak:!!l}),u=aw(c,a);for(u==null&&(u=Ml(/^\s*/.exec(e.doc.lineAt(a).text)[0],e.tabSize));o<s.to&&/\s/.test(s.text[o-s.from]);)o++;l?{from:a,to:o}=l:a>s.from&&a<s.from+100&&!/\S/.test(s.text.slice(0,a))&&(a=s.from);let f=["",ef(e,u)];return l&&f.push(ef(e,c.lineIndent(s.from,-1))),{changes:{from:a,to:o,insert:Oe.of(f)},range:W.cursor(a+1+f[1].length)}});return n(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function gw(t,e){let n=-1;return t.changeByRange(r=>{let i=[];for(let o=r.from;o<=r.to;){let s=t.doc.lineAt(o);s.number>n&&(r.empty||r.to>s.from)&&(e(s,i,r),n=s.number),o=s.to+1}let a=t.changes(i);return{changes:i,range:W.range(a.mapPos(r.anchor,1),a.mapPos(r.head,1))}})}const kge=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),r=new Sg(t,{overrideIndentation:a=>{let o=n[a];return o??-1}}),i=gw(t,(a,o,s)=>{let l=aw(r,a.from);if(l==null)return;/\S/.test(a.text)||(l=0);let c=/^\s*/.exec(a.text)[0],u=ef(t,l);(c!=u||s.from<a.from+c.length)&&(n[a.from]=l,o.push({from:a.from,to:a.from+c.length,insert:u}))});return i.changes.empty||e(t.update(i,{userEvent:"indent"})),!0},Pge=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(gw(t,(n,r)=>{r.push({from:n.from,insert:t.facet(wg)})}),{userEvent:"input.indent"})),!0),Age=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(gw(t,(n,r)=>{let i=/^\s*/.exec(n.text)[0];if(!i)return;let a=Ml(i,t.tabSize),o=0,s=ef(t,Math.max(0,a-Kp(t)));for(;o<i.length&&o<s.length&&i.charCodeAt(o)==s.charCodeAt(o);)o++;r.push({from:n.from+o,to:n.from+i.length,insert:s.slice(o)})}),{userEvent:"delete.dedent"})),!0),Cge=t=>(t.setTabFocusMode(),!0),Ege=[{key:"Ctrl-b",run:o4,shift:m4,preventDefault:!0},{key:"Ctrl-f",run:s4,shift:g4},{key:"Ctrl-p",run:u4,shift:O4},{key:"Ctrl-n",run:f4,shift:b4},{key:"Ctrl-a",run:Ume,shift:age},{key:"Ctrl-e",run:qme,shift:oge},{key:"Ctrl-d",run:_4},{key:"Ctrl-h",run:Eb},{key:"Ctrl-k",run:pge},{key:"Ctrl-Alt-h",run:k4},{key:"Ctrl-o",run:vge},{key:"Ctrl-t",run:yge},{key:"Ctrl-v",run:Cb}],Tge=[{key:"ArrowLeft",run:o4,shift:m4,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:Dme,shift:Hme,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:Fme,shift:rge,preventDefault:!0},{key:"ArrowRight",run:s4,shift:g4,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:Nme,shift:Kme,preventDefault:!0},{mac:"Cmd-ArrowRight",run:Vme,shift:ige,preventDefault:!0},{key:"ArrowUp",run:u4,shift:O4,preventDefault:!0},{mac:"Cmd-ArrowUp",run:dA,shift:mA},{mac:"Ctrl-ArrowUp",run:uA,shift:fA},{key:"ArrowDown",run:f4,shift:b4,preventDefault:!0},{mac:"Cmd-ArrowDown",run:pA,shift:gA},{mac:"Ctrl-ArrowDown",run:Cb,shift:hA},{key:"PageUp",run:uA,shift:fA},{key:"PageDown",run:Cb,shift:hA},{key:"Home",run:Xme,shift:nge,preventDefault:!0},{key:"Mod-Home",run:dA,shift:mA},{key:"End",run:Wme,shift:tge,preventDefault:!0},{key:"Mod-End",run:pA,shift:gA},{key:"Enter",run:vA,shift:vA},{key:"Mod-a",run:sge},{key:"Backspace",run:Eb,shift:Eb,preventDefault:!0},{key:"Delete",run:_4,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:k4,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:dge,preventDefault:!0},{mac:"Mod-Backspace",run:mge,preventDefault:!0},{mac:"Mod-Delete",run:gge,preventDefault:!0}].concat(Ege.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),Mge=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:Bme,shift:Jme},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:Zme,shift:ege},{key:"Alt-ArrowUp",run:Oge},{key:"Shift-Alt-ArrowUp",run:xge},{key:"Alt-ArrowDown",run:bge},{key:"Shift-Alt-ArrowDown",run:wge},{key:"Mod-Alt-ArrowUp",run:uge},{key:"Mod-Alt-ArrowDown",run:fge},{key:"Escape",run:hge},{key:"Mod-Enter",run:$ge},{key:"Alt-l",mac:"Ctrl-l",run:lge},{key:"Mod-i",run:cge,preventDefault:!0},{key:"Mod-[",run:Age},{key:"Mod-]",run:Pge},{key:"Mod-Alt-\\",run:kge},{key:"Shift-Mod-k",run:Sge},{key:"Shift-Mod-\\",run:Gme},{key:"Mod-/",run:Ome},{key:"Alt-A",run:xme},{key:"Ctrl-m",mac:"Shift-Alt-m",run:Cge}].concat(Tge),yA=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t;class hl{constructor(e,n,r=0,i=e.length,a,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=a?s=>a(yA(s)):yA,this.query=this.normalize(n)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return fn(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let n=zx(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=Xr(e);let i=this.normalize(n);if(i.length)for(let a=0,o=r;;a++){let s=i.charCodeAt(a),l=this.match(s,o,this.bufferPos+this.bufferStart);if(a==i.length-1){if(l)return this.value=l,this;break}o==r&&a<n.length&&n.charCodeAt(a)==s&&o++}}}match(e,n,r){let i=null;for(let a=0;a<this.matches.length;a+=2){let o=this.matches[a],s=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?i={from:this.matches[a+1],to:r}:(this.matches[a]++,s=!0)),s||(this.matches.splice(a,2),a-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:n,to:r}:this.matches.push(1,n)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(hl.prototype[Symbol.iterator]=function(){return this});const E4={from:-1,to:-1,match:/.*/.exec("")},vw="gm"+(/x/.unicode==null?"":"u");class T4{constructor(e,n,r,i=0,a=e.length){if(this.text=e,this.to=a,this.curLine="",this.done=!1,this.value=E4,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new M4(e,n,r,i,a);this.re=new RegExp(n,vw+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.iter=e.iter();let o=e.lineAt(i);this.curLineStart=o.from,this.matchPos=im(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let n=this.matchPos<=this.to&&this.re.exec(this.curLine);if(n){let r=this.curLineStart+n.index,i=r+n[0].length;if(this.matchPos=im(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const fv=new WeakMap;class Ps{constructor(e,n){this.from=e,this.text=n}get to(){return this.from+this.text.length}static get(e,n,r){let i=fv.get(e);if(!i||i.from>=r||i.to<=n){let s=new Ps(n,e.sliceString(n,r));return fv.set(e,s),s}if(i.from==n&&i.to==r)return i;let{text:a,from:o}=i;return o>n&&(a=e.sliceString(n,o)+a,o=n),i.to<r&&(a+=e.sliceString(i.to,r)),fv.set(e,new Ps(o,a)),new Ps(n,a.slice(n-o,r-o))}}class M4{constructor(e,n,r,i,a){this.text=e,this.to=a,this.done=!1,this.value=E4,this.matchPos=im(e,i),this.re=new RegExp(n,vw+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.flat=Ps.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,n=this.re.exec(this.flat.text);if(n&&!n[0]&&n.index==e&&(this.re.lastIndex=e+1,n=this.re.exec(this.flat.text)),n){let r=this.flat.from+n.index,i=r+n[0].length;if((this.flat.to>=this.to||n.index+n[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this.matchPos=im(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Ps.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(T4.prototype[Symbol.iterator]=M4.prototype[Symbol.iterator]=function(){return this});function jge(t){try{return new RegExp(t,vw),!0}catch{return!1}}function im(t,e){if(e>=t.length)return e;let n=t.lineAt(e),r;for(;e<n.to&&(r=n.text.charCodeAt(e-n.from))>=56320&&r<57344;)e++;return e}const Qge=t=>{let{state:e}=t,n=String(e.doc.lineAt(t.state.selection.main.head).number),{close:r,result:i}=Vfe(t,{label:e.phrase("Go to line"),input:{type:"text",name:"line",value:n},focus:!0,submitLabel:e.phrase("go")});return i.then(a=>{let o=a&&/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(a.elements.line.value);if(!o){t.dispatch({effects:r});return}let s=e.doc.lineAt(e.selection.main.head),[,l,c,u,f]=o,h=u?+u.slice(1):0,d=c?+c:s.number;if(c&&f){let v=d/100;l&&(v=v*(l=="-"?-1:1)+s.number/e.doc.lines),d=Math.round(e.doc.lines*v)}else c&&l&&(d=d*(l=="-"?-1:1)+s.number);let p=e.doc.line(Math.max(1,Math.min(e.doc.lines,d))),m=W.cursor(p.from+Math.max(0,Math.min(h,p.length)));t.dispatch({effects:[r,ee.scrollIntoView(m.from,{y:"center"})],selection:m})}),!0},zge={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},Ige=H.define({combine(t){return oi(t,zge,{highlightWordAroundCursor:(e,n)=>e||n,minSelectionLength:Math.min,maxMatches:Math.min})}});function Rge(t){return[Zge,Bge]}const Dge=re.mark({class:"cm-selectionMatch"}),Nge=re.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function OA(t,e,n,r){return(n==0||t(e.sliceDoc(n-1,n))!=We.Word)&&(r==e.doc.length||t(e.sliceDoc(r,r+1))!=We.Word)}function Lge(t,e,n,r){return t(e.sliceDoc(n,n+1))==We.Word&&t(e.sliceDoc(r-1,r))==We.Word}const Bge=ut.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(Ige),{state:n}=t,r=n.selection;if(r.ranges.length>1)return re.none;let i=r.main,a,o=null;if(i.empty){if(!e.highlightWordAroundCursor)return re.none;let l=n.wordAt(i.head);if(!l)return re.none;o=n.charCategorizer(i.head),a=n.sliceDoc(l.from,l.to)}else{let l=i.to-i.from;if(l<e.minSelectionLength||l>200)return re.none;if(e.wholeWords){if(a=n.sliceDoc(i.from,i.to),o=n.charCategorizer(i.head),!(OA(o,n,i.from,i.to)&&Lge(o,n,i.from,i.to)))return re.none}else if(a=n.sliceDoc(i.from,i.to),!a)return re.none}let s=[];for(let l of t.visibleRanges){let c=new hl(n.doc,a,l.from,l.to);for(;!c.next().done;){let{from:u,to:f}=c.value;if((!o||OA(o,n,u,f))&&(i.empty&&u<=i.from&&f>=i.to?s.push(Nge.range(u,f)):(u>=i.to||f<=i.from)&&s.push(Dge.range(u,f)),s.length>e.maxMatches))return re.none}}return re.set(s)}},{decorations:t=>t.decorations}),Zge=ee.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),Wge=({state:t,dispatch:e})=>{let{selection:n}=t,r=W.create(n.ranges.map(i=>t.wordAt(i.head)||W.cursor(i.head)),n.mainIndex);return r.eq(n)?!1:(e(t.update({selection:r})),!0)};function Xge(t,e){let{main:n,ranges:r}=t.selection,i=t.wordAt(n.head),a=i&&i.from==n.from&&i.to==n.to;for(let o=!1,s=new hl(t.doc,e,r[r.length-1].to);;)if(s.next(),s.done){if(o)return null;s=new hl(t.doc,e,0,Math.max(0,r[r.length-1].from-1)),o=!0}else{if(o&&r.some(l=>l.from==s.value.from))continue;if(a){let l=t.wordAt(s.value.from);if(!l||l.from!=s.value.from||l.to!=s.value.to)continue}return s.value}}const Fge=({state:t,dispatch:e})=>{let{ranges:n}=t.selection;if(n.some(a=>a.from===a.to))return Wge({state:t,dispatch:e});let r=t.sliceDoc(n[0].from,n[0].to);if(t.selection.ranges.some(a=>t.sliceDoc(a.from,a.to)!=r))return!1;let i=Xge(t,r);return i?(e(t.update({selection:t.selection.addRange(W.range(i.from,i.to),!1),effects:ee.scrollIntoView(i.to)})),!0):!1},zl=H.define({combine(t){return oi(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new a0e(e),scrollToMatch:e=>ee.scrollIntoView(e)})}});class j4{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||jge(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord,this.test=e.test}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(n,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord&&this.test==e.test}create(){return this.regexp?new Hge(this):new qge(this)}getCursor(e,n=0,r){let i=e.doc?e:ye.create({doc:e});return r==null&&(r=i.doc.length),this.regexp?Xo(this,i,n,r):Wo(this,i,n,r)}}class Q4{constructor(e){this.spec=e}}function Vge(t,e,n){return(r,i,a,o)=>{if(n&&!n(r,i,a,o))return!1;let s=r>=o&&i<=o+a.length?a.slice(r-o,i-o):e.doc.sliceString(r,i);return t(s,e,r,i)}}function Wo(t,e,n,r){let i;return t.wholeWord&&(i=Uge(e.doc,e.charCategorizer(e.selection.main.head))),t.test&&(i=Vge(t.test,e,i)),new hl(e.doc,t.unquoted,n,r,t.caseSensitive?void 0:a=>a.toLowerCase(),i)}function Uge(t,e){return(n,r,i,a)=>((a>n||a+i.length<r)&&(a=Math.max(0,n-2),i=t.sliceString(a,Math.min(t.length,r+2))),(e(am(i,n-a))!=We.Word||e(om(i,n-a))!=We.Word)&&(e(om(i,r-a))!=We.Word||e(am(i,r-a))!=We.Word))}class qge extends Q4{constructor(e){super(e)}nextMatch(e,n,r){let i=Wo(this.spec,e,r,e.doc.length).nextOverlapping();if(i.done){let a=Math.min(e.doc.length,n+this.spec.unquoted.length);i=Wo(this.spec,e,0,a).nextOverlapping()}return i.done||i.value.from==n&&i.value.to==r?null:i.value}prevMatchInRange(e,n,r){for(let i=r;;){let a=Math.max(n,i-1e4-this.spec.unquoted.length),o=Wo(this.spec,e,a,i),s=null;for(;!o.nextOverlapping().done;)s=o.value;if(s)return s;if(a==n)return null;i-=1e4}}prevMatch(e,n,r){let i=this.prevMatchInRange(e,0,n);return i||(i=this.prevMatchInRange(e,Math.max(0,r-this.spec.unquoted.length),e.doc.length)),i&&(i.from!=n||i.to!=r)?i:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,n){let r=Wo(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let a=Wo(this.spec,e,Math.max(0,n-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!a.next().done;)i(a.value.from,a.value.to)}}function Yge(t,e,n){return(r,i,a)=>(!n||n(r,i,a))&&t(a[0],e,r,i)}function Xo(t,e,n,r){let i;return t.wholeWord&&(i=Gge(e.charCategorizer(e.selection.main.head))),t.test&&(i=Yge(t.test,e,i)),new T4(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:i},n,r)}function am(t,e){return t.slice(Pt(t,e,!1),e)}function om(t,e){return t.slice(e,Pt(t,e))}function Gge(t){return(e,n,r)=>!r[0].length||(t(am(r.input,r.index))!=We.Word||t(om(r.input,r.index))!=We.Word)&&(t(om(r.input,r.index+r[0].length))!=We.Word||t(am(r.input,r.index+r[0].length))!=We.Word)}class Hge extends Q4{nextMatch(e,n,r){let i=Xo(this.spec,e,r,e.doc.length).next();return i.done&&(i=Xo(this.spec,e,0,n).next()),i.done?null:i.value}prevMatchInRange(e,n,r){for(let i=1;;i++){let a=Math.max(n,r-i*1e4),o=Xo(this.spec,e,a,r),s=null;for(;!o.next().done;)s=o.value;if(s&&(a==n||s.from>a+10))return s;if(a==n)return null}}prevMatch(e,n,r){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(n,r)=>{if(r=="&")return e.match[0];if(r=="$")return"$";for(let i=r.length;i>0;i--){let a=+r.slice(0,i);if(a>0&&a<e.match.length)return e.match[a]+r.slice(i)}return n})}matchAll(e,n){let r=Xo(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let a=Xo(this.spec,e,Math.max(0,n-250),Math.min(r+250,e.doc.length));for(;!a.next().done;)i(a.value.from,a.value.to)}}const af=se.define(),yw=se.define(),ha=Et.define({create(t){return new hv(Tb(t).create(),null)},update(t,e){for(let n of e.effects)n.is(af)?t=new hv(n.value.create(),t.panel):n.is(yw)&&(t=new hv(t.query,n.value?Ow:null));return t},provide:t=>Hu.from(t,e=>e.panel)});class hv{constructor(e,n){this.query=e,this.panel=n}}const Kge=re.mark({class:"cm-searchMatch"}),Jge=re.mark({class:"cm-searchMatch cm-searchMatch-selected"}),e0e=ut.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(ha))}update(t){let e=t.state.field(ha);(e!=t.startState.field(ha)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return re.none;let{view:n}=this,r=new Ci;for(let i=0,a=n.visibleRanges,o=a.length;i<o;i++){let{from:s,to:l}=a[i];for(;i<o-1&&l>a[i+1].from-2*250;)l=a[++i].to;t.highlight(n.state,s,l,(c,u)=>{let f=n.state.selection.ranges.some(h=>h.from==c&&h.to==u);r.add(c,u,f?Jge:Kge)})}return r.finish()}},{decorations:t=>t.decorations});function Ef(t){return e=>{let n=e.state.field(ha,!1);return n&&n.query.spec.valid?t(e,n):R4(e)}}const sm=Ef((t,{query:e})=>{let{to:n}=t.state.selection.main,r=e.nextMatch(t.state,n,n);if(!r)return!1;let i=W.single(r.from,r.to),a=t.state.facet(zl);return t.dispatch({selection:i,effects:[bw(t,r),a.scrollToMatch(i.main,t)],userEvent:"select.search"}),I4(t),!0}),lm=Ef((t,{query:e})=>{let{state:n}=t,{from:r}=n.selection.main,i=e.prevMatch(n,r,r);if(!i)return!1;let a=W.single(i.from,i.to),o=t.state.facet(zl);return t.dispatch({selection:a,effects:[bw(t,i),o.scrollToMatch(a.main,t)],userEvent:"select.search"}),I4(t),!0}),t0e=Ef((t,{query:e})=>{let n=e.matchAll(t.state,1e3);return!n||!n.length?!1:(t.dispatch({selection:W.create(n.map(r=>W.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),n0e=({state:t,dispatch:e})=>{let n=t.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:i}=n.main,a=[],o=0;for(let s=new hl(t.doc,t.sliceDoc(r,i));!s.next().done;){if(a.length>1e3)return!1;s.value.from==r&&(o=a.length),a.push(W.range(s.value.from,s.value.to))}return e(t.update({selection:W.create(a,o),userEvent:"select.search.matches"})),!0},bA=Ef((t,{query:e})=>{let{state:n}=t,{from:r,to:i}=n.selection.main;if(n.readOnly)return!1;let a=e.nextMatch(n,r,r);if(!a)return!1;let o=a,s=[],l,c,u=[];o.from==r&&o.to==i&&(c=n.toText(e.getReplacement(o)),s.push({from:o.from,to:o.to,insert:c}),o=e.nextMatch(n,o.from,o.to),u.push(ee.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(r).number)+".")));let f=t.state.changes(s);return o&&(l=W.single(o.from,o.to).map(f),u.push(bw(t,o)),u.push(n.facet(zl).scrollToMatch(l.main,t))),t.dispatch({changes:f,selection:l,effects:u,userEvent:"input.replace"}),!0}),r0e=Ef((t,{query:e})=>{if(t.state.readOnly)return!1;let n=e.matchAll(t.state,1e9).map(i=>{let{from:a,to:o}=i;return{from:a,to:o,insert:e.getReplacement(i)}});if(!n.length)return!1;let r=t.state.phrase("replaced $ matches",n.length)+".";return t.dispatch({changes:n,effects:ee.announce.of(r),userEvent:"input.replace.all"}),!0});function Ow(t){return t.state.facet(zl).createPanel(t)}function Tb(t,e){var n,r,i,a,o;let s=t.selection.main,l=s.empty||s.to>s.from+100?"":t.sliceDoc(s.from,s.to);if(e&&!l)return e;let c=t.facet(zl);return new j4({search:((n=e==null?void 0:e.literal)!==null&&n!==void 0?n:c.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:(r=e==null?void 0:e.caseSensitive)!==null&&r!==void 0?r:c.caseSensitive,literal:(i=e==null?void 0:e.literal)!==null&&i!==void 0?i:c.literal,regexp:(a=e==null?void 0:e.regexp)!==null&&a!==void 0?a:c.regexp,wholeWord:(o=e==null?void 0:e.wholeWord)!==null&&o!==void 0?o:c.wholeWord})}function z4(t){let e=Jx(t,Ow);return e&&e.dom.querySelector("[main-field]")}function I4(t){let e=z4(t);e&&e==t.root.activeElement&&e.select()}const R4=t=>{let e=t.state.field(ha,!1);if(e&&e.panel){let n=z4(t);if(n&&n!=t.root.activeElement){let r=Tb(t.state,e.query.spec);r.valid&&t.dispatch({effects:af.of(r)}),n.focus(),n.select()}}else t.dispatch({effects:[yw.of(!0),e?af.of(Tb(t.state,e.query.spec)):se.appendConfig.of(s0e)]});return!0},D4=t=>{let e=t.state.field(ha,!1);if(!e||!e.panel)return!1;let n=Jx(t,Ow);return n&&n.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:yw.of(!1)}),!0},i0e=[{key:"Mod-f",run:R4,scope:"editor search-panel"},{key:"F3",run:sm,shift:lm,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:sm,shift:lm,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:D4,scope:"editor search-panel"},{key:"Mod-Shift-l",run:n0e},{key:"Mod-Alt-g",run:Qge},{key:"Mod-d",run:Fge,preventDefault:!0}];class a0e{constructor(e){this.view=e;let n=this.query=e.state.field(ha).query.spec;this.commit=this.commit.bind(this),this.searchField=Pe("input",{value:n.search,placeholder:Tn(e,"Find"),"aria-label":Tn(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Pe("input",{value:n.replace,placeholder:Tn(e,"Replace"),"aria-label":Tn(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=Pe("input",{type:"checkbox",name:"case",form:"",checked:n.caseSensitive,onchange:this.commit}),this.reField=Pe("input",{type:"checkbox",name:"re",form:"",checked:n.regexp,onchange:this.commit}),this.wordField=Pe("input",{type:"checkbox",name:"word",form:"",checked:n.wholeWord,onchange:this.commit});function r(i,a,o){return Pe("button",{class:"cm-button",name:i,onclick:a,type:"button"},o)}this.dom=Pe("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>sm(e),[Tn(e,"next")]),r("prev",()=>lm(e),[Tn(e,"previous")]),r("select",()=>t0e(e),[Tn(e,"all")]),Pe("label",null,[this.caseField,Tn(e,"match case")]),Pe("label",null,[this.reField,Tn(e,"regexp")]),Pe("label",null,[this.wordField,Tn(e,"by word")]),...e.state.readOnly?[]:[Pe("br"),this.replaceField,r("replace",()=>bA(e),[Tn(e,"replace")]),r("replaceAll",()=>r0e(e),[Tn(e,"replace all")])],Pe("button",{name:"close",onclick:()=>D4(e),"aria-label":Tn(e,"close"),type:"button"},[""])])}commit(){let e=new j4({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:af.of(e)}))}keydown(e){ife(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?lm:sm)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),bA(this.view))}update(e){for(let n of e.transactions)for(let r of n.effects)r.is(af)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(zl).top}}function Tn(t,e){return t.state.phrase(e)}const Qh=30,zh=/[\s\.,:;?!]/;function bw(t,{from:e,to:n}){let r=t.state.doc.lineAt(e),i=t.state.doc.lineAt(n).to,a=Math.max(r.from,e-Qh),o=Math.min(i,n+Qh),s=t.state.sliceDoc(a,o);if(a!=r.from){for(let l=0;l<Qh;l++)if(!zh.test(s[l+1])&&zh.test(s[l])){s=s.slice(l);break}}if(o!=i){for(let l=s.length-1;l>s.length-Qh;l--)if(!zh.test(s[l-1])&&zh.test(s[l])){s=s.slice(0,l);break}}return ee.announce.of(`${t.state.phrase("current match")}. ${s} ${t.state.phrase("on line")} ${r.number}.`)}const o0e=ee.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),s0e=[ha,Ta.low(e0e),o0e];class xA{constructor(e,n,r){this.from=e,this.to=n,this.diagnostic=r}}class Xa{constructor(e,n,r){this.diagnostics=e,this.panel=n,this.selected=r}static init(e,n,r){let i=r.facet(of).markerFilter;i&&(e=i(e,r));let a=e.slice().sort((d,p)=>d.from-p.from||d.to-p.to),o=new Ci,s=[],l=0,c=r.doc.iter(),u=0,f=r.doc.length;for(let d=0;;){let p=d==a.length?null:a[d];if(!p&&!s.length)break;let m,v;if(s.length)m=l,v=s.reduce((x,_)=>Math.min(x,_.to),p&&p.from>m?p.from:1e8);else{if(m=p.from,m>f)break;v=p.to,s.push(p),d++}for(;d<a.length;){let x=a[d];if(x.from==m&&(x.to>x.from||x.to==m))s.push(x),d++,v=Math.min(x.to,v);else{v=Math.min(x.from,v);break}}v=Math.min(v,f);let g=!1;if(s.some(x=>x.from==m&&(x.to==v||v==f))&&(g=m==v,!g&&v-m<10)){let x=m-(u+c.value.length);x>0&&(c.next(x),u=m);for(let _=m;;){if(_>=v){g=!0;break}if(!c.lineBreak&&u+c.value.length>_)break;_=u+c.value.length,u+=c.value.length,c.next()}}let y=b0e(s);if(g)o.add(m,m,re.widget({widget:new g0e(y),diagnostics:s.slice()}));else{let x=s.reduce((_,O)=>O.markClass?_+" "+O.markClass:_,"");o.add(m,v,re.mark({class:"cm-lintRange cm-lintRange-"+y+x,diagnostics:s.slice(),inclusiveEnd:s.some(_=>_.to>v)}))}if(l=v,l==f)break;for(let x=0;x<s.length;x++)s[x].to<=l&&s.splice(x--,1)}let h=o.finish();return new Xa(h,n,xa(h))}}function xa(t,e=null,n=0){let r=null;return t.between(n,1e9,(i,a,{spec:o})=>{if(!(e&&o.diagnostics.indexOf(e)<0))if(!r)r=new xA(i,a,e||o.diagnostics[0]);else{if(o.diagnostics.indexOf(r.diagnostic)<0)return!1;r=new xA(r.from,a,r.diagnostic)}}),r}function l0e(t,e){let n=e.pos,r=e.end||n,i=t.state.facet(of).hideOn(t,n,r);if(i!=null)return i;let a=t.startState.doc.lineAt(e.pos);return!!(t.effects.some(o=>o.is(N4))||t.changes.touchesRange(a.from,Math.max(a.to,r)))}function c0e(t,e){return t.field(Nn,!1)?e:e.concat(se.appendConfig.of(x0e))}const N4=se.define(),xw=se.define(),L4=se.define(),Nn=Et.define({create(){return new Xa(re.none,null,null)},update(t,e){if(e.docChanged&&t.diagnostics.size){let n=t.diagnostics.map(e.changes),r=null,i=t.panel;if(t.selected){let a=e.changes.mapPos(t.selected.from,1);r=xa(n,t.selected.diagnostic,a)||xa(n,null,a)}!n.size&&i&&e.state.facet(of).autoPanel&&(i=null),t=new Xa(n,i,r)}for(let n of e.effects)if(n.is(N4)){let r=e.state.facet(of).autoPanel?n.value.length?sf.open:null:t.panel;t=Xa.init(n.value,r,e.state)}else n.is(xw)?t=new Xa(t.diagnostics,n.value?sf.open:null,t.selected):n.is(L4)&&(t=new Xa(t.diagnostics,t.panel,n.value));return t},provide:t=>[Hu.from(t,e=>e.panel),ee.decorations.from(t,e=>e.diagnostics)]}),u0e=re.mark({class:"cm-lintRange cm-lintRange-active"});function f0e(t,e,n){let{diagnostics:r}=t.state.field(Nn),i,a=-1,o=-1;r.between(e-(n<0?1:0),e+(n>0?1:0),(l,c,{spec:u})=>{if(e>=l&&e<=c&&(l==c||(e>l||n>0)&&(e<c||n<0)))return i=u.diagnostics,a=l,o=c,!1});let s=t.state.facet(of).tooltipFilter;return i&&s&&(i=s(i,t.state)),i?{pos:a,end:o,above:t.state.doc.lineAt(a).to<o,create(){return{dom:h0e(t,i)}}}:null}function h0e(t,e){return Pe("ul",{class:"cm-tooltip-lint"},e.map(n=>Z4(t,n,!1)))}const d0e=t=>{let e=t.state.field(Nn,!1);(!e||!e.panel)&&t.dispatch({effects:c0e(t.state,[xw.of(!0)])});let n=Jx(t,sf.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},wA=t=>{let e=t.state.field(Nn,!1);return!e||!e.panel?!1:(t.dispatch({effects:xw.of(!1)}),!0)},p0e=t=>{let e=t.state.field(Nn,!1);if(!e)return!1;let n=t.state.selection.main,r=xa(e.diagnostics,null,n.to+1);return!r&&(r=xa(e.diagnostics,null,0),!r||r.from==n.from&&r.to==n.to)?!1:(t.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)},m0e=[{key:"Mod-Shift-m",run:d0e,preventDefault:!0},{key:"F8",run:p0e}],of=H.define({combine(t){return{sources:t.map(e=>e.source).filter(e=>e!=null),...oi(t.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{delay:Math.max,markerFilter:SA,tooltipFilter:SA,needsRefresh:(e,n)=>e?n?r=>e(r)||n(r):e:n,hideOn:(e,n)=>e?n?(r,i,a)=>e(r,i,a)||n(r,i,a):e:n,autoPanel:(e,n)=>e||n})}}});function SA(t,e){return t?e?(n,r)=>e(t(n,r),r):t:e}function B4(t){let e=[];if(t)e:for(let{name:n}of t){for(let r=0;r<n.length;r++){let i=n[r];if(/[a-zA-Z]/.test(i)&&!e.some(a=>a.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function Z4(t,e,n){var r;let i=n?B4(e.actions):[];return Pe("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},Pe("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(t):e.message),(r=e.actions)===null||r===void 0?void 0:r.map((a,o)=>{let s=!1,l=d=>{if(d.preventDefault(),s)return;s=!0;let p=xa(t.state.field(Nn).diagnostics,e);p&&a.apply(t,p.from,p.to)},{name:c}=a,u=i[o]?c.indexOf(i[o]):-1,f=u<0?c:[c.slice(0,u),Pe("u",c.slice(u,u+1)),c.slice(u+1)],h=a.markClass?" "+a.markClass:"";return Pe("button",{type:"button",class:"cm-diagnosticAction"+h,onclick:l,onmousedown:l,"aria-label":` Action: ${c}${u<0?"":` (access key "${i[o]})"`}.`},f)}),e.source&&Pe("div",{class:"cm-diagnosticSource"},e.source))}class g0e extends si{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return Pe("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class _A{constructor(e,n){this.diagnostic=n,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=Z4(e,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class sf{constructor(e){this.view=e,this.items=[];let n=i=>{if(!(i.ctrlKey||i.altKey||i.metaKey)){if(i.keyCode==27)wA(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:a}=this.items[this.selectedIndex],o=B4(a.actions);for(let s=0;s<o.length;s++)if(o[s].toUpperCase().charCodeAt(0)==i.keyCode){let l=xa(this.view.state.field(Nn).diagnostics,a);l&&a.actions[s].apply(e,l.from,l.to)}}else return;i.preventDefault()}},r=i=>{for(let a=0;a<this.items.length;a++)this.items[a].dom.contains(i.target)&&this.moveSelection(a)};this.list=Pe("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:n,onclick:r}),this.dom=Pe("div",{class:"cm-panel-lint"},this.list,Pe("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>wA(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(Nn).selected;if(!e)return-1;for(let n=0;n<this.items.length;n++)if(this.items[n].diagnostic==e.diagnostic)return n;return-1}update(){let{diagnostics:e,selected:n}=this.view.state.field(Nn),r=0,i=!1,a=null,o=new Set;for(e.between(0,this.view.state.doc.length,(s,l,{spec:c})=>{for(let u of c.diagnostics){if(o.has(u))continue;o.add(u);let f=-1,h;for(let d=r;d<this.items.length;d++)if(this.items[d].diagnostic==u){f=d;break}f<0?(h=new _A(this.view,u),this.items.splice(r,0,h),i=!0):(h=this.items[f],f>r&&(this.items.splice(r,f-r),i=!0)),n&&h.diagnostic==n.diagnostic?h.dom.hasAttribute("aria-selected")||(h.dom.setAttribute("aria-selected","true"),a=h):h.dom.hasAttribute("aria-selected")&&h.dom.removeAttribute("aria-selected"),r++}});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new _A(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),a?(this.list.setAttribute("aria-activedescendant",a.id),this.view.requestMeasure({key:this,read:()=>({sel:a.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:s,panel:l})=>{let c=l.height/this.list.offsetHeight;s.top<l.top?this.list.scrollTop-=(l.top-s.top)/c:s.bottom>l.bottom&&(this.list.scrollTop+=(s.bottom-l.bottom)/c)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function n(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)n();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)n()}moveSelection(e){if(this.selectedIndex<0)return;let n=this.view.state.field(Nn),r=xa(n.diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:L4.of(r)})}static open(e){return new sf(e)}}function v0e(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function Ih(t){return v0e(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const y0e=ee.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Ih("#d11")},".cm-lintRange-warning":{backgroundImage:Ih("orange")},".cm-lintRange-info":{backgroundImage:Ih("#999")},".cm-lintRange-hint":{backgroundImage:Ih("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function O0e(t){return t=="error"?4:t=="warning"?3:t=="info"?2:1}function b0e(t){let e="hint",n=1;for(let r of t){let i=O0e(r.severity);i>n&&(n=i,e=r.severity)}return e}const x0e=[Nn,ee.decorations.compute([Nn],t=>{let{selected:e,panel:n}=t.field(Nn);return!e||!n||e.from==e.to?re.none:re.set([u0e.range(e.from,e.to)])}),Xfe(f0e,{hideOn:l0e}),y0e],w0e=[rhe(),ohe(),xfe(),Ame(),Ide(),ufe(),mfe(),ye.allowMultipleSelections.of(!0),wde(),E3(Lde,{fallback:!0}),Ude(),Rpe(),qpe(),jfe(),Ife(),Pfe(),Rge(),bg.of([...Bpe,...Mge,...i0e,...Rme,...Mde,...F3,...m0e])];function S0e(t,e,n){const r=n==="impact"?t.impacts.get(e):t.variables.get(e);return r?r.timeseries.map(i=>{const a=i.distribution.percentiles,o=a.get(5)??i.distribution.mean-2*i.distribution.std,s=a.get(25)??i.distribution.mean-.674*i.distribution.std,l=a.get(50)??i.distribution.mean,c=a.get(75)??i.distribution.mean+.674*i.distribution.std,u=a.get(95)??i.distribution.mean+2*i.distribution.std;return{year:i.date.getFullYear(),base:o,outerLower:s-o,innerLower:l-s,innerUpper:c-l,outerUpper:u-c,p50:l}}):[]}function Mb(t){return Math.abs(t)>=1e9?`${(t/1e9).toFixed(0)}B`:Math.abs(t)>=1e6?`${(t/1e6).toFixed(0)}M`:Math.abs(t)>=1e4?`${(t/1e3).toFixed(0)}K`:Math.abs(t)>=1e3?`${(t/1e3).toFixed(1)}K`:Math.abs(t)<.01&&t!==0?t.toExponential(1):Math.abs(t)<1?t.toFixed(2):t.toFixed(1)}const Rh=["#3b82f6","#10b981","#f59e0b","#8b5cf6","#ef4444","#06b6d4","#ec4899","#84cc16","#f97316","#6366f1"];function _0e({data:t,label:e,color:n,unit:r}){if(!t||t.length===0)return null;const i=`g-editor-${e.replace(/\s/g,"-")}`;return b.jsxs("div",{className:"bg-slate-900/60 border border-slate-800 rounded-2xl p-5 animate-fade-in",children:[b.jsxs("div",{className:"flex items-center gap-2.5 mb-4",children:[b.jsx("div",{className:"w-2.5 h-2.5 rounded-full shrink-0",style:{backgroundColor:n}}),b.jsx("div",{className:"min-w-0 flex-1",children:b.jsx("h3",{className:"text-sm font-semibold text-slate-200 truncate",children:e})}),b.jsx("span",{className:"ml-auto text-[10px] uppercase tracking-wider text-slate-600 font-medium shrink-0",children:r})]}),b.jsx(eT,{width:"100%",height:190,children:b.jsxs(Oj,{data:t,margin:{top:5,right:10,left:0,bottom:5},children:[b.jsxs("defs",{children:[b.jsxs("linearGradient",{id:`${i}-o`,x1:"0",y1:"0",x2:"0",y2:"1",children:[b.jsx("stop",{offset:"0%",stopColor:n,stopOpacity:.1}),b.jsx("stop",{offset:"100%",stopColor:n,stopOpacity:.1})]}),b.jsxs("linearGradient",{id:`${i}-i`,x1:"0",y1:"0",x2:"0",y2:"1",children:[b.jsx("stop",{offset:"0%",stopColor:n,stopOpacity:.22}),b.jsx("stop",{offset:"100%",stopColor:n,stopOpacity:.22})]})]}),b.jsx(Qx,{strokeDasharray:"3 3",stroke:"rgb(30,41,59)"}),b.jsx(Of,{dataKey:"year",tick:{fontSize:11,fill:"rgb(100,116,139)"},axisLine:{stroke:"rgb(51,65,85)"},tickLine:!1}),b.jsx(bf,{tick:{fontSize:11,fill:"rgb(100,116,139)"},axisLine:{stroke:"rgb(51,65,85)"},tickLine:!1,tickFormatter:Mb,width:50}),b.jsx(gr,{contentStyle:{backgroundColor:"rgb(15,23,42)",border:"1px solid rgb(51,65,85)",borderRadius:"12px",fontSize:"12px",color:"rgb(203,213,225)",boxShadow:"0 8px 24px rgba(0,0,0,0.4)"},formatter:(a,o)=>o==="p50"?[Mb(a),"Mediana"]:[null,null],labelFormatter:a=>`Anno ${a}`,labelStyle:{color:"rgb(148,163,184)",fontWeight:600}}),b.jsx(It,{type:"monotone",dataKey:"base",stackId:"fan",fill:"transparent",stroke:"none"}),b.jsx(It,{type:"monotone",dataKey:"outerLower",stackId:"fan",fill:`url(#${i}-o)`,stroke:"none"}),b.jsx(It,{type:"monotone",dataKey:"innerLower",stackId:"fan",fill:`url(#${i}-i)`,stroke:"none"}),b.jsx(It,{type:"monotone",dataKey:"innerUpper",stackId:"fan",fill:`url(#${i}-i)`,stroke:"none"}),b.jsx(It,{type:"monotone",dataKey:"outerUpper",stackId:"fan",fill:`url(#${i}-o)`,stroke:"none"}),b.jsx(Tl,{type:"monotone",dataKey:"p50",stroke:n,strokeWidth:2.5,dot:!1,activeDot:{r:5,fill:n,stroke:"white",strokeWidth:2}})]})}),b.jsxs("div",{className:"flex items-center justify-center gap-6 mt-2 text-[10px] text-slate-600",children:[b.jsxs("span",{className:"flex items-center gap-1.5",children:[b.jsx("span",{className:"w-6 h-1.5 rounded-full",style:{backgroundColor:n,opacity:.2}}),"90%"]}),b.jsxs("span",{className:"flex items-center gap-1.5",children:[b.jsx("span",{className:"w-6 h-1.5 rounded-full",style:{backgroundColor:n,opacity:.4}}),"50%"]}),b.jsxs("span",{className:"flex items-center gap-1.5",children:[b.jsx("span",{className:"w-6 h-0.5 rounded-full",style:{backgroundColor:n}}),"Mediana"]})]})]})}function $0e({items:t}){if(t.length===0)return null;const e=t.filter(r=>r.severity==="error"),n=t.filter(r=>r.severity==="warning");return b.jsxs("div",{className:"border border-slate-800 rounded-xl overflow-hidden animate-fade-in",children:[b.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5 bg-slate-900/60 border-b border-slate-800/60",children:[b.jsx("svg",{className:"w-4 h-4 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),b.jsx("span",{className:"text-xs font-semibold text-slate-400",children:"Diagnostica"}),e.length>0&&b.jsxs("span",{className:"text-[10px] font-medium text-red-400 bg-red-400/10 px-2 py-0.5 rounded-full",children:[e.length," errori"]}),n.length>0&&b.jsxs("span",{className:"text-[10px] font-medium text-amber-400 bg-amber-400/10 px-2 py-0.5 rounded-full",children:[n.length," avvisi"]})]}),b.jsx("div",{className:"max-h-40 overflow-y-auto",children:t.map((r,i)=>b.jsxs("div",{className:"flex items-start gap-2.5 px-4 py-2 border-b border-slate-800/30 last:border-b-0",children:[b.jsx("span",{className:`mt-0.5 w-1.5 h-1.5 rounded-full shrink-0 ${r.severity==="error"?"bg-red-400":r.severity==="warning"?"bg-amber-400":"bg-blue-400"}`}),b.jsx("div",{className:"min-w-0 flex-1",children:b.jsx("p",{className:`text-xs font-mono leading-relaxed ${r.severity==="error"?"text-red-300":r.severity==="warning"?"text-amber-300":"text-blue-300"}`,children:r.message})}),r.line!=null&&b.jsxs("span",{className:"text-[10px] text-slate-600 shrink-0",children:["riga ",r.line]})]},i))})]})}function k0e({onSelect:t}){return b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:Wu.map(e=>b.jsxs("button",{onClick:()=>t(e),className:"group text-left bg-slate-900/60 border border-slate-800 rounded-xl p-4 hover:border-slate-600 hover:bg-slate-900/80 transition-all hover:shadow-lg hover:shadow-black/20 focus:outline-none focus:ring-2 focus:ring-emerald-500/40",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[b.jsx("span",{className:"text-2xl",children:e.icon}),b.jsx("p",{className:"text-sm font-semibold text-white group-hover:text-emerald-300 transition-colors",children:e.name})]}),b.jsx("p",{className:"text-[11px] text-slate-500 leading-relaxed",children:e.description})]},e.id))})}function P0e({value:t,onChange:e}){const n=D.useRef(null),r=D.useRef(null),i=D.useRef(e);i.current=e,D.useEffect(()=>{if(!n.current)return;const o=ye.create({doc:t,extensions:[w0e,ime(),yme,ee.theme({"&":{height:"100%",fontSize:"13px"},".cm-scroller":{overflow:"auto",fontFamily:"'JetBrains Mono', monospace"},".cm-content":{padding:"12px 0"},".cm-gutters":{backgroundColor:"transparent",borderRight:"1px solid rgb(30,41,59)"},".cm-activeLineGutter":{backgroundColor:"rgba(59,130,246,0.08)"},".cm-activeLine":{backgroundColor:"rgba(59,130,246,0.06)"}}),ee.updateListener.of(l=>{l.docChanged&&i.current(l.state.doc.toString())})]}),s=new ee({state:o,parent:n.current});return r.current=s,()=>{s.destroy(),r.current=null}},[]);const a=D.useRef(t);return D.useEffect(()=>{if(a.current===t)return;a.current=t;const o=r.current;if(!o)return;const s=o.state.doc.toString();s!==t&&o.dispatch({changes:{from:0,to:s.length,insert:t}})},[t]),b.jsx("div",{ref:n,className:"h-full codemirror-container"})}function A0e({initialTemplate:t}){const e=D.useMemo(()=>Wu.find(C=>C.id===t)??Wu[0],[t]),[n,r]=D.useState(e.source),[i,a]=D.useState(e),[o,s]=D.useState([]),[l,c]=D.useState(null),[u,f]=D.useState(null),[h,d]=D.useState(!1),[p,m]=D.useState(0),[v,g]=D.useState(0),[y,x]=D.useState(!1),[_,O]=D.useState("editor"),w=D.useRef(),$=D.useCallback(C=>{var L,I,M,R;const Q=[];try{const{ast:B,diagnostics:F}=bj(C);for(const X of F)Q.push({severity:X.severity,message:X.message,line:(I=(L=X.span)==null?void 0:L.start)==null?void 0:I.line});if(B){const X=xj(B);for(const G of X.diagnostics)Q.push({severity:G.severity,message:G.message,line:(R=(M=G.span)==null?void 0:M.start)==null?void 0:R.line});c(B)}else c(null)}catch(B){Q.push({severity:"error",message:B.message??"Errore di parsing sconosciuto"}),c(null)}s(Q)},[]),k=D.useCallback(C=>{r(C),clearTimeout(w.current),w.current=setTimeout(()=>$(C),400)},[$]);D.useEffect(()=>{$(n)},[]);const P=D.useCallback(()=>{l&&(d(!0),O("results"),setTimeout(()=>{try{const C=wj(l,{runs:2e3,seed:42});f(C),m(C.elapsedMs),g(C.runs)}catch(C){console.error("Simulazione fallita:",C)}finally{d(!1)}},30))},[l]),T=D.useCallback(C=>{a(C),r(C.source),f(null),x(!1),O("editor"),setTimeout(()=>$(C.source),50)},[$]),j=D.useMemo(()=>{if(!u)return[];const C=[];let Q=0;for(const[L]of u.variables)C.push({name:L,type:"variable",color:Rh[Q%Rh.length]}),Q++;for(const[L]of u.impacts)C.push({name:L,type:"impact",color:Rh[Q%Rh.length]}),Q++;return C},[u]),A=o.filter(C=>C.severity==="error").length,N=l!=null&&A===0;return b.jsxs("div",{className:"min-h-full animate-fade-in",children:[b.jsxs("header",{className:"relative overflow-hidden border-b border-slate-800",children:[b.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-600/5 via-transparent to-cyan-600/5"}),b.jsxs("div",{className:"relative max-w-full px-6 lg:px-8 py-8",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[b.jsx("div",{className:"w-11 h-11 rounded-xl flex items-center justify-center text-2xl bg-emerald-500/10",children:""}),b.jsx("div",{children:b.jsx("span",{className:"text-[10px] uppercase tracking-widest font-medium px-2 py-0.5 rounded-full text-emerald-400 bg-emerald-400/10",children:"Editor"})})]}),b.jsx("h1",{className:"text-2xl md:text-3xl font-extrabold text-white leading-tight mb-2",children:"Crea il tuo scenario"}),b.jsx("p",{className:"text-sm text-slate-400 max-w-2xl leading-relaxed mb-4",children:"Scrivi codice SDL, verifica la sintassi in tempo reale, e lancia simulazioni Monte Carlo."}),b.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-[11px] text-slate-500",children:[b.jsxs("button",{onClick:()=>x(!y),className:"flex items-center gap-1.5 bg-slate-800/60 px-3 py-1.5 rounded-full hover:bg-slate-800 transition-colors",children:[b.jsx("span",{children:i.icon}),b.jsx("span",{children:i.name}),b.jsx("svg",{className:`w-3 h-3 transition-transform ${y?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),l?b.jsxs("span",{className:"flex items-center gap-1.5 bg-slate-800/60 px-3 py-1.5 rounded-full",children:[b.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400 animate-pulse"}),"Parsing OK"]}):b.jsxs("span",{className:"flex items-center gap-1.5 bg-slate-800/60 px-3 py-1.5 rounded-full",children:[b.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-red-400"}),"Errori nel codice"]}),u&&b.jsxs(b.Fragment,{children:[b.jsxs("span",{className:"bg-slate-800/60 px-3 py-1.5 rounded-full",children:[v.toLocaleString()," simulazioni"]}),p>0&&b.jsxs("span",{className:"bg-slate-800/60 px-3 py-1.5 rounded-full",children:[p,"ms"]})]}),b.jsx("button",{onClick:P,disabled:!N||h,className:`
                ml-auto flex items-center gap-2 px-5 py-2 text-xs font-semibold rounded-lg transition-all
                ${!N||h?"bg-slate-700 text-slate-500 cursor-not-allowed":"bg-gradient-to-r from-emerald-600 to-cyan-600 text-white hover:from-emerald-500 hover:to-cyan-500 shadow-lg shadow-emerald-500/20 hover:shadow-emerald-500/30"}
              `,children:h?b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"w-3.5 h-3.5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Simulazione..."]}):b.jsxs(b.Fragment,{children:[b.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{d:"M8 5v14l11-7z"})}),"Simula"]})})]})]})]}),y&&b.jsxs("div",{className:"px-6 lg:px-8 py-5 border-b border-slate-800 bg-slate-950/80 animate-fade-in",children:[b.jsx("p",{className:"text-xs text-slate-400 mb-3",children:"Scegli un template per iniziare:"}),b.jsx(k0e,{onSelect:T})]}),b.jsxs("main",{className:"px-6 lg:px-8 py-6",children:[b.jsxs("div",{className:"flex items-center gap-1 mb-5 lg:hidden bg-slate-900/60 p-1 rounded-lg border border-slate-800 w-fit",children:[b.jsx("button",{onClick:()=>O("editor"),className:`px-4 py-2 text-xs font-semibold rounded-md transition-colors ${_==="editor"?"bg-slate-800 text-white":"text-slate-500 hover:text-slate-300"}`,children:"Editor"}),b.jsxs("button",{onClick:()=>O("results"),className:`px-4 py-2 text-xs font-semibold rounded-md transition-colors ${_==="results"?"bg-slate-800 text-white":"text-slate-500 hover:text-slate-300"}`,children:["Risultati ",u?`(${j.length})`:""]})]}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[b.jsxs("div",{className:`lg:col-span-6 space-y-4 ${_!=="editor"?"hidden lg:block":""}`,children:[b.jsxs("div",{className:"flex items-center justify-between mb-1",children:[b.jsx("h2",{className:"text-lg font-bold text-white",children:"Codice SDL"}),b.jsx("div",{className:"flex items-center gap-2",children:b.jsxs("span",{className:"text-[10px] text-slate-600",children:[n.split(`
`).length," righe"]})})]}),b.jsx("div",{className:"border border-slate-800 rounded-2xl overflow-hidden bg-slate-900/40",style:{height:"480px"},children:b.jsx(P0e,{value:n,onChange:k})}),b.jsx($0e,{items:o})]}),b.jsxs("div",{className:`lg:col-span-6 space-y-5 ${_!=="results"?"hidden lg:block":""}`,children:[b.jsxs("div",{className:"flex items-center justify-between mb-1",children:[b.jsx("h2",{className:"text-lg font-bold text-white",children:"Risultati simulazione"}),h&&b.jsxs("div",{className:"flex items-center gap-2 text-xs text-emerald-400 animate-pulse-slow",children:[b.jsx("div",{className:"w-3 h-3 border-2 border-emerald-400/30 border-t-emerald-400 rounded-full animate-spin"}),"Calcolo in corso..."]})]}),u?b.jsxs("div",{className:"space-y-5",children:[b.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:j.map(({name:C,type:Q,color:L})=>{const I=Q==="impact"?u.impacts.get(C):u.variables.get(C);if(!I||I.timeseries.length===0)return null;const M=I.timeseries[I.timeseries.length-1],R=M.distribution.percentiles.get(50)??M.distribution.mean,B=M.date.getFullYear();return b.jsxs("div",{className:"bg-slate-900/60 border border-slate-800 rounded-xl p-3 text-center",children:[b.jsx("p",{className:"text-[10px] text-slate-500 uppercase tracking-wider mb-1 truncate",children:C.replace(/_/g," ")}),b.jsx("p",{className:"text-lg font-bold tabular-nums",style:{color:L},children:Mb(R)}),b.jsx("p",{className:"text-[10px] text-slate-600 mt-0.5",children:B})]},C)})}),j.map(({name:C,type:Q,color:L})=>{const I=Q==="impact"?u.impacts.get(C):u.variables.get(C),M=(I==null?void 0:I.unit)??"";return b.jsx(_0e,{data:S0e(u,C,Q),label:C.replace(/_/g," "),color:L,unit:M},C)})]}):b.jsx("div",{className:"h-80 flex items-center justify-center",children:b.jsxs("div",{className:"text-center max-w-xs",children:[b.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-2xl bg-slate-800/60 flex items-center justify-center",children:b.jsx("svg",{className:"w-8 h-8 text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),b.jsx("p",{className:"text-sm text-slate-400 mb-2",children:"Nessun risultato ancora"}),b.jsxs("p",{className:"text-[11px] text-slate-600 leading-relaxed",children:["Scrivi o modifica il codice SDL nell'editor, poi premi ",b.jsx("strong",{className:"text-slate-400",children:"Simula"})," per lanciare 2.000 simulazioni Monte Carlo."]})]})})]})]})]})]})}const Fi=[{id:"panoramica",label:"Panoramica",icon:""},{id:"struttura",label:"Struttura scenario",icon:""},{id:"assunzioni",label:"Assunzioni",icon:""},{id:"variabili",label:"Variabili",icon:""},{id:"parametri",label:"Parametri",icon:""},{id:"branches",label:"Branches",icon:""},{id:"impatti",label:"Impatti",icon:""},{id:"simulazione",label:"Simulazione",icon:""},{id:"distribuzioni",label:"Distribuzioni",icon:""},{id:"riferimento",label:"Riferimento rapido",icon:""}];function _n({code:t,title:e}){const[n,r]=D.useState(!1),i=()=>{navigator.clipboard.writeText(t),r(!0),setTimeout(()=>r(!1),2e3)};return b.jsxs("div",{className:"relative group rounded-xl overflow-hidden border border-slate-800 bg-slate-900/60 my-4",children:[e&&b.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-slate-800/40 border-b border-slate-800/60",children:[b.jsx("span",{className:"text-[11px] font-semibold text-slate-400",children:e}),b.jsx("button",{onClick:i,className:"text-[10px] text-slate-500 hover:text-slate-300 transition-colors px-2 py-1 rounded-md hover:bg-slate-700/50",children:n?"Copiato!":"Copia"})]}),!e&&b.jsx("button",{onClick:i,className:"absolute top-2 right-2 text-[10px] text-slate-600 hover:text-slate-300 transition-colors px-2 py-1 rounded-md hover:bg-slate-700/50 opacity-0 group-hover:opacity-100",children:n?"Copiato!":"Copia"}),b.jsx("pre",{className:"text-[13px] font-mono text-slate-300 p-4 overflow-x-auto leading-relaxed whitespace-pre-wrap",children:t})]})}function Eg({children:t}){return b.jsxs("div",{className:"flex gap-3 bg-blue-500/5 border border-blue-500/15 rounded-xl p-4 my-4",children:[b.jsx("span",{className:"text-blue-400 text-sm shrink-0 mt-0.5",children:""}),b.jsx("div",{className:"text-[13px] text-slate-400 leading-relaxed",children:t})]})}function Pr({headers:t,rows:e}){return b.jsx("div",{className:"overflow-x-auto my-4 rounded-xl border border-slate-800",children:b.jsxs("table",{className:"w-full text-[13px]",children:[b.jsx("thead",{children:b.jsx("tr",{className:"bg-slate-800/40",children:t.map((n,r)=>b.jsx("th",{className:"text-left px-4 py-2.5 text-slate-400 font-semibold border-b border-slate-800/60",children:n},r))})}),b.jsx("tbody",{children:e.map((n,r)=>b.jsx("tr",{className:"border-b border-slate-800/30 last:border-b-0 hover:bg-slate-800/20 transition-colors",children:n.map((i,a)=>b.jsx("td",{className:`px-4 py-2.5 ${a===0?"font-mono text-amber-300/80":"text-slate-400"}`,children:i},a))},r))})]})})}function C0e(){return b.jsxs("section",{children:[b.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Cos'e' SDL?"}),b.jsxs("p",{className:"text-slate-400 leading-relaxed mb-4",children:[b.jsx("strong",{className:"text-slate-200",children:"SDL (Scenario Description Language)"})," e' un linguaggio formale per descrivere, simulare e monitorare scenari futuri. A differenza delle previsioni tradizionali (testi statici o presentazioni), uno scenario SDL e' un ",b.jsx("strong",{className:"text-slate-200",children:"oggetto computazionale"}),": puo' essere parsato, eseguito con simulazioni Monte Carlo, collegato a fonti dati reali, e tradotto da/verso linguaggio naturale."]}),b.jsx("h3",{className:"text-lg font-semibold text-white mt-8 mb-3",children:"Principi fondamentali"}),b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[["Eseguibile","Ogni scenario puo' essere simulato, non solo letto"],["Incertezza nativa","Le distribuzioni di probabilita' sono cittadini di prima classe"],["Temporale","Il tempo e' una dimensione fondamentale di ogni costrutto"],["Causale","Le dipendenze tra variabili formano un grafo causale esplicito"],["Componibile","Gli scenari possono essere combinati, derivati, confrontati"],["Leggibile","La sintassi e' comprensibile anche ai non-programmatori"],["Trasparente","Ogni assunzione dichiara la sua fonte e il livello di confidenza"],["Verificabile","I risultati possono essere riprodotti e controllati"]].map(([t,e])=>b.jsxs("div",{className:"bg-slate-900/40 border border-slate-800/60 rounded-lg p-3",children:[b.jsx("p",{className:"text-sm font-semibold text-slate-200 mb-1",children:t}),b.jsx("p",{className:"text-[12px] text-slate-500 leading-relaxed",children:e})]},t))}),b.jsx("h3",{className:"text-lg font-semibold text-white mt-8 mb-3",children:"Come funziona"}),b.jsx("div",{className:"flex flex-col sm:flex-row items-center gap-3 text-center",children:[["1. Scrivi","Definisci scenario con assunzioni, variabili, branches"],["2. Valida","Il parser controlla sintassi e costruisce il grafo causale"],["3. Simula","2.000+ simulazioni Monte Carlo propagano l'incertezza"],["4. Analizza","Fan chart con percentili mostrano la gamma di futuri possibili"]].map(([t,e])=>b.jsxs("div",{className:"flex-1 bg-slate-900/40 border border-slate-800/60 rounded-xl p-4",children:[b.jsx("p",{className:"text-sm font-bold text-blue-400 mb-1",children:t}),b.jsx("p",{className:"text-[11px] text-slate-500 leading-relaxed",children:e})]},t))})]})}function E0e(){return b.jsxs("section",{children:[b.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Struttura di uno scenario"}),b.jsxs("p",{className:"text-slate-400 leading-relaxed mb-4",children:["Ogni file SDL contiene esattamente un blocco ",b.jsx("code",{className:"text-amber-300/80",children:"scenario"}),". Al suo interno si dichiarano i metadati e i vari costrutti."]}),b.jsx(_n,{title:"Struttura base",code:`scenario "Nome dello scenario" {
  //  Metadati obbligatori 
  timeframe: 2025 -> 2040        // Periodo di simulazione
  resolution: yearly              // Risoluzione temporale

  //  Metadati opzionali 
  confidence: 0.6                 // Confidenza complessiva (0-1)
  author: "Il tuo nome"
  version: "1.0"
  description: "Descrizione dello scenario"
  tags: ["tag1", "tag2"]

  //  Dichiarazioni 
  assumption ...   // Condizioni esterne prese come date
  parameter ...    // Valori configurabili
  variable ...     // Grandezze che cambiano nel tempo
  branch ...       // Scenari alternativi condizionali
  impact ...       // Metriche di output derivate
  simulate ...     // Configurazione simulazione

  //  Avanzato 
  calibrate ...    // Calibrazione bayesiana
  bind ...         // Collegamento a dati esterni
  watch ...        // Monitoraggio deviazioni
}`}),b.jsx("h3",{className:"text-lg font-semibold text-white mt-8 mb-3",children:"Metadati"}),b.jsx(Pr,{headers:["Campo","Tipo","Obbligatorio","Descrizione"],rows:[["timeframe","2025 -> 2040","Si'","Periodo inizio -> fine"],["resolution","yearly | monthly | weekly | daily","Si'","Passo temporale della simulazione"],["confidence","0.0  1.0","No","Confidenza complessiva dello scenario"],["author",'"Nome"',"No","Autore dello scenario"],["version",'"1.0"',"No","Versione"],["description",'"Testo"',"No","Descrizione testuale"],["tags",'["a", "b"]',"No","Tag per categorizzazione"]]}),b.jsx("h3",{className:"text-lg font-semibold text-white mt-8 mb-3",children:"Commenti"}),b.jsx(_n,{code:`// Commento su una riga

/* Commento
   su piu' righe */`})]})}function T0e(){return b.jsxs("section",{children:[b.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Assunzioni"}),b.jsxs("p",{className:"text-slate-400 leading-relaxed mb-4",children:["Le ",b.jsx("strong",{className:"text-slate-200",children:"assunzioni"})," (",b.jsx("code",{className:"text-amber-300/80",children:"assumption"}),") rappresentano condizioni esterne prese come date. Sono gli ",b.jsx("em",{children:"input"})," dello scenario: non vengono derivate, ma alimentano le variabili attraverso il grafo causale."]}),b.jsx(_n,{title:"Sintassi",code:`assumption nome_assunzione {
  value: 85 EUR             // Valore base (numeri, %, valuta)
  source: "Fonte dei dati"  // Fonte (obbligatoria per trasparenza)
  confidence: 0.7           // Confidenza (0-1)
  uncertainty: normal(25%) // Distribuzione di incertezza
}`}),b.jsxs(Eg,{children:[b.jsx("strong",{children:"Buona pratica:"})," indica sempre la ",b.jsx("code",{children:"source"})," di ogni assunzione. Questo rende lo scenario verificabile e trasparente."]}),b.jsx("h3",{className:"text-lg font-semibold text-white mt-8 mb-3",children:"Esempio completo"}),b.jsx(_n,{code:`assumption tasso_crescita_pil {
  value: 0.8
  source: "ISTAT, previsioni 2025"
  confidence: 0.5
  uncertainty: normal(40%)
}

assumption prezzo_carbonio {
  value: 85 EUR
  source: "EU ETS, Q1 2025"
  confidence: 0.7
  uncertainty: normal(25%)
}

assumption volonta_politica {
  value: 0.7
  source: "Indice composito politiche UE"
  confidence: 0.5
  uncertainty: beta(7, 3)    // Distribuzione beta
}`}),b.jsx("h3",{className:"text-lg font-semibold text-white mt-8 mb-3",children:"Tipi di valore supportati"}),b.jsx(Pr,{headers:["Tipo","Esempio","Note"],rows:[["Numero","0.8, 42, 3.14","Interi e decimali"],["Percentuale","22%, 0.5%","Valore con %"],["Valuta","85 EUR, 5M USD","Con codice valuta"],["Con magnitudine","5B EUR, 100K","K=10^3, M=10^6, B=10^9, T=10^12"]]})]})}function M0e(){return b.jsxs("section",{children:[b.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Variabili"}),b.jsxs("p",{className:"text-slate-400 leading-relaxed mb-4",children:["Le ",b.jsx("strong",{className:"text-slate-200",children:"variabili"})," (",b.jsx("code",{className:"text-amber-300/80",children:"variable"}),") sono grandezze misurabili che cambiano nel tempo. Sono il cuore computazionale di SDL: definiscono serie temporali con punti noti, modelli di crescita, e incertezza."]}),b.jsx(_n,{title:"Sintassi",code:`variable nome_variabile {
  description: "Cosa rappresenta"
  unit: "unita' di misura"

  // Serie temporale (punti noti)
  2025: 100
  2030: 150
  2035: 200
  2040: 250

  // Relazioni causali
  depends_on: assunzione1, assunzione2

  // Modello di crescita (opzionale)
  model: logistic(k=0.12, midpoint=2032, max=300)

  // Incertezza
  uncertainty: normal(15%)

  // Metodo di interpolazione
  interpolation: linear   // linear | step | spline
}`}),b.jsx("h3",{className:"text-lg font-semibold text-white mt-8 mb-3",children:"Serie temporali"}),b.jsxs("p",{className:"text-slate-400 leading-relaxed mb-3",children:["I punti definiti nella variabile sono ",b.jsx("strong",{className:"text-slate-200",children:"ancore"}),". Tra un punto e l'altro, SDL interpola secondo il metodo specificato."]}),b.jsx(Pr,{headers:["Interpolazione","Comportamento"],rows:[["linear","Linea retta tra i punti (default)"],["step","Valore costante fino al punto successivo"],["spline","Curva morbida (spline cubica)"]]}),b.jsx("h3",{className:"text-lg font-semibold text-white mt-8 mb-3",children:"Dipendenze causali"}),b.jsxs("p",{className:"text-slate-400 leading-relaxed mb-3",children:[b.jsx("code",{className:"text-amber-300/80",children:"depends_on"})," dichiara che questa variabile e' influenzata da altre. Il motore usa queste relazioni per costruire il ",b.jsx("strong",{className:"text-slate-200",children:"grafo causale"})," e determinare l'ordine di esecuzione."]}),b.jsx(_n,{code:`variable occupazione_green {
  description: "Lavoratori nel settore green"
  unit: "migliaia"

  2025: 80
  2030: 120
  2040: 220

  depends_on: quota_rinnovabili, budget_formazione
  uncertainty: normal(15%)
  interpolation: spline
}`}),b.jsx(Eg,{children:"Le dipendenze formano un DAG (grafo aciclico diretto). SDL rifiuta scenari con dipendenze circolari."}),b.jsx("h3",{className:"text-lg font-semibold text-white mt-8 mb-3",children:"Modelli di crescita"}),b.jsx(Pr,{headers:["Modello","Parametri","Uso tipico"],rows:[["linear(slope, intercept)","Pendenza, valore iniziale","Crescita/declino costante"],["logistic(k, midpoint, max)","Velocita', punto flesso, tetto","Adozione tecnologica, saturazione"],["exponential(rate, base)","Tasso, valore iniziale","Crescita/decadimento esponenziale"],["sigmoid(k, midpoint)","Ripidita', centro","Transizioni graduali"]]})]})}function j0e(){return b.jsxs("section",{children:[b.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Parametri"}),b.jsxs("p",{className:"text-slate-400 leading-relaxed mb-4",children:["I ",b.jsx("strong",{className:"text-slate-200",children:"parametri"})," (",b.jsx("code",{className:"text-amber-300/80",children:"parameter"}),") sono valori di configurazione che ",b.jsx("em",{children:"non cambiano nel tempo"})," all'interno di una singola simulazione, ma possono variare tra simulazioni diverse. Utili per soglie, budget, costi unitari."]}),b.jsx(_n,{title:"Sintassi",code:`parameter nome_parametro {
  value: 3.5%                      // Valore di default
  range: [2%, 6%]                  // Range esplorabile (opzionale)
  description: "Cosa rappresenta"  // Descrizione
}`}),b.jsx("h3",{className:"text-lg font-semibold text-white mt-8 mb-3",children:"Esempio"}),b.jsx(_n,{code:`parameter budget_formazione {
  value: 3B EUR
  range: [1B EUR, 8B EUR]
  description: "Budget annuo per riqualificazione professionale"
}

parameter costo_per_lavoratore {
  value: 15000 EUR
  description: "Costo medio per riqualificare un lavoratore"
}

parameter tasso_sconto {
  value: 3.5%
  range: [2%, 6%]
  description: "Tasso di sconto sociale per analisi costi-benefici"
}`}),b.jsxs(Eg,{children:[b.jsx("strong",{children:"Differenza tra assunzione e parametro:"})," le assunzioni rappresentano condizioni esterne ",b.jsx("em",{children:"incerte"})," (con distribuzione di probabilita'). I parametri sono scelte",b.jsx("em",{children:"configurabili"})," dall'utente (con range discreto)."]})]})}function Q0e(){return b.jsxs("section",{children:[b.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Branches (scenari alternativi)"}),b.jsxs("p",{className:"text-slate-400 leading-relaxed mb-4",children:["Un ",b.jsx("strong",{className:"text-slate-200",children:"branch"}),` e' una biforcazione condizionale: quando una condizione viene soddisfatta durante la simulazione, il motore "forka" il run e continua sia lungo il percorso base sia lungo quello alternativo.`]}),b.jsx(_n,{title:"Sintassi",code:`branch "Nome del branch" when condizione {
  probability: 0.15    // Probabilita' di attivazione (0-1)

  // Override di variabili nel ramo alternativo
  variable nome_variabile {
    2030: nuovo_valore
    2035: altro_valore
    uncertainty: normal(20%)
  }
}`}),b.jsx("h3",{className:"text-lg font-semibold text-white mt-8 mb-3",children:"Come funzionano"}),b.jsx("p",{className:"text-slate-400 leading-relaxed mb-3",children:"A ogni passo temporale della simulazione:"}),b.jsxs("ol",{className:"list-decimal list-inside text-slate-400 space-y-2 ml-2 text-[13px] leading-relaxed",children:[b.jsxs("li",{children:["Il motore valuta la condizione ",b.jsx("code",{className:"text-amber-300/80",children:"when"})," con i valori correnti"]}),b.jsxs("li",{children:["Se la condizione e' vera ",b.jsx("strong",{className:"text-slate-200",children:"e"})," un sorteggio casuale ","<"," ",b.jsx("code",{className:"text-amber-300/80",children:"probability"}),":",b.jsxs("ul",{className:"list-disc list-inside ml-4 mt-1 space-y-1",children:[b.jsx("li",{children:"Il run viene biforcato"}),b.jsx("li",{children:"Le variabili del branch sovrascrivono quelle base"}),b.jsx("li",{children:"La simulazione prosegue con i parametri modificati"})]})]}),b.jsx("li",{children:"I risultati finali aggregano tutti i branches, pesati per probabilita'"})]}),b.jsx("h3",{className:"text-lg font-semibold text-white mt-8 mb-3",children:"Esempio con piu' branches"}),b.jsx(_n,{code:`branch "Crisi Energetica" when prezzo_gas > 80 {
  probability: 0.15

  variable costo_energia {
    2030: 140
    2035: 115
    uncertainty: normal(25%)
  }
}

branch "Svolta Tecnologica" when capacita_solare > 100 {
  probability: 0.20

  variable costo_energia {
    2035: 60
    2040: 40
    uncertainty: normal(15%)
  }

  variable occupazione_green {
    2035: 300
    2040: 400
    uncertainty: normal(20%)
  }
}

branch "Inversione Politica" when volonta_politica < 0.4 {
  probability: 0.10

  variable quota_rinnovabili {
    2030: 28%
    2035: 35%
    uncertainty: normal(15%)
  }
}`}),b.jsx("h3",{className:"text-lg font-semibold text-white mt-8 mb-3",children:"Operatori nelle condizioni"}),b.jsx(Pr,{headers:["Operatore","Significato","Esempio"],rows:[[">","Maggiore","prezzo > 100"],["<","Minore","tasso < 0.5"],[">=","Maggiore o uguale","quota >= 50%"],["<=","Minore o uguale","spesa <= 10B EUR"],["==","Uguale","stato == 1"],["!=","Diverso","livello != 0"],["and","E logico","a > 10 and b < 5"],["or","O logico","a > 10 or b < 5"]]})]})}function z0e(){return b.jsxs("section",{children:[b.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Impatti"}),b.jsxs("p",{className:"text-slate-400 leading-relaxed mb-4",children:["Gli ",b.jsx("strong",{className:"text-slate-200",children:"impatti"})," (",b.jsx("code",{className:"text-amber-300/80",children:"impact"}),") sono metriche di output derivate dalle variabili. Rappresentano cio' che lo scenario vuole misurare: effetti netti, progressi, gap rispetto a obiettivi."]}),b.jsx(_n,{title:"Sintassi",code:`impact nome_impatto {
  description: "Cosa misura"
  unit: "unita'"
  derives_from: variabile1, variabile2
  formula: variabile1 - variabile2
}`}),b.jsx("h3",{className:"text-lg font-semibold text-white mt-8 mb-3",children:"Esempi"}),b.jsx(_n,{code:`impact occupazione_netta {
  description: "Variazione netta occupazione"
  unit: "migliaia"
  derives_from: occupazione_green, occupazione_fossile
  formula: occupazione_green - occupazione_fossile
}

impact progresso_climatico {
  description: "Riduzione emissioni dal 2025 (%)"
  unit: "%"
  derives_from: emissioni_co2
  formula: (320 - emissioni_co2) / 320 * 100
}

impact risparmio_famiglie {
  description: "Risparmio energetico vs 2025"
  unit: "indice"
  derives_from: costo_energia
  formula: 100 - costo_energia
}`}),b.jsxs(Eg,{children:["La ",b.jsx("code",{children:"formula"})," puo' usare operazioni aritmetiche (",b.jsx("code",{children:"+"}),", ",b.jsx("code",{children:"-"}),", ",b.jsx("code",{children:"*"}),", ",b.jsx("code",{children:"/"}),", ",b.jsx("code",{children:"^"}),") e riferirsi a qualsiasi variabile dichiarata nello scenario."]})]})}function I0e(){return b.jsxs("section",{children:[b.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Simulazione"}),b.jsxs("p",{className:"text-slate-400 leading-relaxed mb-4",children:["Il blocco ",b.jsx("code",{className:"text-amber-300/80",children:"simulate"})," configura il motore Monte Carlo. Il simulatore esegue migliaia di run, campionando ogni volta valori diversi dalle distribuzioni di incertezza, e produce distribuzioni di probabilita' per ogni variabile e impatto."]}),b.jsx(_n,{title:"Sintassi",code:`simulate {
  runs: 2000              // Numero di simulazioni
  method: monte_carlo     // Metodo di campionamento
  seed: 42                // Seed per riproducibilita'
  output: distribution    // Formato output
  percentiles: [5, 25, 50, 75, 95]  // Percentili da calcolare
  convergence: 0.01       // Soglia di convergenza
  timeout: 30s            // Timeout massimo
}`}),b.jsx("h3",{className:"text-lg font-semibold text-white mt-8 mb-3",children:"Parametri"}),b.jsx(Pr,{headers:["Campo","Default","Descrizione"],rows:[["runs","1000","Numero di simulazioni. Piu' run = risultati piu' stabili"],["method","monte_carlo","Metodo di campionamento"],["seed","casuale","Seed per riproducibilita' (stesso seed = stessi risultati)"],["output","distribution","Formato output: distribution, percentiles, summary, full"],["percentiles","[5,25,50,75,95]","Quali percentili calcolare"],["convergence","0.01","Stop anticipato se i risultati si stabilizzano (1%)"],["timeout","30s","Tempo massimo di simulazione"]]}),b.jsx("h3",{className:"text-lg font-semibold text-white mt-8 mb-3",children:"Metodi di campionamento"}),b.jsx(Pr,{headers:["Metodo","Descrizione","Quando usarlo"],rows:[["monte_carlo","Campionamento casuale puro","Uso generale (default)"],["latin_hypercube","Campionamento stratificato","Migliore copertura con meno run"],["sobol","Sequenze quasi-casuali","Analisi di sensitivita'"]]}),b.jsx("h3",{className:"text-lg font-semibold text-white mt-8 mb-3",children:"Come leggere i risultati"}),b.jsxs("p",{className:"text-slate-400 leading-relaxed mb-3",children:["I ",b.jsx("strong",{className:"text-slate-200",children:"fan chart"})," mostrano la distribuzione dei risultati:"]}),b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[b.jsxs("div",{className:"bg-slate-900/40 border border-slate-800/60 rounded-lg p-3 text-center",children:[b.jsx("div",{className:"w-12 h-3 rounded-full bg-blue-400/20 mx-auto mb-2"}),b.jsx("p",{className:"text-xs font-semibold text-slate-300",children:"Banda esterna (P5-P95)"}),b.jsx("p",{className:"text-[11px] text-slate-500",children:"90% dei risultati cade qui"})]}),b.jsxs("div",{className:"bg-slate-900/40 border border-slate-800/60 rounded-lg p-3 text-center",children:[b.jsx("div",{className:"w-12 h-3 rounded-full bg-blue-400/40 mx-auto mb-2"}),b.jsx("p",{className:"text-xs font-semibold text-slate-300",children:"Banda interna (P25-P75)"}),b.jsx("p",{className:"text-[11px] text-slate-500",children:"50% dei risultati cade qui"})]}),b.jsxs("div",{className:"bg-slate-900/40 border border-slate-800/60 rounded-lg p-3 text-center",children:[b.jsx("div",{className:"w-12 h-1.5 rounded-full bg-blue-400 mx-auto mb-2 mt-0.5"}),b.jsx("p",{className:"text-xs font-semibold text-slate-300",children:"Linea mediana (P50)"}),b.jsx("p",{className:"text-[11px] text-slate-500",children:"Il risultato piu' probabile"})]})]})]})}function R0e(){return b.jsxs("section",{children:[b.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Distribuzioni di incertezza"}),b.jsxs("p",{className:"text-slate-400 leading-relaxed mb-4",children:["Le distribuzioni sono il modo in cui SDL rappresenta l'",b.jsx("strong",{className:"text-slate-200",children:"incertezza"}),". Ogni assunzione e variabile puo' avere una distribuzione che descrive quanto i valori reali potrebbero deviare dalle stime."]}),b.jsx(Pr,{headers:["Distribuzione","Sintassi","Quando usarla"],rows:[["Normale","normal(15%)","Incertezza simmetrica attorno al valore (piu' comune)"],["Normale (parametrica)","normal(media, deviazione)","Quando conosci media e deviazione standard"],["Uniforme","uniform(min, max)","Probabilita' uguale in tutto il range"],["Beta","beta(alpha, beta)","Valori tra 0 e 1, forma flessibile"],["Triangolare","triangular(min, moda, max)","Quando conosci il valore piu' probabile e i limiti"],["Lognormale","lognormal(mu, sigma)","Valori positivi con asimmetria a destra"]]}),b.jsx("h3",{className:"text-lg font-semibold text-white mt-8 mb-3",children:"Guida alla scelta"}),b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"bg-slate-900/40 border border-slate-800/60 rounded-lg p-4",children:[b.jsx("p",{className:"text-sm font-semibold text-blue-400 mb-1",children:"normal(X%)"}),b.jsxs("p",{className:"text-[12px] text-slate-400",children:[`La scelta piu' comune. "Il valore potrebbe deviare di X% dal previsto". Esempio: `,b.jsx("code",{className:"text-amber-300/80",children:"normal(15%)"})," = potrebbe essere 15% sopra o sotto."]})]}),b.jsxs("div",{className:"bg-slate-900/40 border border-slate-800/60 rounded-lg p-4",children:[b.jsx("p",{className:"text-sm font-semibold text-emerald-400 mb-1",children:"beta(a, b)"}),b.jsxs("p",{className:"text-[12px] text-slate-400",children:["Per valori tra 0 e 1 (probabilita', indici normalizzati).",b.jsx("code",{className:"text-amber-300/80",children:"beta(8, 2)"})," = concentrata verso 1.",b.jsx("code",{className:"text-amber-300/80",children:" beta(2, 8)"})," = concentrata verso 0."]})]}),b.jsxs("div",{className:"bg-slate-900/40 border border-slate-800/60 rounded-lg p-4",children:[b.jsx("p",{className:"text-sm font-semibold text-amber-400 mb-1",children:"uniform(min, max)"}),b.jsxs("p",{className:"text-[12px] text-slate-400",children:["Quando non hai idea di quale valore sia piu' probabile nel range. Esempio: ",b.jsx("code",{className:"text-amber-300/80",children:"uniform(0.5, 1.5)"})," = equiprobabile tra 0.5 e 1.5."]})]}),b.jsxs("div",{className:"bg-slate-900/40 border border-slate-800/60 rounded-lg p-4",children:[b.jsx("p",{className:"text-sm font-semibold text-purple-400 mb-1",children:"triangular(min, moda, max)"}),b.jsxs("p",{className:"text-[12px] text-slate-400",children:["Quando conosci il minimo, il massimo, e il valore piu' probabile. Esempio: ",b.jsx("code",{className:"text-amber-300/80",children:"triangular(10, 25, 60)"})]})]}),b.jsxs("div",{className:"bg-slate-900/40 border border-slate-800/60 rounded-lg p-4",children:[b.jsx("p",{className:"text-sm font-semibold text-red-400 mb-1",children:"lognormal(mu, sigma)"}),b.jsx("p",{className:"text-[12px] text-slate-400",children:'Per valori che non possono essere negativi e tendono ad avere "code" lunghe a destra. Esempio: prezzi, costi, tempi.'})]})]})]})}function D0e(){return b.jsxs("section",{children:[b.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Riferimento rapido"}),b.jsx("p",{className:"text-slate-400 leading-relaxed mb-6",children:"Un riepilogo di tutti i costrutti SDL con la sintassi essenziale."}),b.jsx("h3",{className:"text-lg font-semibold text-white mt-6 mb-3",children:"Parole chiave"}),b.jsx("div",{className:"flex flex-wrap gap-1.5 mb-6",children:["scenario","variable","assumption","parameter","branch","impact","simulate","watch","calibrate","bind","when","and","or","not","depends_on","model","uncertainty","source","confidence","timeframe","resolution","normal","uniform","beta","triangular","lognormal","linear","logistic","exponential","sigmoid","yearly","monthly","weekly","daily","derives_from","formula","interpolation"].map(t=>b.jsx("span",{className:"text-[11px] font-mono bg-slate-800/60 text-amber-300/70 px-2 py-1 rounded-md",children:t},t))}),b.jsx("h3",{className:"text-lg font-semibold text-white mt-6 mb-3",children:"Operatori"}),b.jsx(Pr,{headers:["Categoria","Operatori"],rows:[["Aritmetici","+  -  *  /  ^  %"],["Confronto",">  <  >=  <=  ==  !="],["Logici","and  or  not"],["Assegnazione",":"],["Range","->"],["Deviazione",""]]}),b.jsx("h3",{className:"text-lg font-semibold text-white mt-6 mb-3",children:"Funzioni built-in"}),b.jsx(Pr,{headers:["Funzione","Descrizione"],rows:[["min(a, b)","Minimo tra due valori"],["max(a, b)","Massimo tra due valori"],["clamp(val, lo, hi)","Vincola il valore nel range"],["abs(x)","Valore assoluto"],["sqrt(x)","Radice quadrata"],["log(x)","Logaritmo naturale"],["pow(base, exp)","Esponenziazione"],["round(x, dec)","Arrotondamento a N decimali"],["sum(array)","Somma degli elementi"],["avg(array)","Media degli elementi"],["cumulative(serie)","Totale cumulativo di una serie"],["delta(serie)","Variazione anno su anno"],["growth_rate(serie)","Tasso di crescita anno su anno"]]}),b.jsx("h3",{className:"text-lg font-semibold text-white mt-6 mb-3",children:"Suffissi di magnitudine"}),b.jsx(Pr,{headers:["Suffisso","Valore","Esempio"],rows:[["K","10^3 (mille)","100K = 100.000"],["M","10^6 (milione)","5M EUR = 5.000.000 EUR"],["B","10^9 (miliardo)","3B EUR = 3.000.000.000 EUR"],["T","10^12 (trilione)","1T = 1.000.000.000.000"]]}),b.jsx("h3",{className:"text-lg font-semibold text-white mt-6 mb-3",children:"Valute supportate"}),b.jsx("div",{className:"flex flex-wrap gap-2",children:["EUR","USD","GBP","CHF","JPY","CNY"].map(t=>b.jsx("span",{className:"text-xs font-mono bg-slate-800/60 text-slate-300 px-3 py-1.5 rounded-lg",children:t},t))}),b.jsx("h3",{className:"text-lg font-semibold text-white mt-8 mb-3",children:"Schema completo"}),b.jsx(_n,{title:"Scenario completo",code:`scenario "Nome" {
  timeframe: 2025 -> 2040
  resolution: yearly
  confidence: 0.6
  author: "Autore"
  version: "1.0"
  description: "Descrizione"
  tags: ["tag1", "tag2"]

  assumption nome {
    value: 100
    source: "Fonte"
    confidence: 0.7
    uncertainty: normal(20%)
  }

  parameter nome {
    value: 50
    range: [10, 100]
    description: "Descrizione"
  }

  variable nome {
    description: "Descrizione"
    unit: "unita'"
    2025: 100
    2030: 150
    2040: 200
    depends_on: assunzione1
    uncertainty: normal(15%)
    interpolation: linear
  }

  branch "Alternativa" when condizione {
    probability: 0.15
    variable nome {
      2030: valore_alternativo
      uncertainty: normal(20%)
    }
  }

  impact nome {
    description: "Descrizione"
    unit: "unita'"
    derives_from: var1, var2
    formula: var1 - var2
  }

  simulate {
    runs: 2000
    method: monte_carlo
    seed: 42
    output: distribution
    percentiles: [5, 25, 50, 75, 95]
  }
}`})]})}const N0e={panoramica:C0e,struttura:E0e,assunzioni:T0e,variabili:M0e,parametri:j0e,branches:Q0e,impatti:z0e,simulazione:I0e,distribuzioni:R0e,riferimento:D0e};function L0e({initialSection:t}){const[e,n]=D.useState(t??"panoramica"),r=D.useRef(null);D.useEffect(()=>{t&&n(t)},[t]),D.useEffect(()=>{var c;(c=r.current)==null||c.scrollTo(0,0)},[e]);const i=Fi.findIndex(c=>c.id===e),a=i>0?Fi[i-1]:null,o=i<Fi.length-1?Fi[i+1]:null,s=N0e[e],l=Fi.find(c=>c.id===e);return b.jsxs("div",{className:"min-h-full animate-fade-in",children:[b.jsxs("header",{className:"relative overflow-hidden border-b border-slate-800",children:[b.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-amber-600/5 via-transparent to-orange-600/5"}),b.jsxs("div",{className:"relative max-w-full px-6 lg:px-8 py-8",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[b.jsx("div",{className:"w-11 h-11 rounded-xl flex items-center justify-center text-2xl bg-amber-500/10",children:""}),b.jsx("div",{children:b.jsx("span",{className:"text-[10px] uppercase tracking-widest font-medium px-2 py-0.5 rounded-full text-amber-400 bg-amber-400/10",children:"Guida"})})]}),b.jsx("h1",{className:"text-2xl md:text-3xl font-extrabold text-white leading-tight mb-2",children:"Guida SDL"}),b.jsx("p",{className:"text-sm text-slate-400 max-w-2xl leading-relaxed mb-4",children:"Impara a scrivere scenari in SDL: dalla struttura base fino ai branches e alle simulazioni Monte Carlo."}),b.jsx("div",{className:"flex flex-wrap gap-1.5",children:Fi.map(c=>b.jsxs("button",{onClick:()=>n(c.id),className:`
                  flex items-center gap-1.5 px-3 py-1.5 text-[11px] font-medium rounded-lg transition-all
                  ${e===c.id?"bg-amber-500/15 text-amber-300 border border-amber-500/20":"text-slate-500 hover:text-slate-300 hover:bg-slate-800/60 border border-transparent"}
                `,children:[b.jsx("span",{children:c.icon}),b.jsx("span",{children:c.label})]},c.id))})]})]}),b.jsxs("div",{ref:r,className:"max-w-4xl mx-auto px-6 lg:px-8 py-8",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-6 text-[11px] text-slate-600",children:[b.jsx("span",{children:"Guida SDL"}),b.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),b.jsxs("span",{className:"text-amber-400/60",children:[l.icon," ",l.label]})]}),b.jsx(s,{}),b.jsxs("div",{className:"flex items-center justify-between mt-12 pt-6 border-t border-slate-800/60",children:[a?b.jsxs("button",{onClick:()=>n(a.id),className:"flex items-center gap-2 text-sm text-slate-400 hover:text-white transition-colors group",children:[b.jsx("svg",{className:"w-4 h-4 text-slate-600 group-hover:text-slate-400 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),b.jsxs("div",{className:"text-left",children:[b.jsx("p",{className:"text-[10px] text-slate-600",children:"Precedente"}),b.jsxs("p",{className:"font-medium",children:[a.icon," ",a.label]})]})]}):b.jsx("div",{}),o?b.jsxs("button",{onClick:()=>n(o.id),className:"flex items-center gap-2 text-sm text-slate-400 hover:text-white transition-colors group",children:[b.jsxs("div",{className:"text-right",children:[b.jsx("p",{className:"text-[10px] text-slate-600",children:"Successiva"}),b.jsxs("p",{className:"font-medium",children:[o.icon," ",o.label]})]}),b.jsx("svg",{className:"w-4 h-4 text-slate-600 group-hover:text-slate-400 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}):b.jsx("div",{})]})]})]})}const B0e=D.lazy(()=>OR(()=>import("./CausalGraph-Bv6fX1_R.js"),__vite__mapDeps([0,1])));function Z0e(t,e,n){const r=n==="impact"?t.impacts.get(e):t.variables.get(e);return r?r.timeseries.map(i=>{const a=i.distribution.percentiles,o=a.get(5)??i.distribution.mean-2*i.distribution.std,s=a.get(25)??i.distribution.mean-.674*i.distribution.std,l=a.get(50)??i.distribution.mean,c=a.get(75)??i.distribution.mean+.674*i.distribution.std,u=a.get(95)??i.distribution.mean+2*i.distribution.std;return{year:i.date.getFullYear(),base:o,outerLower:s-o,innerLower:l-s,innerUpper:c-l,outerUpper:u-c,p50:l}}):[]}function W0e(t,e,n){const r=n==="impact"?t.impacts.get(e):t.variables.get(e);if(!r||r.timeseries.length===0)return null;const i=r.timeseries[r.timeseries.length-1];return i.distribution.percentiles.get(50)??i.distribution.mean}function jb(t){return Math.abs(t)>=1e9?`${(t/1e9).toFixed(0)}B`:Math.abs(t)>=1e6?`${(t/1e6).toFixed(0)}M`:Math.abs(t)>=1e4?`${(t/1e3).toFixed(0)}K`:Math.abs(t)>=1e3?`${(t/1e3).toFixed(1)}K`:Math.abs(t)<.01&&t!==0?t.toExponential(1):Math.abs(t)<1?t.toFixed(2):t.toFixed(1)}function X0e({data:t,display:e}){if(!t||t.length===0)return null;const n=`g-${e.id}`;return b.jsxs("div",{className:"bg-slate-900/60 border border-slate-800 rounded-2xl p-5 animate-fade-in",children:[b.jsxs("div",{className:"flex items-center gap-2.5 mb-4",children:[b.jsx("span",{className:"text-lg","aria-hidden":!0,children:e.icon}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-semibold text-slate-200",children:e.label}),b.jsx("p",{className:"text-[11px] text-slate-500",children:e.description})]}),b.jsx("span",{className:"ml-auto text-[10px] uppercase tracking-wider text-slate-600 font-medium",children:e.unit})]}),b.jsx(eT,{width:"100%",height:210,children:b.jsxs(Oj,{data:t,margin:{top:5,right:10,left:0,bottom:5},children:[b.jsxs("defs",{children:[b.jsxs("linearGradient",{id:`${n}-o`,x1:"0",y1:"0",x2:"0",y2:"1",children:[b.jsx("stop",{offset:"0%",stopColor:e.color,stopOpacity:.1}),b.jsx("stop",{offset:"100%",stopColor:e.color,stopOpacity:.1})]}),b.jsxs("linearGradient",{id:`${n}-i`,x1:"0",y1:"0",x2:"0",y2:"1",children:[b.jsx("stop",{offset:"0%",stopColor:e.color,stopOpacity:.22}),b.jsx("stop",{offset:"100%",stopColor:e.color,stopOpacity:.22})]})]}),b.jsx(Qx,{strokeDasharray:"3 3",stroke:"rgb(30,41,59)"}),b.jsx(Of,{dataKey:"year",tick:{fontSize:11,fill:"rgb(100,116,139)"},axisLine:{stroke:"rgb(51,65,85)"},tickLine:!1}),b.jsx(bf,{tick:{fontSize:11,fill:"rgb(100,116,139)"},axisLine:{stroke:"rgb(51,65,85)"},tickLine:!1,tickFormatter:jb,width:50}),b.jsx(gr,{contentStyle:{backgroundColor:"rgb(15,23,42)",border:"1px solid rgb(51,65,85)",borderRadius:"12px",fontSize:"12px",color:"rgb(203,213,225)",boxShadow:"0 8px 24px rgba(0,0,0,0.4)"},formatter:(r,i)=>i==="p50"?[jb(r),"Mediana"]:[null,null],labelFormatter:r=>`Anno ${r}`,labelStyle:{color:"rgb(148,163,184)",fontWeight:600}}),b.jsx(It,{type:"monotone",dataKey:"base",stackId:"fan",fill:"transparent",stroke:"none"}),b.jsx(It,{type:"monotone",dataKey:"outerLower",stackId:"fan",fill:`url(#${n}-o)`,stroke:"none"}),b.jsx(It,{type:"monotone",dataKey:"innerLower",stackId:"fan",fill:`url(#${n}-i)`,stroke:"none"}),b.jsx(It,{type:"monotone",dataKey:"innerUpper",stackId:"fan",fill:`url(#${n}-i)`,stroke:"none"}),b.jsx(It,{type:"monotone",dataKey:"outerUpper",stackId:"fan",fill:`url(#${n}-o)`,stroke:"none"}),b.jsx(Tl,{type:"monotone",dataKey:"p50",stroke:e.color,strokeWidth:2.5,dot:!1,activeDot:{r:5,fill:e.color,stroke:"white",strokeWidth:2}})]})}),b.jsxs("div",{className:"flex items-center justify-center gap-6 mt-2 text-[10px] text-slate-600",children:[b.jsxs("span",{className:"flex items-center gap-1.5",children:[b.jsx("span",{className:"w-6 h-1.5 rounded-full",style:{backgroundColor:e.color,opacity:.2}}),"90% (P5-P95)"]}),b.jsxs("span",{className:"flex items-center gap-1.5",children:[b.jsx("span",{className:"w-6 h-1.5 rounded-full",style:{backgroundColor:e.color,opacity:.4}}),"50% (P25-P75)"]}),b.jsxs("span",{className:"flex items-center gap-1.5",children:[b.jsx("span",{className:"w-6 h-0.5 rounded-full",style:{backgroundColor:e.color}}),"Mediana"]})]})]})}function F0e({slider:t,value:e,onChange:n}){const r=e===t.default;return b.jsxs("div",{className:"bg-slate-900/60 border border-slate-800 rounded-xl p-4 hover:border-slate-700 transition-colors",children:[b.jsxs("div",{className:"flex items-baseline justify-between mb-1",children:[b.jsx("label",{className:"text-sm font-medium text-slate-200",children:t.label}),b.jsxs("div",{className:"flex items-baseline gap-2",children:[b.jsx("span",{className:"text-lg font-bold text-white tabular-nums",children:t.format(e)}),!r&&b.jsx("button",{onClick:()=>n(t.default),className:"text-[10px] text-blue-400 hover:text-blue-300",children:"reset"})]})]}),b.jsx("p",{className:"text-[11px] text-slate-500 mb-3 leading-relaxed",children:t.description}),b.jsxs("div",{className:"relative",children:[b.jsx("input",{type:"range",min:t.min,max:t.max,step:t.step,value:e,onChange:i=>n(parseFloat(i.target.value)),className:"w-full cursor-pointer"}),b.jsxs("div",{className:"flex justify-between mt-1 text-[10px] text-slate-600",children:[b.jsx("span",{children:t.format(t.min)}),b.jsx("span",{children:t.format(t.max)})]}),!r&&b.jsx("div",{className:"absolute top-0 w-0.5 h-[6px] bg-slate-500 rounded-full pointer-events-none",style:{left:`${(t.default-t.min)/(t.max-t.min)*100}%`}})]}),b.jsxs("div",{className:"mt-2 text-[10px] text-slate-600 italic",children:["Fonte: ",t.source]})]})}function V0e({category:t,className:e=""}){const n={tecnologia:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 3v2m6-2v2M9 19v2m6-2v2M3 9h2m14 0h2M3 15h2m14 0h2M7 7h10v10H7z"}),economia:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"}),ambiente:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 3c4.97 0 9 4.03 9 9a9 9 0 01-9 9m0-18a9 9 0 00-9 9 9 9 0 009 9m0-18v18m0-9C9 12 6.5 9 6.5 6S9 3 12 3m0 9c3 0 5.5-3 5.5-6S15 3 12 3"}),societa:b.jsx(b.Fragment,{children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),politica:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})};return b.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",width:"16",height:"16",children:n[t]})}function U0e({mode:t,selectedId:e,editorTemplateId:n,guideSectionId:r,onSelect:i,onEditorSelect:a,onGuideSelect:o,isOpen:s,onClose:l}){const[c,u]=D.useState(new Set),[f,h]=D.useState(!1),[d,p]=D.useState(!1),m=D.useMemo(()=>{const O=new Map;for(const w of jp){const $=O.get(w.meta.category)??[];$.push(w),O.set(w.meta.category,$)}return O},[]),v=["tecnologia","economia","ambiente","societa","politica"],g=O=>{u(w=>{const $=new Set(w);return $.has(O)?$.delete(O):$.add(O),$})},y=O=>{i(O),l()},x=O=>{a(O),l()},_=O=>{o(O),l()};return b.jsxs(b.Fragment,{children:[s&&b.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden animate-fade-in",onClick:l}),b.jsxs("aside",{className:`
          fixed top-0 left-0 z-50 h-full w-[280px] bg-slate-950 border-r border-slate-800
          flex flex-col shrink-0 overflow-hidden
          transition-transform duration-300 ease-in-out
          md:relative md:translate-x-0 md:z-0 md:h-full
          ${s?"translate-x-0":"-translate-x-full"}
        `,children:[b.jsx("div",{className:"shrink-0 px-5 pt-6 pb-4 border-b border-slate-800/60",children:b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("img",{src:"/segno_logo_white.png",alt:"Segno",className:"w-9 h-9 object-contain"}),b.jsxs("div",{children:[b.jsx("h1",{className:"text-sm font-bold text-white leading-tight",children:"Segno"}),b.jsx("p",{className:"text-[10px] text-slate-500",children:"SDL Citizen Lab"})]}),b.jsx("button",{onClick:l,className:"ml-auto md:hidden p-1.5 rounded-lg text-slate-500 hover:text-slate-300 hover:bg-slate-800 transition-colors","aria-label":"Chiudi menu",children:b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),b.jsxs("nav",{className:"flex-1 overflow-y-auto py-4 px-3 sidebar-scroll",children:[b.jsxs("div",{className:"flex items-center gap-2 px-2 mb-3",children:[b.jsx("svg",{className:"w-4 h-4 text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),b.jsx("span",{className:"text-[11px] font-semibold uppercase tracking-widest text-slate-500",children:"Demo"}),b.jsx("span",{className:"ml-auto text-[10px] text-slate-700 bg-slate-800/60 px-1.5 py-0.5 rounded-full",children:jp.length})]}),b.jsx("div",{className:"space-y-1",children:v.map(O=>{const w=m.get(O);if(!w||w.length===0)return null;const $=c.has(O),k=QO[O];return b.jsxs("div",{children:[b.jsxs("button",{onClick:()=>g(O),className:"w-full flex items-center gap-2.5 px-2.5 py-2 rounded-lg text-left hover:bg-slate-800/40 transition-colors group",children:[b.jsx("svg",{className:`w-3 h-3 text-slate-600 transition-transform duration-200 ${$?"rotate-90":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),b.jsx(V0e,{category:O,className:"text-slate-500 group-hover:text-slate-400 transition-colors"}),b.jsx("span",{className:"text-xs font-semibold text-slate-400 group-hover:text-slate-300 transition-colors",children:Sj[O]}),b.jsx("span",{className:"ml-auto text-[10px] font-medium px-1.5 py-0.5 rounded-full",style:{color:k,backgroundColor:`${k}15`},children:w.length})]}),$&&b.jsx("div",{className:"ml-4 pl-3 border-l border-slate-800/60 space-y-0.5 mt-0.5 mb-1 animate-slide-down",children:w.map(P=>{const T=t==="demo"&&e===P.meta.id;return b.jsxs("button",{onClick:()=>y(P.meta.id),className:`
                              w-full flex items-center gap-2.5 px-2.5 py-2 rounded-lg text-left transition-all duration-150
                              ${T?"bg-blue-500/10 border border-blue-500/20 text-blue-300":"text-slate-500 hover:text-slate-300 hover:bg-slate-800/40 border border-transparent"}
                            `,children:[b.jsx("span",{className:"text-base shrink-0",children:P.meta.icon}),b.jsxs("div",{className:"min-w-0 flex-1",children:[b.jsx("p",{className:`text-[12px] font-medium leading-tight truncate ${T?"text-blue-300":"text-slate-300"}`,children:P.meta.title}),b.jsx("p",{className:"text-[10px] text-slate-600 truncate mt-0.5",children:P.meta.period})]}),T&&b.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400 shrink-0 animate-pulse"})]},P.meta.id)})})]},O)})}),b.jsx("div",{className:"my-5 border-t border-slate-800/60"}),b.jsxs("div",{className:"flex items-center gap-2 px-2 mb-3",children:[b.jsx("svg",{className:"w-4 h-4 text-emerald-500/60",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),b.jsx("span",{className:"text-[11px] font-semibold uppercase tracking-widest text-slate-500",children:"Editor"}),b.jsx("span",{className:"ml-auto text-[10px] text-emerald-500/60 bg-emerald-500/10 px-1.5 py-0.5 rounded-full",children:"new"})]}),b.jsxs("div",{className:"space-y-0.5",children:[b.jsxs("button",{onClick:()=>h(!f),className:"w-full flex items-center gap-2.5 px-2.5 py-2 rounded-lg text-left hover:bg-slate-800/40 transition-colors group",children:[b.jsx("svg",{className:`w-3 h-3 text-slate-600 transition-transform duration-200 ${f?"rotate-90":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),b.jsx("svg",{className:"w-4 h-4 text-emerald-400/60 group-hover:text-emerald-400 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})}),b.jsx("span",{className:"text-xs font-semibold text-slate-400 group-hover:text-slate-300 transition-colors",children:"Template"}),b.jsx("span",{className:"ml-auto text-[10px] font-medium px-1.5 py-0.5 rounded-full text-emerald-400",style:{backgroundColor:"rgba(16,185,129,0.08)"},children:Wu.length})]}),f&&b.jsx("div",{className:"ml-4 pl-3 border-l border-emerald-800/30 space-y-0.5 mt-0.5 mb-1 animate-slide-down",children:Wu.map(O=>{const w=t==="editor"&&n===O.id;return b.jsxs("button",{onClick:()=>x(O.id),className:`
                        w-full flex items-center gap-2.5 px-2.5 py-2 rounded-lg text-left transition-all duration-150
                        ${w?"bg-emerald-500/10 border border-emerald-500/20 text-emerald-300":"text-slate-500 hover:text-slate-300 hover:bg-slate-800/40 border border-transparent"}
                      `,children:[b.jsx("span",{className:"text-base shrink-0",children:O.icon}),b.jsxs("div",{className:"min-w-0 flex-1",children:[b.jsx("p",{className:`text-[12px] font-medium leading-tight truncate ${w?"text-emerald-300":"text-slate-300"}`,children:O.name}),b.jsx("p",{className:"text-[10px] text-slate-600 truncate mt-0.5",children:O.description})]}),w&&b.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400 shrink-0 animate-pulse"})]},O.id)})})]}),b.jsx("div",{className:"my-5 border-t border-slate-800/60"}),b.jsxs("div",{className:"flex items-center gap-2 px-2 mb-3",children:[b.jsx("svg",{className:"w-4 h-4 text-amber-500/60",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),b.jsx("span",{className:"text-[11px] font-semibold uppercase tracking-widest text-slate-500",children:"Guida"})]}),b.jsxs("div",{className:"space-y-0.5",children:[b.jsxs("button",{onClick:()=>p(!d),className:"w-full flex items-center gap-2.5 px-2.5 py-2 rounded-lg text-left hover:bg-slate-800/40 transition-colors group",children:[b.jsx("svg",{className:`w-3 h-3 text-slate-600 transition-transform duration-200 ${d?"rotate-90":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),b.jsx("svg",{className:"w-4 h-4 text-amber-400/60 group-hover:text-amber-400 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),b.jsx("span",{className:"text-xs font-semibold text-slate-400 group-hover:text-slate-300 transition-colors",children:"Sezioni"}),b.jsx("span",{className:"ml-auto text-[10px] font-medium px-1.5 py-0.5 rounded-full text-amber-400",style:{backgroundColor:"rgba(245,158,11,0.08)"},children:Fi.length})]}),d&&b.jsx("div",{className:"ml-4 pl-3 border-l border-amber-800/20 space-y-0.5 mt-0.5 mb-1 animate-slide-down",children:Fi.map(O=>{const w=t==="guide"&&r===O.id;return b.jsxs("button",{onClick:()=>_(O.id),className:`
                        w-full flex items-center gap-2.5 px-2.5 py-2 rounded-lg text-left transition-all duration-150
                        ${w?"bg-amber-500/10 border border-amber-500/20 text-amber-300":"text-slate-500 hover:text-slate-300 hover:bg-slate-800/40 border border-transparent"}
                      `,children:[b.jsx("span",{className:"text-sm shrink-0",children:O.icon}),b.jsx("p",{className:`text-[12px] font-medium leading-tight truncate ${w?"text-amber-300":"text-slate-300"}`,children:O.label}),w&&b.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-amber-400 shrink-0 animate-pulse ml-auto"})]},O.id)})})]})]}),b.jsxs("div",{className:"shrink-0 px-5 py-4 border-t border-slate-800/60",children:[b.jsxs("p",{className:"text-[10px] text-slate-600 leading-relaxed",children:["Creato da ",b.jsx("span",{className:"text-slate-500",children:"Relatronica"})]}),b.jsx("p",{className:"text-[10px] text-slate-700 mt-0.5",children:"GPL-3.0 License"})]})]})]})}function q0e({onSelect:t}){const e=jp.slice(0,4);return b.jsxs("div",{className:"min-h-full flex flex-col",children:[b.jsx("div",{className:"flex-1 flex items-center justify-center px-6 py-16",children:b.jsxs("div",{className:"max-w-3xl text-center animate-fade-in",children:[b.jsx("div",{className:"flex items-center justify-center gap-3 mb-8",children:b.jsx("img",{src:"/segno_logo_white.png",alt:"Segno",className:"w-16 h-16 object-contain"})}),b.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-white leading-tight mb-1",children:"Segno"}),b.jsx("p",{className:"text-lg md:text-xl font-semibold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-violet-400 mb-4",children:"SDL Citizen Lab"}),b.jsx("p",{className:"text-lg text-slate-400 max-w-xl mx-auto leading-relaxed mb-2",children:"Esplora il futuro con simulazioni trasparenti e verificabili."}),b.jsx("p",{className:"text-sm text-slate-500 max-w-lg mx-auto mb-12",children:"Ogni scenario e' basato su dati reali, fonti citate, e 2.000 simulazioni Monte Carlo. Modifica le assunzioni, verifica tutto. Niente e' nascosto."}),b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 max-w-2xl mx-auto",children:e.map(n=>b.jsxs("button",{onClick:()=>t(n.meta.id),className:"group text-left bg-slate-900/60 border border-slate-800 rounded-xl p-4 hover:border-slate-600 hover:bg-slate-900/80 transition-all hover:shadow-lg hover:shadow-black/20 focus:outline-none focus:ring-2 focus:ring-blue-500/40",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[b.jsx("span",{className:"text-2xl",children:n.meta.icon}),b.jsxs("div",{className:"min-w-0",children:[b.jsx("p",{className:"text-sm font-semibold text-white group-hover:text-blue-300 transition-colors truncate",children:n.meta.title}),b.jsx("p",{className:"text-[10px] text-slate-600",children:n.meta.period})]})]}),b.jsx("p",{className:"text-[11px] text-slate-500 leading-relaxed line-clamp-2",children:n.meta.subtitle})]},n.meta.id))}),b.jsxs("p",{className:"mt-10 text-[11px] text-slate-600 flex items-center justify-center gap-2",children:[b.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"})}),"Seleziona uno scenario dalla sidebar per iniziare"]})]})}),b.jsx("footer",{className:"shrink-0 border-t border-slate-800/40 px-6 py-6",children:b.jsxs("div",{className:"max-w-3xl mx-auto flex flex-col sm:flex-row items-center justify-between gap-3 text-[11px] text-slate-600",children:[b.jsx("p",{children:"Segno  SDL Citizen Lab"}),b.jsx("p",{children:"Simulazioni eseguite nel tuo browser. Nessun dato inviato a terzi."})]})})]})}function Y0e({scenario:t}){const[e,n]=D.useState(()=>{const $={};for(const k of t.sliders)$[k.id]=k.default;return $}),[r,i]=D.useState(null),[a,o]=D.useState(!1),[s,l]=D.useState(!1),[c,u]=D.useState(!1),[f,h]=D.useState(!1),[d,p]=D.useState(0),[m,v]=D.useState(0),g=D.useRef(),y=D.useCallback($=>{const k=t.generateSDL($),{ast:P}=bj(k);P&&(o(!0),setTimeout(()=>{try{const T=wj(P,{runs:2e3,seed:42});i(T),p(T.elapsedMs),v(T.runs)}catch(T){console.error(T)}finally{o(!1)}},30))},[t]);D.useEffect(()=>{y(e)},[]);const x=D.useCallback(($,k)=>{n(P=>{const T={...P,[$]:k};return clearTimeout(g.current),g.current=setTimeout(()=>y(T),350),T})},[y]),_=D.useCallback(()=>{const $={};for(const k of t.sliders)$[k.id]=k.default;n($),y($)},[t,y]),O=t.generateSDL(e),{meta:w}=t;return b.jsxs("div",{className:"min-h-full animate-fade-in",children:[b.jsxs("header",{className:"relative overflow-hidden border-b border-slate-800",children:[b.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/5 via-transparent to-violet-600/5"}),b.jsxs("div",{className:"relative max-w-full px-6 lg:px-8 py-8",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[b.jsx("div",{className:"w-11 h-11 rounded-xl flex items-center justify-center text-2xl",style:{backgroundColor:`${w.color}15`},children:w.icon}),b.jsx("div",{children:b.jsx("span",{className:"text-[10px] uppercase tracking-widest font-medium px-2 py-0.5 rounded-full",style:{color:QO[w.category],backgroundColor:`${QO[w.category]}15`},children:Sj[w.category]})})]}),b.jsx("h1",{className:"text-2xl md:text-3xl font-extrabold text-white leading-tight mb-2",children:w.title}),b.jsx("p",{className:"text-sm text-slate-400 max-w-2xl leading-relaxed mb-4",children:w.description}),b.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-[11px] text-slate-500",children:[b.jsxs("span",{className:"flex items-center gap-1.5 bg-slate-800/60 px-3 py-1.5 rounded-full",children:[b.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400 animate-pulse"}),a?"Simulazione in corso...":`${m.toLocaleString()} simulazioni`]}),b.jsx("span",{className:"bg-slate-800/60 px-3 py-1.5 rounded-full",children:w.period}),d>0&&b.jsxs("span",{className:"bg-slate-800/60 px-3 py-1.5 rounded-full",children:[d,"ms"]}),b.jsx("div",{className:"flex flex-wrap gap-1.5 ml-2",children:w.tags.map($=>b.jsx("span",{className:"text-[10px] bg-slate-800/40 text-slate-600 px-2 py-0.5 rounded-full",children:$},$))})]})]})]}),b.jsxs("main",{className:"px-6 lg:px-8 py-8",children:[b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[b.jsxs("div",{className:"lg:col-span-4 space-y-4",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("h2",{className:"text-lg font-bold text-white",children:"Le tue assunzioni"}),b.jsx("button",{onClick:_,className:"text-[11px] text-slate-500 hover:text-blue-400 transition-colors px-2 py-1 rounded-md hover:bg-slate-800",children:"Ripristina tutto"})]}),t.sliders.map($=>b.jsx(F0e,{slider:$,value:e[$.id],onChange:k=>x($.id,k)},$.id))]}),b.jsxs("div",{className:"lg:col-span-8 space-y-5",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsxs("h2",{className:"text-lg font-bold text-white",children:["Proiezioni ",w.period]}),a&&b.jsxs("div",{className:"flex items-center gap-2 text-xs text-blue-400 animate-pulse-slow",children:[b.jsx("div",{className:"w-3 h-3 border-2 border-blue-400/30 border-t-blue-400 rounded-full animate-spin"}),"Ricalcolo..."]})]}),r&&b.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 mb-2",children:t.variables.map($=>{var j;const k=W0e(r,$.id,$.type);if(k===null)return null;const P=k<0,T=((j=r.timesteps[r.timesteps.length-1])==null?void 0:j.getFullYear())??"";return b.jsxs("div",{className:"bg-slate-900/60 border border-slate-800 rounded-xl p-3 text-center",children:[b.jsx("p",{className:"text-[10px] text-slate-500 uppercase tracking-wider mb-1 truncate",children:$.label}),b.jsxs("p",{className:"text-xl font-bold tabular-nums",style:{color:$.id.includes("netto")||$.id.includes("guadagno")||$.id.includes("riduzione")||$.id.includes("pressione")?P?"#ef4444":"#10b981":$.color},children:[P?"":"+",jb(k)]}),b.jsxs("p",{className:"text-[10px] text-slate-600 mt-0.5",children:[T," ",$.unit]})]},$.id)})}),r?t.variables.map($=>b.jsx(X0e,{data:Z0e(r,$.id,$.type),display:$},$.id)):b.jsx("div",{className:"h-64 flex items-center justify-center",children:b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"w-12 h-12 mx-auto mb-3 border-2 border-blue-500/30 border-t-blue-500 rounded-full animate-spin"}),b.jsx("p",{className:"text-sm text-slate-400",children:"Prima simulazione in corso..."})]})})]})]}),b.jsxs("div",{className:"mt-12 space-y-4",children:[b.jsxs("div",{className:"border border-slate-800 rounded-2xl overflow-hidden",children:[b.jsxs("button",{onClick:()=>u(!c),className:"w-full flex items-center justify-between px-6 py-4 bg-slate-900/40 hover:bg-slate-900/60 transition-colors",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("span",{className:"text-blue-400/70",children:""}),b.jsx("span",{className:"text-sm font-semibold text-slate-300",children:"Grafo causale"}),b.jsx("span",{className:"text-[10px] text-slate-600 bg-slate-800 px-2 py-0.5 rounded-full",children:"interattivo"})]}),b.jsx("svg",{className:`w-4 h-4 text-slate-500 transition-transform ${c?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),c&&b.jsxs("div",{className:"px-2 py-3 bg-slate-950/50 animate-fade-in",children:[b.jsx("p",{className:"text-[11px] text-slate-500 mb-3 px-4",children:"Mappa interattiva delle dipendenze causali tra variabili. Trascina per esplorare, zoom con la rotella."}),b.jsx(D.Suspense,{fallback:b.jsx("div",{className:"h-[500px] flex items-center justify-center",children:b.jsx("div",{className:"w-8 h-8 border-2 border-blue-500/30 border-t-blue-500 rounded-full animate-spin"})}),children:b.jsx(B0e,{sdlSource:O})})]})]}),b.jsxs("div",{className:"border border-slate-800 rounded-2xl overflow-hidden",children:[b.jsxs("button",{onClick:()=>h(!f),className:"w-full flex items-center justify-between px-6 py-4 bg-slate-900/40 hover:bg-slate-900/60 transition-colors",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("span",{className:"text-slate-500",children:""}),b.jsx("span",{className:"text-sm font-semibold text-slate-300",children:"Metodologia e trasparenza"})]}),b.jsx("svg",{className:`w-4 h-4 text-slate-500 transition-transform ${f?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),f&&b.jsxs("div",{className:"px-6 py-5 bg-slate-950/50 text-sm text-slate-400 leading-relaxed space-y-3 animate-fade-in",children:[b.jsxs("p",{children:[b.jsx("strong",{className:"text-slate-300",children:"Simulazione Monte Carlo:"})," Ogni scenario viene simulato 2.000 volte con valori estratti casualmente dalle distribuzioni di incertezza. Il risultato e' una distribuzione di probabilita'."]}),b.jsxs("p",{children:[b.jsx("strong",{className:"text-slate-300",children:"Bande di incertezza:"})," La banda esterna copre il 90% dei risultati (P5-P95). La banda interna il 50% centrale (P25-P75). La linea e' la mediana."]}),b.jsxs("p",{children:[b.jsx("strong",{className:"text-slate-300",children:"Fonti:"})," Ogni assunzione riporta la fonte. I dati provengono da ISTAT, OECD, Eurostat, ENEA, GSE, INPS, e altre fonti istituzionali."]}),b.jsxs("p",{children:[b.jsx("strong",{className:"text-slate-300",children:"Limiti:"})," Questo e' uno strumento esplorativo, non predittivo. Non cattura shock esogeni o dinamiche settoriali specifiche."]}),b.jsxs("p",{children:[b.jsx("strong",{className:"text-slate-300",children:"Privacy:"})," Le simulazioni sono eseguite nel browser. Nessun dato viene inviato a server esterni."]})]})]}),b.jsxs("div",{className:"border border-slate-800 rounded-2xl overflow-hidden",children:[b.jsxs("button",{onClick:()=>l(!s),className:"w-full flex items-center justify-between px-6 py-4 bg-slate-900/40 hover:bg-slate-900/60 transition-colors",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("span",{className:"font-mono text-xs text-blue-400/60",children:"{}"}),b.jsx("span",{className:"text-sm font-semibold text-slate-300",children:"Codice sorgente SDL"}),b.jsx("span",{className:"text-[10px] text-slate-600 bg-slate-800 px-2 py-0.5 rounded-full",children:"verificabile"})]}),b.jsx("svg",{className:`w-4 h-4 text-slate-500 transition-transform ${s?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s&&b.jsxs("div",{className:"px-6 py-5 bg-slate-950/50 animate-fade-in",children:[b.jsx("p",{className:"text-[11px] text-slate-500 mb-3",children:"Codice SDL generato dalle tue assunzioni. Leggibile, verificabile, copiabile."}),b.jsx("pre",{className:"text-xs font-mono text-slate-400 bg-slate-900/80 border border-slate-800 rounded-xl p-4 overflow-x-auto max-h-96 overflow-y-auto leading-relaxed",children:O})]})]})]})]})]})}function G0e(){const[t,e]=D.useState("demo"),[n,r]=D.useState(null),[i,a]=D.useState(null),[o,s]=D.useState(null),[l,c]=D.useState(!1),u=D.useRef(null),f=n?jp.find(m=>m.meta.id===n)??null:null,h=D.useCallback(m=>{var v;e("demo"),r(m),a(null),s(null),c(!1),(v=u.current)==null||v.scrollTo(0,0)},[]),d=D.useCallback(m=>{var v;e("editor"),a(m),r(null),s(null),c(!1),(v=u.current)==null||v.scrollTo(0,0)},[]),p=D.useCallback(m=>{var v;e("guide"),s(m),r(null),a(null),c(!1),(v=u.current)==null||v.scrollTo(0,0)},[]);return b.jsxs("div",{className:"flex h-screen overflow-hidden bg-slate-950 text-slate-100",children:[b.jsx(U0e,{mode:t,selectedId:n,editorTemplateId:i,guideSectionId:o,onSelect:h,onEditorSelect:d,onGuideSelect:p,isOpen:l,onClose:()=>c(!1)}),b.jsxs("div",{ref:u,className:"flex-1 min-w-0 overflow-y-auto",children:[b.jsxs("div",{className:"sticky top-0 z-30 md:hidden bg-slate-950/90 backdrop-blur-md border-b border-slate-800/60 px-4 py-3 flex items-center gap-3",children:[b.jsx("button",{onClick:()=>c(!0),className:"p-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-colors","aria-label":"Apri menu",children:b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("img",{src:"/segno_logo_white.png",alt:"Segno",className:"w-6 h-6 object-contain"}),b.jsx("span",{className:"text-sm font-semibold text-white",children:"Segno"})]}),t==="demo"&&f&&b.jsx("span",{className:"ml-auto text-[11px] text-slate-500 truncate max-w-[40%]",children:f.meta.title}),t==="editor"&&b.jsx("span",{className:"ml-auto text-[11px] text-emerald-400 truncate max-w-[40%]",children:"Editor"}),t==="guide"&&b.jsx("span",{className:"ml-auto text-[11px] text-amber-400 truncate max-w-[40%]",children:"Guida SDL"})]}),t==="guide"&&o?b.jsx(L0e,{initialSection:o},o):t==="editor"&&i?b.jsx(A0e,{initialTemplate:i},i):t==="demo"&&f?b.jsx(Y0e,{scenario:f},f.meta.id):b.jsx(q0e,{onSelect:h})]})]})}dv.createRoot(document.getElementById("root")).render(b.jsx(E.StrictMode,{children:b.jsx(G0e,{})}));export{E as R,g_ as a,Xq as b,yu as c,Me as g,Yd as i,b as j,bj as p,D as r,xj as v};
