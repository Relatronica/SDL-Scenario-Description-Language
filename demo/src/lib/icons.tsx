/**
 * SDL Icon System â€” Maps emoji strings and icon names to Lucide components.
 *
 * Provides a consistent icon set across the entire UI while maintaining
 * backward compatibility with emoji-based `icon:` fields in SDL files.
 */

import {
  Telescope, Building2, Pin, BarChart3, Settings, GitBranch, Target,
  Dices, TrendingUp, TrendingDown, ClipboardList, Lightbulb, FileText,
  Globe, Users, Link2, Microscope, Sun, Coins, Baby, Wind, Hammer,
  Recycle, Cloud, Home, Camera, AlertTriangle, Zap, Eye, Bug, Droplets,
  UserRound, Shield, Car, Bot, Scale, Plug, Check, HardHat, Leaf, Pill,
  Banknote, CircuitBoard, Activity, Gauge, FlaskConical, Waves, Syringe,
  Smartphone, Rocket, Ban, Handshake, Skull, Timer, Flame, Factory,
  Wheat, Swords, UtensilsCrossed, Search, ArrowUp, ArrowDown, Heart,
  Laptop, Flag, Lock, SquareParking, Truck, CreditCard, Landmark, Dna,
  Sparkles, Diamond, CirclePlus, PenLine,
  type LucideIcon,
} from 'lucide-react';

const EMOJI_MAP: Record<string, LucideIcon> = {
  'ğŸ”­': Telescope,
  'ğŸ—': Building2,
  'ğŸ—ï¸': Building2,
  'ğŸ“Œ': Pin,
  'ğŸ“Š': BarChart3,
  'âš™': Settings,
  'âš™ï¸': Settings,
  'ğŸ”€': GitBranch,
  'ğŸ¯': Target,
  'ğŸ²': Dices,
  'ğŸ“ˆ': TrendingUp,
  'ğŸ“‰': TrendingDown,
  'ğŸ“‹': ClipboardList,
  'ğŸ’¡': Lightbulb,
  'ğŸ“„': FileText,
  'ğŸŒ': Globe,
  'ğŸ‘¥': Users,
  'ğŸ”—': Link2,
  'ğŸ”¬': Microscope,
  'â˜€': Sun,
  'â˜€ï¸': Sun,
  'ğŸŒ': Sun,
  'ğŸ’°': Coins,
  'ğŸ‘¶': Baby,
  'ğŸ’¨': Wind,
  'â›': Hammer,
  'â™»': Recycle,
  'â™»ï¸': Recycle,
  'â˜': Cloud,
  'â˜ï¸': Cloud,
  'ğŸ ': Home,
  'ğŸ™': Building2,
  'ğŸ“·': Camera,
  'ğŸ“±': Smartphone,
  'âš ': AlertTriangle,
  'âš ï¸': AlertTriangle,
  'âš¡': Zap,
  'ğŸ‘': Eye,
  'ğŸ‘ï¸': Eye,
  'ğŸ¦ ': Bug,
  'ğŸ’§': Droplets,
  'ğŸ§“': UserRound,
  'ğŸ›¡': Shield,
  'ğŸ›¡ï¸': Shield,
  'ğŸš—': Car,
  'ğŸ¤–': Bot,
  'âš–': Scale,
  'âš–ï¸': Scale,
  'ğŸ”Œ': Plug,
  'âœ“': Check,
  'âœ…': Check,
  'ğŸ‘·': HardHat,
  'ğŸŒ¿': Leaf,
  'ğŸ’Š': Pill,
  'ğŸ’¶': Banknote,
  'ğŸ§ª': FlaskConical,
  'ğŸ’‰': Syringe,
  'ğŸŒŠ': Waves,
  'ğŸš€': Rocket,
  'ğŸš«': Ban,
  'ğŸ¤': Handshake,
  'â˜ ': Skull,
  'â±': Timer,
  'ğŸ”¥': Flame,
  'ğŸ­': Factory,
  'ğŸŒ¾': Wheat,
  'âš”': Swords,
  'ğŸ½': UtensilsCrossed,
  'ğŸ”': Search,
  'â†‘': ArrowUp,
  'â†“': ArrowDown,
  'â†—': TrendingUp,
  'â¤': Heart,
  'â›“': Link2,
  'ğŸ’»': Laptop,
  'ğŸ‡ºğŸ‡¸': Flag,
  'ğŸ”’': Lock,
  'ğŸ‡ªğŸ‡º': Flag,
  'ğŸ…¿': SquareParking,
  'ğŸš›': Truck,
  'ğŸ’³': CreditCard,
  'ğŸ¦': Landmark,
  'ğŸ§¬': Dna,
  'âœ¦': Sparkles,
  'â—ˆ': Diamond,
  'â—†': Diamond,
  'âŠ•': CirclePlus,
};

const NAME_MAP: Record<string, LucideIcon> = {
  'telescope': Telescope,
  'building': Building2,
  'pin': Pin,
  'bar-chart': BarChart3,
  'settings': Settings,
  'git-branch': GitBranch,
  'target': Target,
  'dice': Dices,
  'trending-up': TrendingUp,
  'trending-down': TrendingDown,
  'clipboard-list': ClipboardList,
  'lightbulb': Lightbulb,
  'file-text': FileText,
  'globe': Globe,
  'users': Users,
  'link': Link2,
  'microscope': Microscope,
  'sun': Sun,
  'coins': Coins,
  'baby': Baby,
  'wind': Wind,
  'hammer': Hammer,
  'recycle': Recycle,
  'cloud': Cloud,
  'home': Home,
  'camera': Camera,
  'smartphone': Smartphone,
  'alert-triangle': AlertTriangle,
  'zap': Zap,
  'eye': Eye,
  'bug': Bug,
  'droplets': Droplets,
  'user': UserRound,
  'shield': Shield,
  'car': Car,
  'bot': Bot,
  'scale': Scale,
  'plug': Plug,
  'check': Check,
  'hard-hat': HardHat,
  'leaf': Leaf,
  'pill': Pill,
  'banknote': Banknote,
  'circuit-board': CircuitBoard,
  'activity': Activity,
  'gauge': Gauge,
  'flask': FlaskConical,
  'waves': Waves,
  'syringe': Syringe,
  'rocket': Rocket,
  'ban': Ban,
  'handshake': Handshake,
  'skull': Skull,
  'timer': Timer,
  'flame': Flame,
  'factory': Factory,
  'wheat': Wheat,
  'swords': Swords,
  'utensils': UtensilsCrossed,
  'search': Search,
  'arrow-up': ArrowUp,
  'arrow-down': ArrowDown,
  'heart': Heart,
  'laptop': Laptop,
  'flag': Flag,
  'lock': Lock,
  'square-parking': SquareParking,
  'truck': Truck,
  'credit-card': CreditCard,
  'landmark': Landmark,
  'dna': Dna,
  'sparkles': Sparkles,
  'diamond': Diamond,
  'circle-plus': CirclePlus,
  'pen-line': PenLine,
};

export function resolveIcon(icon: string): LucideIcon {
  return EMOJI_MAP[icon] ?? NAME_MAP[icon] ?? BarChart3;
}

interface SdlIconProps {
  name: string;
  size?: number;
  className?: string;
  strokeWidth?: number;
}

export function SdlIcon({ name, size = 16, className, strokeWidth = 1.5 }: SdlIconProps) {
  const Icon = resolveIcon(name);
  return <Icon size={size} className={className} strokeWidth={strokeWidth} />;
}
